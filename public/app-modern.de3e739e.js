(globalThis.webpackChunkintercom_js=globalThis.webpackChunkintercom_js||[]).push([[3524],{16645:(e,t,n)=>{"use strict";n.d(t,{Q:()=>b,r:()=>f});var i=n(7350),r=n.n(i),s=n(96540),o=n(86923);const a=(0,o.Ay)("div",{target:"e1hi37s22"})({name:"2izk9q",styles:"scroll-margin-top:10px;width:0px;height:0px"}),l=(0,o.Ay)("div",{target:"e1hi37s21"})({name:"1j387c3",styles:"display:flex;flex-direction:column;flex:1;overflow-y:auto;-webkit-overflow-scrolling:touch;outline-offset:-5px;scrollbar-color:rgba(0, 0, 0, 0.2) transparent;&::-webkit-scrollbar{appearance:none;width:5px;}&::-webkit-scrollbar-thumb{background-color:rgba(0, 0, 0, 0.2);border-radius:5px;}&::-webkit-scrollbar-track{background-color:transparent;}"}),c=(0,o.Ay)("div",{target:"e1hi37s20"})({name:"z5atxi",styles:"display:flex;flex-direction:column;flex-grow:1"}),d=(e,t)=>{const[n,i]=(0,s.useState)(0),r=(0,s.useRef)(n);return r.current=n,(0,s.useEffect)((()=>{const n=e.current;if(!n)return;const s=new ResizeObserver((e=>{for(const s of e){var n;const e=null==(n=s.contentBoxSize[0])?void 0:n.blockSize;r.current!==e&&(i(e),r.current=e,t(e))}}));return s.observe(n),()=>{s.disconnect()}}),[e,t]),n};var p=n(83034),u=n(38221),h=n.n(u),g=n(74848);const m=["children","onWheel"];const x=(0,s.createContext)({anchorRef:(0,s.createRef)(),anchor:null,setAnchor:()=>{},canScroll:!1,setCanScroll:()=>{}}),f=()=>(0,s.useContext)(x),v=e=>null===e?"unknown":"bottom"===e.type?"bottom":`item-${e.id}`,y=()=>{const{anchor:e,anchorRef:t}=f();return(0,s.useEffect)((()=>{const n=t.current;if(e&&n){const{type:t,scrollImmediately:i=!0,initialBehavior:r="smooth"}=e;if(i){const e={behavior:r,block:"bottom"===t?"end":"start"};n.scrollIntoView(e)}}}),[e,t]),null===e?null:(0,g.jsx)(a,{ref:t,id:"anchor","data-testid":`anchor-${v(e)}`})},b={Root:({children:e})=>{const[t,n]=(0,s.useState)(null),[i,r]=(0,s.useState)(!1),o=(0,s.useRef)(null);return(0,g.jsx)(x.Provider,{value:{anchorRef:o,anchor:t,setAnchor:n,canScroll:i,setCanScroll:r},children:e})},Content:(0,s.forwardRef)(((e,t)=>{let{children:n,onWheel:i}=e,o=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(-1!==t.indexOf(i))continue;n[i]=e[i]}return n}(e,m);const{anchor:a,setAnchor:u,anchorRef:x,setCanScroll:v}=f(),b=(0,s.useRef)(null),w=(0,s.useRef)(null),j=(0,s.useMemo)((()=>r()((()=>{const e=b.current;e&&((e,t=40)=>e.scrollHeight-e.scrollTop-e.clientHeight<=t)(e)?u({type:"bottom",scrollImmediately:!1}):u(null)}),300,{leading:!0,trailing:!0})),[u]),A=(0,s.useMemo)((()=>h()((()=>{const e=x.current,t=b.current;a&&e&&t&&("bottom"===a.type?t.scrollTo({top:t.scrollHeight,behavior:"smooth"}):e.scrollIntoView({behavior:"smooth",block:"start"}));const n=b.current&&b.current.clientHeight<b.current.scrollHeight;v(!!n)}),100)),[a,x,v]);return d(w,A),d(b,A),(0,g.jsx)(l,Object.assign({},o,{onWheel:e=>{j(),i&&i(e)},onTouchMove:j,ref:(0,p.A)(t,b),children:(0,g.jsxs)(c,{ref:w,children:[n,a&&"bottom"===a.type&&(0,g.jsx)(y,{})]})}))})),Item:({id:e,children:t})=>{const{anchor:n}=f();return(0,g.jsxs)(g.Fragment,{children:[n&&"item"===n.type&&n.id===e&&(0,g.jsx)(y,{}),t]})}}},91067:(e,t,n)=>{"use strict";n.d(t,{X:()=>r,y:()=>o});var i=n(96540);const r=(0,i.createContext)(null);r.displayName="ComposerShouldFocusContext";const s={composerShouldFocus:!0,setComposerShouldFocus:()=>{}},o=()=>{const e=(0,i.useContext)(r);return e||s}},14472:(e,t,n)=>{"use strict";n.d(t,{K:()=>Ce,n:()=>Re});var i=n(86923),r=n(96540);const s=(0,r.createContext)(void 0);s.displayName="ComposerContext";const o=()=>{const e=(0,r.useContext)(s);if(!e)throw new Error("This component needs to be wrapped in a Composer Context");return e},a=(0,r.createContext)(void 0);a.displayName="ComposerPopoverContext";const l=()=>{const e=(0,r.useContext)(a);if(!e)throw new Error("Component needs to be wrapped in Composer PopoverContext");return e};var c=n(40172),d=n(83140),p=n(73669),u=n(49651),h=n(72977),g=n(74848);const m=(0,i.Ay)("div",{target:"e5mgu3j3"})({name:"abjfi6",styles:"align-items:flex-end;display:flex;inset:0 0 0 auto;padding:0 8px 0 7px;position:absolute"}),x=(0,i.Ay)("div",{target:"e5mgu3j2"})("align-items:center;display:flex;gap:16px;padding-bottom:8px;min-height:32px;",h.DL,";"),f=(0,i.Ay)("button",{target:"e5mgu3j1"})("color:",(0,i.w4)("iconMuted"),";cursor:pointer;display:inline-block;position:relative;opacity:0.8;transition:opacity 200ms ease;width:16px;&:hover{opacity:1;}&[data-state='open']{",(({theme:e})=>(0,i.AH)("color:",e.primaryColor,";opacity:1;")),";}&[data-type='upload']{/* @noflip */margin-right:5px;}"),v=(0,i.Ay)(d.A,{target:"e5mgu3j0"})({name:"ucy830",styles:"&:disabled{background-color:rgba(0, 0, 0, 0.1);}align-items:center;border-radius:32px;display:flex;justify-content:center;height:32px;width:32px"}),y=e=>(o(),(0,g.jsx)(m,{children:(0,g.jsx)(x,Object.assign({},e))})),b=e=>{let t=Object.assign({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e),e));const{disabled:n,onSubmit:i,textField:{value:r}}=o(),s=n||""===r.trim();return(0,g.jsx)(v,Object.assign({variant:"primary",className:"intercom-composer-send-button",onClick:()=>{i((0,p.$B)(r))},disabled:s,"aria-disabled":s,"aria-label":(0,u.Tl)("send_a_message")},t,{children:(0,g.jsx)(c._x,{type:"UpIcon"})}))};var w=n(83505),j=n(34743),A=n(8375),k=n(96117);const C=(0,i.Ay)("div",{target:"e1ft9lpm1"})("background-color:",(0,i.w4)("containerBaseNeutral"),";border:solid 1px rgba(0, 0, 0, 0.05);border-radius:12px;box-shadow:0 1px 4px rgba(0, 0, 0, 0.1);width:330px;z-index:",(0,h.fE)(3),";"),S=(0,i.Ay)("span",{target:"e1ft9lpm0"})({name:"hroyy5",styles:"bottom:-12px;left:0;position:absolute;path{filter:drop-shadow(0px 1px 1px rgba(0, 0, 0, 0.1));}"}),T=({children:e,type:t})=>{const{popover:{isTypeOpen:n,closePopover:i}}=o(),{refs:s,floatingStyles:l}=(0,w.we)({strategy:"fixed",placement:"top-end",middleware:[(0,j.cY)(28),(0,j.BN)({padding:20})]});return(0,k.A)([s.floating,s.reference],(0,r.useCallback)((()=>i()),[i]),!n(t)||n("typeaheadEmoji")),(0,g.jsx)(a.Provider,{value:{type:t,refs:s,floatingStyles:l},children:e})},_=e=>{const{popover:{isTypeOpen:t,openPopover:n,closePopover:i}}=o(),{type:r,refs:s}=l();return(0,g.jsx)(f,Object.assign({},e,{onClick:()=>{t(r)?i():n(r)},ref:s.setReference,"data-state":t(r)?"open":"closed"}))},E=({children:e,showArrow:t=!0})=>{const{popover:{isTypeOpen:n,closePopover:i}}=o(),{refs:r,floatingStyles:s,type:a}=l();if(!n(a))return null;return(0,g.jsxs)(C,{"data-testid":"popover-container",ref:r.setFloating,style:s,onKeyDown:e=>(e=>{(0,A.nx)(e)&&(e.stopPropagation(),i())})(e),children:[e,t&&r.reference.current&&(0,g.jsx)(S,{style:(c=r.reference.current,(0,u.Vf)((0,u.JK)())?{right:c.getBoundingClientRect().left-20}:{left:c.getBoundingClientRect().left-20}),children:(0,g.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"white",viewBox:"0 0 16 16",width:16,children:(0,g.jsx)("path",{d:"M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z"})})})]});var c},B=()=>{const{popover:{isTypeOpen:e}}=o(),{type:t}=l();return e(t)?(0,g.jsx)(c.uD,{type:"GifFilledIcon"}):(0,g.jsx)(c.uD,{type:"GifOutlineIcon"})},N=()=>{const{popover:{isTypeOpen:e}}=o(),{type:t}=l();return e(t)?(0,g.jsx)(c.uD,{type:"EmojiFilledIcon"}):(0,g.jsx)(c.uD,{type:"EmojiOutlineIcon"})};var I=n(78910);const z=({insertOnly:e=!1})=>{const{onSubmit:t,textField:{value:n,setValue:i,cursorPosition:r},popover:{isTypeOpen:s,closePopover:a},disabled:l}=o(),c=l||s("typeaheadEmoji");return(0,g.jsxs)(T,{type:"emoji",children:[(0,g.jsx)(_,{title:(0,u.Tl)("emoji_picker"),"aria-label":(0,u.Tl)("emoji_picker"),disabled:c,children:(0,g.jsx)(N,{})}),(0,g.jsx)(E,{children:(0,g.jsx)(I.p,{onEmojiClick:s=>{if(""===n.trim()&&!e)return t((0,p.$B)(s)),void a();i((0,A.f$)(n,s,r)),a(r+s.length)}})})]})};var M=n(1398),R=n(183);var P={name:"42d21o",styles:"right:0;left:45px"},O={name:"42d21o",styles:"right:0;left:45px"};const L=(0,i.Ay)("div",{target:"edc69mm0"})("&.fade-enter{opacity:0;}&.fade-enter-active{opacity:1;transition:opacity 150ms;}&.fade-exit{opacity:1;position:absolute;right:45px;",(({theme:e})=>e.isRtlLocale&&O),";}&.fade-exit-active{position:absolute;right:45px;opacity:0;transition:opacity 150ms;",(({theme:e})=>e.isRtlLocale&&P),";}"),H=()=>{const{textField:{value:e},popover:{closePopover:t},onSubmit:n,disabled:i}=o(),s=(0,r.useRef)(null),a=""===e.trim();return(0,g.jsx)(R.B1,{in:a,timeout:150,classNames:"fade",nodeRef:s,unmountOnExit:!0,children:(0,g.jsx)(L,{ref:s,children:(0,g.jsxs)(T,{type:"gif",children:[(0,g.jsx)(_,{title:(0,u.Tl)("gif_picker"),"aria-label":(0,u.Tl)("gif_picker"),disabled:i,children:(0,g.jsx)(B,{})}),(0,g.jsx)(E,{children:(0,g.jsx)(M.P,{onGifClick:e=>{const{url:i,width:r,height:s,attribution:o,title:a}=e;n((0,p.Fp)(i,r,s,o,a)),t()}})})]})})})};var D=n(36215),V=n(29853),F=n(70951);const q=["onChange","onSubmit","validate","initialValue","draftKey","disabled"];const G=e=>{let{onChange:t,onSubmit:n,validate:i,initialValue:o="",draftKey:a=D.A.NEW_CONVERSATION_DRAFT_ID,disabled:l=!1}=e,c=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(-1!==t.indexOf(i))continue;n[i]=e[i]}return n}(e,q);const[d,p]=(0,r.useState)(),[u,h]=(0,r.useState)((()=>o||D.A.loadDraft(a)||"")),[m,x]=(0,r.useState)(),f=(0,r.useRef)(null),v=(0,r.useCallback)((e=>{D.A.saveDraft(a,e),h(e),t&&t(e)}),[a,t]),y=(0,r.useCallback)((e=>{setTimeout((()=>{(0,A.a8)(f.current,e||m)}),0),p(void 0)}),[m]),b=(0,F.t)(),w=(0,r.useRef)(null);return(0,g.jsx)(s.Provider,{value:{disabled:l,onSubmit:(...e)=>{var r;i&&!i(u)||(n(...e),D.A.removeDraft(a),h(""),t&&t(""),null==(r=f.current)||r.focus())},popover:{isTypeOpen:e=>d===e,closePopover:y,openPopover:e=>{var t;x(null==(t=f.current)?void 0:t.selectionEnd),p(e)}},textField:{value:u,setValue:v,ref:f,cursorPosition:m||u.length,setCursorPosition:x}},children:(0,g.jsx)(V.A,{ref:w,children:(0,g.jsx)(V.c,Object.assign({transition:b},c))})})};var U=n(7350),$=n.n(U),W=n(32836),K=n(56213),Y=n(99398),Z=n(79986);const J=["placeholder","onChange","onTyping","autoFocus","maxHeight"];const Q=(0,i.Ay)("div",{target:"e1j0ryx2"})("background-color:",(0,i.w4)("containerBaseNeutral"),";min-height:48px;position:relative;",h.TD,";"),X=(0,i.Ay)("pre",{target:"e1j0ryx1"})("box-sizing:border-box;font-family:",(0,i.w4)("fontSansSerif"),";font-size:14px;font-weight:normal;line-height:20px;max-height:",(0,i.xk)("maxHeight"),"px;overflow:hidden;overflow-wrap:break-word;padding:14px 72px 14px 16px;visibility:hidden;width:100%;white-space:pre-wrap;");var ee={name:"11g4mt0",styles:"font-size:16px"};const te=(0,i.Ay)("textarea",{target:"e1j0ryx0"})("appearance:none;box-sizing:border-box;resize:none;font-family:",(0,i.w4)("fontSansSerif"),";font-size:14px;font-weight:normal;inset:0;line-height:20px;max-height:",(0,i.xk)("maxHeight"),"px;outline:none;overflow-wrap:break-word;padding:14px 72px 14px 16px;position:absolute;white-space:pre-wrap;width:100%;&::placeholder{color:",(0,i.w4)("grey500"),";}",(({theme:e})=>e.isMobileBrowser&&ee),";"),ne=e=>{let{placeholder:t,onChange:n,onTyping:i,autoFocus:s=!0,maxHeight:a=200}=e,l=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(-1!==t.indexOf(i))continue;n[i]=e[i]}return n}(e,J);const{onSubmit:c,textField:{value:d,setValue:u,ref:h,setCursorPosition:m},popover:{isTypeOpen:x},disabled:f}=o(),v=(0,r.useMemo)((()=>{if(i)return $()((()=>i()),1e3)}),[i]),[y,b]=(0,r.useState)(!1),w=(0,Z.GV)((e=>e.app.isMessengerOpen)),j=(0,r.useRef)(!1);(0,r.useEffect)((()=>{s&&h.current&&!1===j.current&&w&&((0,A.a8)(h.current,d.length),j.current=!0)}),[s,h,d,w]);const k=(0,K.un)()?{onTouchEnd:W.K,onTouchStart:W.K}:{},C=Object.assign({},k,l);return(0,g.jsxs)(Q,{children:[(0,g.jsxs)(X,{maxHeight:a,children:[d,(0,g.jsx)("br",{})]}),(0,g.jsx)(Y.C,{mobileSaferiOnly:!0,children:(0,g.jsx)(te,Object.assign({rows:1,ref:h,onCompositionStart:()=>b(!0),onCompositionEnd:()=>b(!1),onKeyDown:e=>{if(!("Enter"!==e.key||e.altKey||e.shiftKey||""===d.trim()||y||x("typeaheadEmoji")||(0,K.rr)())){if(e.preventDefault(),f)return;c((0,p.$B)(d))}v&&v()},value:d,placeholder:t,"aria-label":t,onChange:e=>{u(e.target.value),m(e.target.selectionEnd),n&&n(e)},maxHeight:a},C))})]})};var ie=n(69830),re=n(7186),se=n(22973);var oe={name:"vhahf5",styles:"right:0;left:8px"},ae={name:"vhahf5",styles:"right:0;left:8px"};const le=(0,i.Ay)("div",{target:"e166ta0"})("&.fade-enter{opacity:0;}&.fade-enter-active{opacity:1;transition:opacity 150ms;}&.fade-exit{opacity:1;position:absolute;right:8px;",(({theme:e})=>e.isRtlLocale&&ae),";}&.fade-exit-active{position:absolute;right:8px;opacity:0;transition:opacity 150ms;",(({theme:e})=>e.isRtlLocale&&oe),";}"),ce=e=>{const t=(0,r.useRef)(null),{textField:{value:n},onSubmit:i,disabled:s}=o(),a=(0,r.useRef)(null),l=""===n.trim();return(0,g.jsx)(R.B1,{in:l,timeout:150,classNames:"fade",nodeRef:a,unmountOnExit:!0,children:(0,g.jsxs)(le,{ref:a,children:[(0,g.jsx)("input",{ref:t,type:"file",multiple:e.allowMultipleUploads,disabled:s,onChange:e=>{const t=e.target.files;t&&(t.length>5?(0,ie.oS)("attachment_limit_exceeded",{file_count:t.length,place:"composer"}):Array.from(t).forEach((e=>{return t=e,void(0,re.kn)(t).then((e=>{if(e){const{width:n,height:r,src:s}=e,o=(0,se.U$)(e.src,t.name,t.type);i((0,p.Fp)(s,n,r),o)}else{const{name:e,type:n,size:r}=t;i((0,p.VJ)(e,n,r),t)}}));var t})))},hidden:!0,accept:e.allowedAttachmentExtensions,"data-testid":"composer-upload-input"}),(0,g.jsx)(f,{disabled:s,title:(0,u.Tl)("upload_attachment"),"aria-label":(0,u.Tl)("upload_attachment"),onClick:()=>{var e;(0,K.rr)()?setTimeout((()=>{var e;null==(e=t.current)||e.click()}),100):null==(e=t.current)||e.click()},"data-type":"upload",children:(0,g.jsx)(c._x,{type:"AttachmentIcon"})})]})})};var de=n(23975),pe=n(22299),ue=n(42706);const he=(0,i.Ay)("div",{target:"e1vqfiac1"})({name:"16hjiy4",styles:"position:relative;display:flex;flex-direction:column"}),ge=(0,i.Ay)("div",{target:"e1vqfiac0"})({name:"13afnc",styles:"position:absolute;top:20px"}),me=({children:e})=>{const t=(0,ue.x)(),{textField:{value:n,cursorPosition:i,setValue:s},popover:{isTypeOpen:a,openPopover:l,closePopover:c}}=o(),[d,p]=(0,r.useState)(!1),u=(0,r.useMemo)((()=>(0,de.Fs)(n,i)),[n,i]),{emojiTypeaheadState:h,text:m,cursorPosition:x}=u;(0,r.useEffect)((()=>{m&&x&&(s(m),c(x))}),[m,x,s,c]);const f=a("typeaheadEmoji");(0,r.useEffect)((()=>{h.isActive&&!d?l("typeaheadEmoji"):f&&c(x)}),[h,l,c,f,d,x]);return(0,g.jsxs)(he,{onKeyDown:e=>{h.isActive&&-1!==pe.m.indexOf(e.key)?(e.preventDefault(),-1!==["Escape","End"].indexOf(e.key)&&(e.stopPropagation(),p(!0),c())):p(!1)},children:[e,(0,g.jsx)(ge,{tabIndex:-1,children:(0,g.jsxs)(T,{type:"typeaheadEmoji",children:[(0,g.jsx)(_,{title:"Type an :emoji",tabIndex:-1}),(0,g.jsx)(E,{showArrow:!1,children:(0,g.jsx)(pe.A,{frameWindow:t,typeaheadSuggestions:h.suggestions,onSelect:e=>{const{text:t,cursorPosition:r}=(0,de.lx)(n,i,h.currentTypeaheadTerm||"",e);s(t),c(r+e.length)}})})]})})]})};var xe={name:"vhahf5",styles:"right:0;left:8px"},fe={name:"vhahf5",styles:"right:0;left:8px"};const ve=(0,i.Ay)("div",{target:"esf8er32"})("&.fade-enter{opacity:0;}&.fade-enter-active{opacity:1;transition:opacity 150ms;}&.fade-exit{opacity:1;position:absolute;right:8px;",(({theme:e})=>e.isRtlLocale&&fe),";}&.fade-exit-active{opacity:0;position:absolute;right:8px;transition:opacity 150ms;",(({theme:e})=>e.isRtlLocale&&xe),";}");var ye={name:"1k13dmf",styles:"right:0;left:77px;transform:translateX(-20px)"},be={name:"3m0i3z",styles:"right:0;left:77px"};const we=(0,i.Ay)("div",{target:"esf8er31"})("&.fade-enter{opacity:0;}&.fade-enter-active{opacity:1;transition:all 150ms;}&.fade-exit{opacity:1;position:absolute;right:77px;",(({theme:e})=>e.isRtlLocale&&be),";}&.fade-exit-active{opacity:0;position:absolute;right:77px;transform:translateX(20px);transition:all 150ms;",(({theme:e})=>e.isRtlLocale&&ye),";}");var je={name:"bl89wh",styles:"right:0;left:55px;transform:translateX(20px)"},Ae={name:"mxrjkq",styles:"right:0;left:55px"};const ke=(0,i.Ay)("div",{target:"esf8er30"})("&.fade-enter{opacity:0;}&.fade-enter-active{opacity:1;transition:all 150ms;}&.fade-exit{opacity:1;position:absolute;right:55px;",(({theme:e})=>e.isRtlLocale&&Ae),";}&.fade-exit-active{opacity:0;position:absolute;right:55px;transform:translateX(-20px);transition:all 150ms;",(({theme:e})=>e.isRtlLocale&&je),";}"),Ce=({initialValue:e,draftKey:t,composerContent:n,placeholder:i,disabled:s,autoFocus:o,allowedActions:a,forceShowSubmitButton:l,onSubmit:c,onChange:d,onTyping:p})=>{const u=(0,r.useRef)(null),h=(0,r.useRef)(null),m=(0,r.useRef)(null),x=""!==(null==n?void 0:n.trim())||(0,K.rr)()||l;return(0,g.jsxs)(G,{initialValue:e,onSubmit:c,draftKey:t,disabled:s,onChange:d,children:[(0,g.jsx)("div",{children:a.emojis?(0,g.jsx)(me,{children:(0,g.jsx)(ne,{placeholder:i,onTyping:p,autoFocus:o})}):(0,g.jsx)(ne,{placeholder:i,onTyping:p,autoFocus:o})}),(0,g.jsxs)(y,{children:[a.emojis&&(0,g.jsx)(R.B1,{in:!x,timeout:150,classNames:"fade",nodeRef:h,unmountOnExit:!0,children:(0,g.jsx)(we,{ref:h,children:(0,g.jsx)(z,{})})}),a.gifs&&(0,g.jsx)(H,{}),a.uploads&&(0,g.jsx)(ce,{allowMultipleUploads:a.uploads.allowMultipleUploads,allowedAttachmentExtensions:a.uploads.allowedAttachmentExtensions}),a.emojis&&(0,g.jsx)(R.B1,{in:x,timeout:150,classNames:"fade",nodeRef:m,unmountOnExit:!0,children:(0,g.jsx)(ke,{ref:m,children:(0,g.jsx)(z,{})})}),(0,g.jsx)(R.B1,{in:x,timeout:150,classNames:"fade",nodeRef:u,unmountOnExit:!0,children:(0,g.jsx)(ve,{ref:u,children:(0,g.jsx)(b,{})})})]})]})};var Se=n(94560),Te=n(36667),_e=n(6314);const Ee=(0,i.Ay)("div",{target:"e17243fp2"})("background-color:",(0,i.w4)("containerBaseNeutral"),";min-height:48px;position:relative;padding-bottom:1px;",h.TD,";");var Be={name:"11g4mt0",styles:"font-size:16px"};const Ne=(0,i.Ay)("input",{target:"e17243fp1"})("appearance:none;box-sizing:border-box;resize:none;font-family:",(0,i.w4)("fontSansSerif"),";font-size:14px;font-weight:normal;inset:0;line-height:20px;max-height:200px;outline:none;overflow-wrap:break-word;padding:14px 16px 14px 4px;white-space:pre-wrap;width:calc(100% - 24px);border-bottom:1px solid ",(0,i.w4)("borderEmphasisNeutral"),";padding-bottom:16px;margin:0 12px;&::placeholder{color:",(0,i.w4)("grey500"),";}",(({theme:e})=>e.isMobileBrowser&&Be)," ",(({theme:e,hasError:t})=>t&&(0,i.AH)("border-bottom:1px solid ",e.textError,";margin-bottom:6px;")),";"),Ie=(0,i.Ay)("span",{target:"e17243fp0"})("font-family:",(0,i.w4)("fontSansSerif"),";font-size:13px;line-height:13px;color:",(0,i.w4)("textError"),";padding:0 14px;"),ze=({value:e,autoFocus:t,onChange:n,onBlur:i,errorMessage:s})=>{const o=(0,r.useRef)(null);(0,r.useEffect)((()=>{null!=o&&o.current&&t&&!e&&o.current.focus()}),[o,t,e]),(0,r.useEffect)((()=>{null!=o&&o.current&&s&&o.current.focus()}),[o,s]);const a=s?{"aria-invalid":!0}:{};return(0,g.jsxs)(Ee,{children:[(0,g.jsx)(Ne,Object.assign({name:"email",ref:o,placeholder:_e.o,value:e,type:"email",autoComplete:"email",onChange:e=>{const{value:t}=e.currentTarget;n&&n(t)},onBlur:e=>{const{value:t}=e.currentTarget;i&&i(t)},"aria-label":(0,u.Tl)("your_email"),hasError:!!s},a)),s&&(0,g.jsx)(Ie,{children:s})]})},Me=(0,i.Ay)("div",{target:"e11lf1ti0"})("background-color:",(0,i.w4)("containerBaseNeutral"),";min-height:90px;"),Re=({initialText:e,initialEmail:t="",draftKey:n=D.A.NEW_CONVERSATION_DRAFT_ID,placeholder:i,autoFocus:s,disabled:o,onSubmit:a,onTyping:l})=>{const[c,d]=(0,r.useState)((()=>e||D.A.loadDraft(n)||"")),[p,h]=(0,r.useState)(t),[m,x]=(0,r.useState)(""),f=(0,Z.jL)();(0,r.useEffect)((()=>(f((0,Se.Lt)()),()=>{f((0,Se.Lt)())})),[f]);const v=""===c.trim()||""===p.trim()||!(0,Te.B)(p.trim());return(0,g.jsxs)(G,{initialValue:e,validate:e=>p&&p.trim().length>0&&!(0,Te.B)(p)?(x((0,u.Tl)("that_email_address_doesnt_look_quite_right")),!1):0!==e.trim().length,onSubmit:(...e)=>(a(e[0],null,null,p),!0),onChange:e=>{d(e)},draftKey:n,disabled:o||v,children:[(0,g.jsx)(ze,{value:p,errorMessage:m,onChange:e=>{h(e)},onBlur:e=>{0!==e.trim().length?(0,Te.B)(e)?x(""):x((0,u.Tl)("that_email_address_doesnt_look_quite_right")):x("")},autoFocus:s}),(0,g.jsxs)(Me,{children:[(0,g.jsx)(me,{children:(0,g.jsx)(ne,{placeholder:i,onTyping:l,autoFocus:!1,maxHeight:135})}),(0,g.jsxs)(y,{children:[(0,g.jsx)(z,{insertOnly:!0}),(0,g.jsx)(b,{})]})]})]})}},29853:(e,t,n)=>{"use strict";n.d(t,{A:()=>s,c:()=>a});var i=n(86923),r=n(72977);const s=(0,i.Ay)("div",{target:"e1y8qs781"})("min-height:48px;max-height:200px;padding:0 ",(({theme:e})=>e.globalHorizontalPadding),"px 0 ",(({theme:e})=>e.globalHorizontalPadding),"px;width:100%;box-sizing:border-box;",r.TD,";");var o={name:"11m65u3",styles:"transition:outline-width 150ms"};const a=(0,i.Ay)("div",{target:"e1y8qs780"})("border-radius:24px;box-shadow:0px 0px 4px rgba(0, 0, 0, 0.2);overflow:hidden;position:relative;outline:solid 0 ",(0,i.w4)("primaryColor"),";color:",(0,i.w4)("textDefault"),";",(({transition:e})=>"none"===(null==e?void 0:e.transition.type)&&"entering"===(null==e?void 0:e.state)?null:o)," &:focus-within{outline-width:2px;}")},70951:(e,t,n)=>{"use strict";n.d(t,{t:()=>s,u:()=>r});var i=n(96540);const r=(0,i.createContext)(null);r.displayName="PageTransitionContext";const s=()=>(0,i.useContext)(r)},18603:(e,t,n)=>{"use strict";n.d(t,{B:()=>r,v:()=>s});var i=n(86923);const r=32,s=(0,i.Ay)("a",{target:"e9lv9ro0"})("display:inline-block;height:",r,"px;width:100%;background:",(0,i.w4)("containerBaseNeutral"),"!important;&:hover{background:",(0,i.w4)("containerNeutral"),"!important;}transition:all 80ms;text-align:center;line-height:",r,"px;text-decoration-line:underline;font-size:13px;font-weight:656;color:",(0,i.w4)("grey500"),"!important;")},58643:(e,t,n)=>{"use strict";n.d(t,{A:()=>E});var i=n(40961),r=n(86923);const s=(0,r.Ay)("div",{target:"e5gnry51"})("display:inline-flex;flex-direction:row;justify-content:center;align-items:center;padding:4px;gap:2px;line-height:1;font-size:14px;font-weight:normal;border-radius:20px;",(({color:e="textDefault",backgroundColor:t="containerEmphasisNeutral",theme:n})=>(0,r.AH)("color:",n[e],";background:",n[t],";transition:background 0.2s ease-in-out,color 0.2s ease-in-out;")),";"),o=(0,r.Ay)("span",{target:"e5gnry50"})({name:"1buzkqa",styles:"padding:0 2px"});var a=n(40172),l=n(74848);const c=({children:e,icon:t,color:n="textDefault",backgroundColor:i})=>(0,l.jsxs)(s,{color:n,backgroundColor:i,children:[e&&(0,l.jsx)(o,{children:e}),t&&(0,l.jsx)(a.Ay,{type:t,color:n})]});function d({label:e="",color:t,backgroundColor:n}){return(0,l.jsx)(c,{icon:"Info",color:t,backgroundColor:n,children:e})}var p=n(79986),u=n(96540),h=n(83505),g=n(7315),m=n(34743);const x=(0,u.createContext)(void 0);x.displayName="TooltipContext";const f=()=>{const e=(0,u.useContext)(x);if(!e)throw new Error("Component needs to be wrapped in a TooltipContext");return e},v=({children:e,defaultOpen:t})=>{const[n,i]=(0,u.useState)(t),r=(0,u.useRef)(null),{refs:s,floatingStyles:o,context:a}=(0,h.we)({whileElementsMounted:g.ll,open:n,onOpenChange:i,strategy:"absolute",middleware:[(0,m.cY)(12),(0,m.BN)({padding:8}),(0,m.Ej)({apply:({availableWidth:e,elements:t})=>{t.floating.style.maxWidth=e-16+"px"}}),(0,m.UU)(),(0,m.UE)({element:r})]}),c=(0,h.Mk)(a,{delay:{close:150}}),{getReferenceProps:d,getFloatingProps:p}=(0,h.bv)([c]);return(0,l.jsx)(x.Provider,{value:{refs:s,floatingStyles:o,context:a,open:n,getReferenceProps:d,getFloatingProps:p,arrowRef:r},children:e})},y=["children"];const b=(0,u.forwardRef)(((e,t)=>{let{children:n}=e,i=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(-1!==t.indexOf(i))continue;n[i]=e[i]}return n}(e,y);if(u.Children.count(n)>1)throw new Error("Only single element as the trigger");if(!(0,u.isValidElement)(n))throw new Error("Invalid element");return(0,u.cloneElement)(n,Object.assign({},i,n.props,{ref:t}))})),w=e=>{const{refs:t,open:n,getReferenceProps:i}=f(),r=e.asChild?b:"button";return(0,l.jsx)(r,Object.assign({ref:t.setReference},i(),{"data-state":n?"open":"closed"},e))};var j=n(72977);const A=["children"];const k=(0,r.Ay)("div",{target:"e3ggrw20"})("z-index:",(0,j.fE)(3),";"),C=e=>{let{children:t}=e,n=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(-1!==t.indexOf(i))continue;n[i]=e[i]}return n}(e,A);const{refs:i,open:r,floatingStyles:s,getFloatingProps:o,arrowRef:a,context:c}=f(),{isMounted:d,styles:p}=(0,h.DL)(c);return r&&d?(0,l.jsxs)(k,Object.assign({ref:i.setFloating,style:Object.assign({},s,p)},o(),{"data-state":r?"open":"closed"},n,{children:[t,(0,l.jsx)(h.ie,{ref:a,context:c})]})):null};var S=n(18166),T=n(49651),_=n(92090);const E=({triggerClassName:e})=>{const t=(0,p.GV)((e=>e.app.name||"")),n=(0,T.Tl)("answer_is_generated_with_ai_sources",{company_name:t}),{element:r}=(0,S.P)();return(0,l.jsxs)(v,{children:[(0,l.jsx)(w,{"aria-label":"Tooltip opener",className:e,children:(0,l.jsx)(d,{color:"grey500",backgroundColor:"none"})}),r&&(0,i.createPortal)((0,l.jsx)(C,{children:(0,l.jsx)(_.YA,{explanation:n})}),r)]})}},48368:(e,t,n)=>{"use strict";n.d(t,{A:()=>EmailAttribute});var i=n(96540),r=n(66433),s=n(6314),o=n(36667),a=n(49651),l=n(74848);class EmailAttribute extends i.Component{render(){const{value:e,saveState:t,isBorderless:n,isReplyType:i,isNotificationChannel:s,isSubmittable:c,placeholder:d,disabled:p,errorMessage:u,hideErrorMessage:h,onSubmit:g,onChange:m}=this.props;return(0,l.jsx)(r.A,{value:e,placeholder:d,saveState:t,disabled:p,isValid:o.B,isBorderless:n,isReplyType:i,isSubmittable:c,isNotificationChannel:s,onSubmit:g,onChange:m,hideErrorMessage:h,ariaLabel:"Enter your email",type:"email",validationErrorMessage:u||(0,a.Tl)("that_email_address_doesnt_look_quite_right")})}}EmailAttribute.defaultProps={placeholder:s.o,isSubmittable:!0,hideErrorMessage:!1}},1017:(e,t,n)=>{"use strict";n.d(t,{A:()=>PhoneNumberAttribute});var i=n(96540),r=n(61353),s=n(8198),o=n(49651),a=n(64234),l=n(96786),c=n(74848);class PhoneNumberInput extends i.PureComponent{constructor(...e){super(...e),this.handleChange=e=>{this.props.onChange(e.target.value.trim())},this.handleKeyDown=e=>{13===e.keyCode&&(e.preventDefault(),this.props.onSubmit())},this.handleFocus=e=>{const{value:t}=e.target;e.target.value="",e.target.value=t}}renderFlag(){const{defaultCountryCode:e,value:t}=this.props,n=(0,r.J3)(t),i=n?n.code:e;return(0,c.jsx)(l.qw,{countryCode:i})}renderPlaceholder(){const{value:e,placeholder:t,saveState:n}=this.props,i=this.isDisabled();return(0,c.jsx)(l.vO,{disabled:i,saveState:n,children:0===t.indexOf(e)&&(0,c.jsxs)("span",{children:[(0,c.jsx)(l.Dg,{children:e}),(0,c.jsx)("span",{children:t.replace(e,"")})]})})}isDisabled(){const{saveState:e}=this.props;return this.props.disabled||"saving"===e||"saved"===e}renderInput(){const{value:e,isBorderless:t,isReplyType:n}=this.props,i=this.isDisabled(),r=!(t&&n);return(0,c.jsx)("input",{name:"phone",type:"text",disabled:i,autoFocus:r,defaultValue:e,onFocus:this.handleFocus,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:a.BW,"aria-label":(0,o.Tl)("phone_number")})}render(){const{saveState:e,isInvalid:t}=this.props,n="saving"===e,i=n||this.isDisabled(),r=Object.assign({"aria-label":n?(0,o.Tl)("loading"):(0,o.Tl)("submit")},n?{role:"progressbar"}:{});return(0,c.jsxs)(l.VY,{saveState:e,isInvalid:t,children:[this.renderFlag(),this.renderPlaceholder(),this.renderInput(),(0,c.jsx)(l._A,{}),(0,c.jsx)(l.Eu,Object.assign({disabled:i,onClick:this.props.onSubmit,saveState:e},r,{children:(0,c.jsx)(s.A,{disabled:i,loading:n})}))]})}}var d=n(91832);class PhoneNumberAttribute extends i.Component{constructor(...e){super(...e),this.state={value:this.props.value||`${(0,r.xI)(this.props.defaultCountryCode)} `,isValid:!0},this.handleChange=e=>{this.setState({value:e,isValid:!0})},this.handleSubmit=()=>{const{value:e}=this.state;(0,r.fn)(e)?this.props.onSubmit(e):this.setState({isValid:!1})}}getPlaceholder(){return`${(0,r.xI)(this.props.defaultCountryCode)} 123 456 7890`}getErrorMessage(){if(this.state.isValid)return"failed"===this.props.saveState&&"parameter_invalid"===this.props.errorCode?(0,o.Tl)("that_number_doesnt_look_quite_right"):(0,o.Tl)("something_is_wrong");{const e=(0,r.E2)(this.state.value);return e?(0,o.Tl)(e):(0,o.Tl)("that_number_doesnt_look_quite_right")}}isInvalid(){return"failed"===this.props.saveState||!this.state.isValid}render(){const{saveState:e,defaultCountryCode:t,isBorderless:n,isReplyType:i,isNotificationChannel:r,disabled:s}=this.props,o=this.getPlaceholder(),a=this.isInvalid();return(0,c.jsxs)("div",{children:[(0,c.jsx)(PhoneNumberInput,{value:this.state.value,saveState:e,placeholder:o,defaultCountryCode:t,isInvalid:a,isBorderless:n,isReplyType:i,disabled:s,isNotificationChannel:r,onChange:this.handleChange,onSubmit:this.handleSubmit}),a&&(0,c.jsx)(d.A,{errorMessage:this.getErrorMessage()})]})}}},50052:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var i=n(68239),r=n(29500),s=n(49651),o=n(60729),a=n(96540),l=n(74848);const c=["author"];function d(e){let{author:t}=e,n=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(-1!==t.indexOf(i))continue;n[i]=e[i]}return n}(e,c);return t?(0,l.jsx)(p,Object.assign({},n,{author:t})):null}function p({appName:e,author:t,isReplyStyle:n,lastActiveAt:i,isActive:r,removePrefix:s,forceShowAppName:o}){return n?(0,l.jsx)(u,{authorFirstName:t.firstName,removePrefix:s}):(0,l.jsx)(h,{appName:e,author:t,isActive:r,forceShowAppName:o,lastActiveAt:i})}function u({authorFirstName:e,removePrefix:t}){return(0,l.jsxs)(i.$z,{children:[!t&&(0,l.jsx)(i.Oc,{children:`${(0,s.Tl)("reply_from")} `}),(0,l.jsx)(i.Bi,{className:"test-author-summary-name",children:e})]})}function h({appName:e,author:t,isActive:n,forceShowAppName:c,lastActiveAt:d}){const p=(0,o.M5)(),u=(0,a.useMemo)((()=>"team"!==t.type&&(!!c||!p)),[t.type,p,c]),h=null!==n&&"en"===(0,s.JK)(),g=n?"Active":"Away";return(0,l.jsxs)(i.$z,{children:[(0,l.jsxs)(i.Z,{className:"test-author-summary-name-from",children:[(0,l.jsx)(i.Bi,{className:"test-author-summary-name",children:t.firstName}),u&&(0,l.jsx)(i.v6,{className:"test-author-summary-from-clause",children:` ${(0,s.Tl)("from_app",{app_name:e})}`})]}),d&&(0,l.jsx)(i.sJ,{children:h?g:(0,r._J)(d)})]})}},99410:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var i=n(17905),r=n(50052),s=n(37341),o=n(74848);const a=["children","rightContent"];function l({appName:e,author:t,isReplyStyle:n,lastActiveAt:a,isActive:l,customHeaderText:c,forceShowAppName:d}){return t?(0,o.jsxs)(i.gJ,{children:[(0,o.jsx)(i.Jr,{children:(0,o.jsx)(s.h,{author:t})}),(0,o.jsx)(r.A,{author:t,appName:e,isReplyStyle:n??!1,lastActiveAt:a,isActive:l,forceShowAppName:d})]}):c?(0,o.jsx)(i.tF,{children:c}):null}function c(e){let{children:t,rightContent:n}=e,r=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(-1!==t.indexOf(i))continue;n[i]=e[i]}return n}(e,a);return(0,o.jsxs)(i.jt,{className:"intercom-authored-container",children:[(0,o.jsxs)(i.TJ,{children:[(0,o.jsx)(l,Object.assign({},r)),n]}),t]})}},19386:(e,t,n)=>{"use strict";n.d(t,{A:()=>ChatCardGroup});var i=n(96540),r=n(32485),s=n.n(r),o=n(37341),a=n(50052),l=n(31218),c=n(88911),d=n(60077),p=n(95029),u=n(73669),h=n(69771),g=n(99336),m=n(29500),x=n(74848);class ChatCardPresenter extends i.Component{constructor(...e){super(...e),this.state={isScrollable:!1,isScrolled:!1},this.handleScrollable=()=>{this.setState({isScrollable:!0})},this.handleScroll=e=>{this.setState({isScrolled:e.target.scrollTop>0})}}renderAdminAvatar(){const{part:{author:e}}=this.props;return(0,x.jsx)(g.ob,{isAuthorTypeTeam:"team"===e.type,children:(0,x.jsx)(o.h,{author:e})})}renderInlineMetadata(){return(0,x.jsx)(c.q,{part:this.props.part})}renderStickerOrBlocks(){const{part:{author:e,body:t},frameWindow:n}=this.props;return 1===t.length&&(0,h.Nm)(t[0])?(0,x.jsx)(p.A,{text:(0,u.hs)(t[0])}):(0,x.jsx)(l.A,{blocks:t,zoomable:!0,author:e,frameWindow:n})}renderSingleBody(){return(0,x.jsx)(g.lk,{children:this.renderStickerOrBlocks()})}renderAuthor(){const{appName:e,part:{messageType:t,author:n,createdAt:i}}=this.props,{isScrolled:r}=this.state,s="adminReply"===t;return(0,x.jsxs)(g.IK,{isScrolled:r,children:[(0,x.jsx)(a.A,{author:n,appName:e,isReplyStyle:s,removePrefix:!0}),(0,x.jsx)(x.Fragment,{children:"•"}),(0,x.jsx)("span",{children:`${(0,m.iw)(i)}`})]})}renderFullBody(){const{isBorderless:e}=this.props,{isScrollable:t}=this.state;return(0,x.jsxs)("div",{children:[this.props.showAuthor?this.renderAuthor():null,(0,x.jsx)(g.WO,{isScrollable:t,isBorderless:e,children:(0,x.jsx)(d.A,{onScrollable:this.handleScrollable,onScroll:this.handleScroll,children:this.renderStickerOrBlocks()})})]})}render(){const{hasAvatar:e,showAvatar:t,isBorderless:n,isMobile:i,part:{body:r}}=this.props,o=(0,h.EU)(r),a=s()({"intercom-chat-card":!(o&&n),"intercom-chat-card-borderless-single":o&&n});return(0,x.jsxs)(g.sC,{className:a,isSingleBlock:o,isBorderless:n,showAvatar:e&&t,isMobile:i,children:[e&&t?this.renderAdminAvatar():null,o&&n?this.renderSingleBody():this.renderFullBody()]})}}function f(e){return(0,x.jsx)(ChatCardPresenter,Object.assign({},e))}ChatCardPresenter.defaultProps={isBorderless:!1,showAuthor:!0,showAvatar:!0,hasAvatar:!0};var v=n(1082);const y=/^<br>/,b=/<br>$/;class ChatCardGroup extends i.Component{buildNewPart(){return Object.assign({},this.props.part,{body:[]})}cleanBlockWithPattern(e,t){e.text&&(e.text=e.text.trim().replace(t,""))}cleanAdjacentBlocks(e,t){"messengerCard"===e.type&&"paragraph"===t.type?this.cleanBlockWithPattern(t,y):"paragraph"===e.type&&"messengerCard"===t.type&&this.cleanBlockWithPattern(e,b)}cleanParts(e){return e.map(((e,t,n)=>{if(t<n.length-1){const i=n[t+1],r=e.body.length-1;this.cleanAdjacentBlocks(e.body[r],i.body[0])}return e}))}splitPartByBlockType(){const e=[];let t=null;return this.props.part.body.forEach((n=>{"paragraph"===n.type&&""===n.text||(0!==e.length&&"messengerCard"!==n.type&&"messengerCard"!==t||e.push(this.buildNewPart()),e[e.length-1].body.push(n),t=n.type)})),this.cleanParts(e)}renderCommentContainer(e,t,n){const{hasAvatar:i,isBorderless:r,isMobile:s,showInlineMetadata:o,groupingPosition:a,appName:l}=this.props;return(0,x.jsx)(v.D,{part:e,showAvatar:n,hasAvatar:i,isBorderless:r,isMobile:s,groupingPosition:a,showInlineMetadata:o,appName:l},t)}renderChatCard(e,t,n,i){const{appName:r,hasAvatar:s,isBorderless:o,showInlineMetadata:a,frameWindow:l,isMobile:c}=this.props;return(0,x.jsx)(f,{appName:r,part:e,showAuthor:n,showAvatar:i,hasAvatar:s,isBorderless:o,showInlineMetadata:a,frameWindow:l,isMobile:c},t)}renderPart(e,t,n,i){return 1===e.body.length&&"messengerCard"===e.body[0].type?this.renderCommentContainer(e,t,i):this.renderChatCard(e,t,n,i)}renderParts(e){return e.map(((t,n)=>{const i=0===n,r=n===e.length-1;return this.renderPart(t,n,i,r)}))}render(){const e=this.splitPartByBlockType();return(0,x.jsx)("div",{children:this.renderParts(e)})}}ChatCardGroup.defaultProps={isBorderless:!1,isMobile:!1,hasAvatar:!0}},1082:(e,t,n)=>{"use strict";n.d(t,{D:()=>Pe});var i=n(96540),r=n(31218),s=n(95029),o=n(88911),a=n(80389);const l=e=>"messengerCard"===e.type||"createTicketCard"===e.type,c=e=>!l(e),d=e=>"paragraph"===e.type&&!e.text;var p=n(74848);const u=({blockGroup:e,index:t,part:n,isLastGroup:i,hasAvatar:s,showInlineMetadata:u,zoomable:h,maxImageWidth:g,isBorderless:m,onImageClick:x,isLastPart:f,frameWindow:v})=>{const{author:y}=n,b=u&&i&&e.every(c),w=e.every(d),j=e.every(c),A=e.every(l);return w?null:(0,p.jsxs)(a.B,{isText:j,hasAvatar:s,isMessengerCard:A,isBorderless:m,isAdmin:null==y?void 0:y.isAdmin,isUser:null==y?void 0:y.isSelf,children:[(0,p.jsx)(r.A,{blocks:e,author:n.author,zoomable:h,maxImageWidth:g,onImageClick:x,isLastPart:f,frameWindow:v}),b?(0,p.jsx)(o.q,{part:n}):null]},t)};class BlockGroup{constructor(){this.blocks=[]}addBlock(e){this.blocks.push(e)}}class BlockGroups{constructor(){this.groups=[]}addBlock(e){let t=this.groups[this.groups.length-1];t&&t.blocks.every(c)&&c(e)||(t=new BlockGroup,this.groups.push(t)),t.addBlock(e)}}const h=({isLastPart:e,part:t,hasAvatar:n,showInlineMetadata:r,zoomable:s,maxImageWidth:o,isBorderless:l,onImageClick:c,frameWindow:d})=>{const h=(0,i.useMemo)((()=>{const e=new BlockGroups;return t.body.forEach((t=>e.addBlock(t))),e}),[t.body]);return(0,p.jsx)(a.J,{children:h.groups.map(((i,a)=>(0,p.jsx)(u,{blockGroup:i.blocks,index:a,isLastGroup:a===h.groups.length-1,part:t,hasAvatar:n,showInlineMetadata:r,zoomable:s,maxImageWidth:o,isBorderless:l,onImageClick:c,isLastPart:e,frameWindow:d},a)))})};var g=n(29500),m=n(73669),x=n(69771),f=n(92090),v=n(45134),y=n(32515),b=n(86923),w=n(49651),j=n(58643);const A=(0,b.Ay)("div",{target:"e1nxf91u2"})("font-size:14px;font-weight:600;line-height:20px;display:flex;align-items:center;justify-content:space-between;margin:12px -19px -2px;padding:14px 18px 0px;color:",(0,b.w4)("grey500"),";border-top:1px solid ",(0,b.w4)("lightBorder"),";",f.R7.Wrap.className,"{left:-115px;}"),k=(0,b.Ay)("div",{target:"e1nxf91u1"})({name:"1pi78hi",styles:"display:flex;align-items:center;gap:6px"}),C=(0,b.Ay)("span",{target:"e1nxf91u0"})("position:relative;color:",(0,b.w4)("finAnswerCardTextColor"),";font-weight:400;font-size:13px;"),S=()=>(0,p.jsxs)(A,{children:[(0,p.jsxs)(k,{children:[(0,p.jsx)(y.A,{})," ",(0,p.jsx)(C,{children:(0,w.Tl)("answer")})]}),(0,p.jsx)(j.A,{})]});var T=n(57296),_=n(79986),E=n(40172),B=n(3356),N=n(69830);const I=(e,t,n,r,s)=>{const o=(0,_.GV)((e=>e.user));(e=>{const t=(0,i.useRef)(!1);t.current||(e(),t.current=!0)})((()=>{N.Ay.buildAndAddMetric(o,e,t,n,r,s)}))};var z=n(34179),M=n(51965);const R=({source:e})=>{var t;const{type:n,title:r,url:s,id:o}=e,a=(0,_.jL)(),l=(0,_.GV)((e=>e.user)),c=(null==(t=(0,z.A)())?void 0:t.id)??"unknown",{context:d,meta:u}=(0,M.M)(),h=(0,i.useCallback)((e=>{switch(e.preventDefault(),N.Ay.buildAndAddMetric(l,"clicked","ai_answer_sources","conversation:"+c,d,Object.assign({},u,{sourceId:o,sourceType:n,sourceUrl:s})),n){case"external":(0,B.bB)(s);break;case"article":a((0,T.n$)(o,{},!1,!0))}}),[l,c,d,u,n,s,a,o]),g="external"===n;return(0,p.jsxs)(L,{onClick:h,children:[(0,p.jsx)("span",{children:r}),(0,p.jsx)(E.Ay,{type:g?"ExternalLink":"RightChevronSmall",color:"linkColor",flipInRtl:!0})]})},P=({sources:e})=>{var t;const n=(null==(t=(0,z.A)())?void 0:t.id)??"unknown",{context:i,meta:r}=(0,M.M)();return I("displayed","ai_answer_sources","conversation:"+n,i,r),(0,p.jsxs)(H,{children:[(0,p.jsx)(O,{children:(0,w.Tl)(e.length>1?"sources":"source")}),e.map((e=>(0,p.jsx)(R,{source:e},function({title:e,url:t}){return e+t}(e))))]})},O=(0,b.Ay)("h3",{target:"e1pj2gdv2"})("color:",(0,b.w4)("finAnswerCardTextColor"),";font-weight:600;"),L=(0,b.Ay)("div",{target:"e1pj2gdv1"})("display:flex;flex-direction:row;align-items:center;justify-content:space-between;transition:all 0.2s ease-in-out;color:",(0,b.w4)("textDefault"),";cursor:pointer;&:hover{color:",(0,b.w4)("linkColor"),";text-decoration:underline;}"),H=(0,b.Ay)("div",{target:"e1pj2gdv0"})("position:relative;display:flex;flex-direction:column;gap:4px;margin-left:-16px;margin-right:-16px;padding:12px 16px;font-size:14px;line-height:1.5;margin-bottom:-12px;color:",(0,b.w4)("grey500"),";h3{font-weight:600;}&::before{content:'';position:absolute;left:0;right:0;top:0;pointer-events:none;padding-bottom:12px;}"),D=.05,V=D,F=(0,b.AH)("@keyframes fadeIn{to{opacity:1;}}&:last-child{",(()=>{let e="";for(let t=0;t<17.999999999999996;t++){const n=t+1;e+=`\n    .streaming-piece:nth-last-of-type(${n}),\n    a:nth-last-of-type(${n}) {\n      opacity: ${(V+t*D).toFixed(2)};\n      animation: fadeIn 1.0s linear forwards;\n    }`}return e})(),";}");var q=n(48365);const G=(0,b.Ay)("div",{target:"ewbcn770"})((({streamingAnimation:e,theme:t})=>"scroll:smooth:fade"===e||"scroll:smooth"===e?(0,b.AH)(F,";"):(0,b.AH)(q.y.className,":last-of-type::after{content:'';display:inline-block;width:3px;height:16px;margin-left:2px;border-radius:6px;vertical-align:bottom;background:",t.grey950,";}")),";");var U=n(86777),$=n(83505),W=n(34743),K=n(52555),Y=n(85530);const Z=(0,b.Ay)("div",{target:"e1rjfakr6"})({name:"9s2w0h",styles:"padding-left:10px;padding-right:10px;z-index:1000"}),J=(0,b.Ay)("div",{target:"e1rjfakr5"})("background:",(0,b.w4)("containerBaseNeutral"),";border:none;padding:12px;border-radius:8px;font-size:13px;box-shadow:0px 16px 32px 0px rgba(20, 20, 20, 0.2);z-index:1000;position:relative;"),Q=(0,b.Ay)("div",{target:"e1rjfakr4"})("color:",(0,b.w4)("textDefault"),";font-weight:600;font-size:13px;margin-top:5px;cursor:pointer;&:hover{color:",(0,b.w4)("appColor"),";text-decoration:underline;}"),X=(0,b.Ay)("div",{target:"e1rjfakr3"})("color:",(0,b.w4)("textMuted"),";font-size:12px;font-weight:400;display:flex;align-items:center;gap:4px;"),ee=(0,b.Ay)("div",{target:"e1rjfakr2"})("border-radius:8px;width:16px;height:16px;background:",(({backgroundColor:e})=>e),";"),te=(0,b.Ay)("img",{target:"e1rjfakr1"})({name:"1y0ittq",styles:"position:relative;width:8px;height:8px;left:4px;top:4px"}),ne=(0,b.Ay)("div",{target:"e1rjfakr0"})(".inline-citation{width:16px;height:12px;padding-top:2px;padding-bottom:2px;margin-top:-2px;margin-bottom:-2px;background:",(0,b.w4)("containerEmphasisNeutral"),";border-radius:51px;display:inline-block;margin-left:4px;text-decoration:none;position:relative;line-height:inherit;&::after{content:'';position:absolute;top:-8px;left:-8px;right:-8px;bottom:-8px;border-radius:51px;}&:hover{background:",(0,b.w4)("appColor"),";&::before{color:",(0,b.w4)("textOnInverse"),";}}&::before{padding:0px;line-height:12px;content:attr(data-source-index);color:",(0,b.w4)("textDefault"),";text-decoration:none;font-family:monospace;text-align:center;font-size:10px;display:inline-block;width:100%;}}position:relative;");var ie=n(27124),re=n(5994),se=n(5351),oe=n(47452);const ae=(0,i.forwardRef)((({source:e,style:t,onMouseEnter:n,onMouseLeave:r,animationStyle:s},o)=>{var a;const l=e.url?(0,re.vx)(e.url).hostname:"",c="article"===e.type,d=(0,_.jL)(),u=(0,_.GV)((e=>e.user)),h=(0,_.GV)(ie.R),g=(0,z.A)(),m=(null==g?void 0:g.id)??"unknown",{context:x,meta:f}=(0,M.M)(),{homeHeaderBackgroundColor:v}=(0,se.A)(),y=(0,_.GV)(oe.Ch),b=(0,i.useCallback)((t=>{switch(t.preventDefault(),t.stopPropagation(),N.Ay.buildAndAddMetric(u,"clicked","ai_answer_inline_sources","conversation:"+m,x,Object.assign({},f,{sourceId:e.id,sourceType:e.type,sourceUrl:e.url})),e.type){case"external":(0,B.bB)(e.url);break;case"article":d((0,T.n$)(e.id,{},!1,!0))}}),[u,m,x,f,e,d]);return(0,p.jsx)(Z,{ref:o,style:t,onMouseEnter:n,onMouseLeave:r,children:(0,p.jsx)(K.CS.div,{style:s,children:(0,p.jsxs)(J,{children:[(0,p.jsxs)(X,{children:[c&&h?(0,p.jsx)(ee,{backgroundColor:("colors"===(null==y?void 0:y.type)?null==(a=y.gradient)?void 0:a[0]:null==y?void 0:y.color)??v,children:(0,p.jsx)(te,{src:h,alt:"App Logo",width:"16",height:"16",style:{objectFit:"contain"}})}):(0,p.jsx)(E.Ay,{type:c?"InlineSourceArticlePreview":"ExternalSourceArticlePreview",size:16}),c?(0,w.Tl)("help_center_article"):l]}),(0,p.jsx)(Q,{onClick:b,children:e.title})]})})})}));ae.displayName="SourceTooltip";const le=({children:e,setTotalCount:t})=>{const n=(0,i.useRef)(null),r=(0,i.useRef)();(e=>{(0,i.useEffect)((()=>{const t=e.current;t&&t.querySelectorAll("a.inline-citation").forEach((e=>{const t=e.getAttribute("data-entity-id"),n=e.textContent||"",i=t?`Source reference ${t}: ${n}`:`Source reference: ${n}`;e.setAttribute("aria-label",i),e.getAttribute("role")||e.setAttribute("role","link")}))}),[e])})(n);const{link:s,index:o}=((e,t)=>{const[n,r]=(0,i.useState)({link:null,index:-1});return(0,i.useLayoutEffect)((()=>{var n;const i=null==(n=e.current)?void 0:n.querySelectorAll("a.inline-citation");if(!i||0===i.length)return;t&&t(i.length);const s=e=>{const t=Array.from(i).indexOf(e.currentTarget);r({link:e.currentTarget,index:t})},o=e=>{e.preventDefault(),e.stopPropagation()},a=()=>{r({link:null,index:-1})};return i.forEach((e=>{e.addEventListener("click",o),e.addEventListener("mouseenter",s),e.addEventListener("mouseleave",a)})),()=>{i.forEach((e=>{e.removeEventListener("click",o),e.removeEventListener("mouseenter",s),e.removeEventListener("mouseleave",a)}))}}),[e,t]),n})(n,t),[a,l]=(0,i.useState)(null),[c,d]=(0,i.useState)(!1),[u,h]=(0,i.useState)(!1),g=(0,Y.L)(),{refs:m,floatingStyles:x}=(0,$.we)({placement:"top",middleware:[(0,W.cY)(8),(0,W.UU)(),(0,W.BN)()],elements:{reference:s}}),f=null==g?void 0:g.find((e=>{var t;return(null==(t=e.url)?void 0:t.toString())===a})),v=(0,K.zh)({zIndex:1e3,opacity:u?1:0,transform:u?"translateY(0px)":"translateY(10px)",scale:u?1:.95,config:{duration:u?150:100,easing:K.le.easeOutQuad},onRest:()=>{!u&&a&&l(null)}});return(0,i.useEffect)((()=>{h(!!a&&!!f)}),[a,f,o]),(0,i.useEffect)((()=>{if(s||c){const e=null==s?void 0:s.href;e&&l(e),r.current&&clearTimeout(r.current)}else r.current=setTimeout((()=>{h(!1)}),300);return()=>{r.current&&clearTimeout(r.current)}}),[s,c,o]),g?(0,p.jsxs)(ne,{ref:n,children:[e,f&&(0,p.jsx)(ae,{animationStyle:v,source:f,ref:m.setFloating,style:x,onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1)})]}):e};var ce=n(20413);const de=({part:e})=>{const t=(0,i.useCallback)((()=>{(0,N.oS)("conversation_part_streaming_timeout"),(0,N.sq)("conversationPartStreamingTimeout",{client_assigned_id:e.clientId,token_sequence_index:e.tokenSequenceIndex})}),[e.tokenSequenceIndex,e.clientId]);(0,U.A)(t,1e4);const{streamingAnimation:n}=(0,z.A)()??{streamingAnimation:null};return(0,p.jsx)(G,{streamingAnimation:n,children:(0,p.jsx)(ce.Q,{streamed:!0,children:(0,p.jsx)(le,{children:(0,p.jsx)(r.A,{blocks:e.body,author:e.author})})})})};var pe=n(42706),ue=n(83034);const he=({part:e,isMobile:t=!1,isBorderless:n=!1,hasAvatar:a=!1,showInlineMetadata:l=!1,isLastPart:c=!1,onImageClick:d})=>{const u=(0,pe.x)(),{author:y,body:b,createdAt:w,messageType:j,showCreatedAt:A,sources:k,tokenSequenceIndex:C}=e,T=(0,i.useRef)(null),_=null==b?void 0:b.some((e=>"messengerCard"===e.type)),E=null==b?void 0:b.some((e=>"createTicketCard"===e.type)),B=_||E,N=l&&!B,I=void 0!==C,z=()=>{if(!A)return null;const e=(0,x.EU)(b),t=B;return(0,p.jsx)(v.D,{isSingleBlock:e,hasBody:t,children:(0,g.Bv)(w)})},M=()=>{if(b)return 1===b.length&&(0,x.Nm)(b[0])?(0,p.jsx)(s.A,{text:(0,m.hs)(b[0])}):I?(0,p.jsx)(de,{part:e},e.clientId):B?(0,p.jsx)(h,{part:e,isLastPart:c,zoomable:!t,isBorderless:n,hasAvatar:a,showInlineMetadata:l,maxImageWidth:232,onImageClick:d,frameWindow:u}):(0,p.jsx)(r.A,{autoPlay:!1,blocks:b,author:y,zoomable:!t,maxImageWidth:232,onImageClick:d,frameWindow:u},e.clientId)},R=(0,x.EU)(b),O=-1!==["inlineAnswer","relevantArticles","finAnswer"].indexOf(j),L=t||!A||O||_;return(0,p.jsx)(f.Ay,{content:w&&(0,g.Bv)(w),enabled:!L,children:(t,i)=>(0,p.jsxs)(v.F,Object.assign({},i,{isAIAnswer:O,className:R?"intercom-comment-single":"intercom-comment",isSingleBlock:R,hasBody:B,isAdmin:null==y?void 0:y.isAdmin,isUser:null==y?void 0:y.isSelf,isFailed:"failed"===e.saveState,isBorderless:n,hasAvatar:a,ref:(0,ue.A)(T,i.ref),children:[M(),k&&!I&&(0,p.jsx)(P,{sources:k}),z(),N?(0,p.jsx)(o.q,{part:e}):null,t,O&&!I&&(0,p.jsx)(S,{})]}))})};var ge=n(37341),me=n(65318),xe=n(15776),fe=n(58468),ve=n(32485),ye=n.n(ve),be=n(26265),we=n(47707),je=n(56972);var Ae=n(19867),ke=n(50052);class GroupedBorderlessComment_BlockGroup{constructor(){this.blocks=[]}addBlock(e){this.blocks.push(e)}}class GroupedBorderlessComment_BlockGroups{constructor(){this.groups=[]}addBlock(e){let t=this.groups[this.groups.length-1];t&&t.blocks.every(c)&&c(e)||(t=new GroupedBorderlessComment_BlockGroup,this.groups.push(t)),t.addBlock(e)}}const Ce=({part:e,isMobile:t})=>{const{author:n}=e,s=(0,i.useMemo)((()=>{const t=new GroupedBorderlessComment_BlockGroups;return e.body.forEach((e=>t.addBlock(e))),t}),[e.body]);return(0,p.jsx)(p.Fragment,{children:s.groups.map(((e,i)=>((e,i)=>{const o=e.every(l);return(0,p.jsxs)(Ae._Q,{isMessengerCard:o,isLastGroup:i===s.groups.length-1,children:[!o&&(null==n?void 0:n.avatar)&&(0,p.jsx)(Ae.j0,{children:(0,p.jsx)(ge.h,{author:n,size:32,solidBackground:!0})}),(0,p.jsx)(r.A,{autoPlay:!1,blocks:e,author:n,zoomable:!t})]},i)})(e.blocks,i)))})},Se=({part:e,isSelf:t,isSingleBlock:n,isMobile:i,groupingPosition:o,appName:a})=>{const{author:l,body:c,createdAt:d,messageType:u="adminReply"}=e,h=ye()({"intercom-comment-single":n,"intercom-comment":!n,"intercom-new-conversational-user-styling-comment":t,"intercom-new-conversational-admin-styling-comment":!t}),f=null==c?void 0:c.some((e=>"messengerCard"===e.type)),v=null==c?void 0:c.some((e=>"createTicketCard"===e.type)),y=f||v,b=(null==l?void 0:l.avatar)&&!t&&!y,w=!t&&!y;return(0,p.jsxs)(Ae.mc,{isSelf:t,groupingPosition:o,hasMessengerApps:y,"data-testid":"borderless-conversation-comment",children:[b&&(0,p.jsx)(Ae.j0,{children:(0,p.jsx)(ge.h,{author:l,size:32,solidBackground:"squircle"!==l.avatar.shape})}),(0,p.jsxs)(Ae.w4,{hasMessengerApps:y,children:[(0,p.jsx)(Ae.FW,{isSingleBlock:n,className:h,children:(()=>{if(c)return 1===c.length&&(0,x.Nm)(c[0])?(0,p.jsx)(s.A,{text:(0,m.hs)(c[0])}):y?(0,p.jsx)(Ce,{part:e,isMobile:!i}):(0,p.jsx)(r.A,{autoPlay:!1,blocks:c,author:l,zoomable:!i},e.clientId)})()}),w&&(0,p.jsxs)(Ae.h_,{children:[(0,p.jsx)(ke.A,{author:l,appName:a,isReplyStyle:"adminReply"===u,removePrefix:!0}),(0,p.jsx)(Ae.So,{children:` • ${(0,g.iw)(d)}`})]})]})]})};var Te=n(55239);const _e=({attribution:e,textColor:t})=>{const n=(0,se.A)().metaText;return(0,p.jsx)(Te.n,{textColor:t||n,children:(0,w.Tl)("gif_attribution",{providername:e})})};var Ee=n(96875),Be=n(96742),Ne=n(10377),Ie=n(71982);const ze=({part:e,isSelf:t,appName:n,attribution:a,isMobile:l=!1,isBorderless:c=!1,showInlineFooter:d=!1,groupingPosition:u=be.L3.standalone,borderColors:h})=>{var v,y;const{id:b,author:w,body:j,createdAt:A,showCreatedAt:k,uxStyle:C,messageType:S,tokenSequenceIndex:T,sources:E,answerFooter:B}=e,N=(0,se.A)(),I=(0,_.GV)(Ie.l),M=-1!==["inlineAnswer","relevantArticles","finAnswer"].indexOf(S),R=l||!k||M,{container:O}=C??{},L=(0,i.useRef)(null),[H,D]=(0,i.useState)(0),V=((e,t)=>{const n=null==e?void 0:e.some((e=>"messengerCard"===e.type)),i=null==e?void 0:e.some((e=>"createTicketCard"===e.type));return t&&!(n||i)})(j,d),F=null==(v=(0,z.A)())?void 0:v.streamingAnimation,q=void 0!==T,G=()=>{if(j)return 1===j.length&&(0,x.Nm)(j[0])?(0,p.jsx)(s.A,{text:(0,m.hs)(j[0])}):q?(0,p.jsx)(de,{part:e},e.clientId):(0,p.jsx)(le,{setTotalCount:D,children:(0,p.jsx)(r.A,{autoPlay:!1,blocks:j,author:w,zoomable:!l},e.clientId)})},U=(0,_.jL)(),$=(0,z.A)(),W=(null==$||null==(y=$.parts[(null==$?void 0:$.parts.length)-1])?void 0:y.id)===b,K=async t=>{var n;if(!$)return;const i=null==(n=e.answerFooter)?void 0:n.replyOptions.find((e=>e.uuid===t.uuid));U((0,Be.R)(Ne.Ay,$,Object.assign({},i||t,{type:"quick_reply"}),!1,e,!1))},Y=(0,x.EU)(j),Z=ye()({"intercom-comment-single":Y,"intercom-comment":!Y});return c?(0,p.jsx)(Se,{part:e,isSelf:t,isSingleBlock:Y,isMobile:l,groupingPosition:u,appName:n}):(0,p.jsxs)(we.mc,{isStreaming:"scroll:smooth:fade"===F&&q,isSelf:t,isAIAnswer:M,uxStyleContainer:O,isSingleBlock:Y,groupingPosition:u,borderColors:h,isExpanded:I,children:[(0,p.jsx)(f.Ay,{content:A&&(0,g.Bv)(A),enabled:!R,children:(n,i)=>(0,p.jsxs)(we.FW,Object.assign({},i,{isSelf:t,isSingleBlock:Y,isFailed:"failed"===e.saveState,uxStyleContainer:O,className:Z,ref:(0,ue.A)(L,i.ref),children:[(0,p.jsx)(je.Y,{part:e,isBorderless:c,isAIAnswer:M}),G(),E&&0===H&&!q?(0,p.jsxs)(p.Fragment,{children:[!B&&(0,p.jsx)(we.L$,{}),(0,p.jsx)(P,{sources:E})]}):null,B?(0,p.jsxs)(p.Fragment,{children:[(B.text||B.replyOptions)&&(0,p.jsx)(we.L$,{}),B.text&&(0,p.jsx)("div",{style:{fontSize:"14px",marginTop:"12px"},children:B.text}),B.replyOptions&&W&&(0,p.jsx)(Ee.A,{suggestions:B.replyOptions,onSelect:K,onHeightChange:()=>{},isBorderless:!1,suggestionButtonsAlignment:B.replyOptions.length>1?"left":"right",isInline:!0})]}):null,V?(0,p.jsx)(o.q,{part:e}):null,n]}))}),a?(0,p.jsx)(_e,{attribution:a,textColor:t?N.textOnInverse:N.textDefault}):null]})};var Me=n(60729);const Re=e=>(0,p.jsx)(fe.C,{isBorderless:e.isBorderless,children:(0,p.jsx)(ge.h,{author:e.author})}),Pe=e=>{const t=(0,i.useRef)(null),{isBorderless:n=!1,showAvatar:r=!0,hasAvatar:s=!1,part:{author:o,body:a},isLastPart:l,isMobile:c,groupingPosition:d,showInlineMetadata:u,onImageClick:h,appName:g}=e,m=(0,x.EU)(a),f=(0,Me.Th)(),v=(0,me.I3)(e.part);var y;return f&&(0,me.MU)(e.part)?(0,p.jsx)(ze,{part:e.part,isMobile:c,isSelf:null==o?void 0:o.isSelf,isBorderless:n,groupingPosition:d,showInlineFooter:u,appName:g,attribution:v,borderColors:null==(y=e.part.uxStyle)?void 0:y.borderColors}):(0,p.jsxs)(xe.w,{hasAvatar:s,isBorderless:n,isSingleBlock:m,isAdmin:null==o?void 0:o.isAdmin,isUser:null==o?void 0:o.isSelf,ref:t,children:[s&&r?(0,p.jsx)(Re,{isBorderless:!!n,author:e.part.author}):null,(0,p.jsx)(he,{isLastPart:l,part:e.part,isMobile:c,isBorderless:n,hasAvatar:s,showInlineMetadata:u,onImageClick:h}),v?(0,p.jsx)(_e,{attribution:v}):null]})}},22299:(e,t,n)=>{"use strict";n.d(t,{m:()=>p,A:()=>u});var i=n(86923);const r=(0,i.Ay)("div",{target:"e1wapn193"})("box-sizing:border-box;position:relative;overflow-x:hidden;width:330px;height:260px;padding:",10,"px 0px;display:flex;flex-direction:column;flex-grow:0;align-items:stretch;font-size:",14,"px;"),s=(0,i.Ay)("span",{target:"e1wapn192"})("padding:",10,"px 20px;&,*{cursor:pointer;}&:hover{background:",(0,i.w4)("backgroundHover"),";}"),o=(0,i.Ay)("span",{target:"e1wapn191"})("padding:",10,"px 20px;background-color:",(0,i.w4)("backgroundHover"),";"),a=(0,i.Ay)("span",{target:"e1wapn190"})({name:"nkt64x",styles:"margin-right:10px"});var l=n(96540),c=n(8375),d=n(74848);const p=["Down","ArrowDown","Up","ArrowUp","Enter","Tab","Esc","Escape"],u=({typeaheadSuggestions:e,frameWindow:t,onSelect:n})=>{const i=(0,l.useRef)(null),[p,u]=(0,l.useState)(0),h=(0,l.useRef)(p),g=(0,l.useCallback)((e=>{h.current=e,u(e)}),[]),m=(0,l.useCallback)((e=>{const t=10+34*e;i.current&&i.current.scrollTo&&i.current.scrollTo(0,t)}),[i]),x=(0,l.useCallback)((t=>{let i,r;switch(t.key){case"Down":case"ArrowDown":i=Math.min(h.current+1,e.length-1),g(i),m(i);break;case"Up":case"ArrowUp":i=Math.max(h.current-1,0),g(i),m(i);break;case"Enter":case"Tab":r=e[h.current],n(r.emoji)}}),[h,n,m,g,e]);return(0,l.useEffect)((()=>((0,c.q2)(t,"keydown",x),()=>{(0,c.f)(t,"keydown",x)})),[t,x]),(0,d.jsx)(r,{ref:i,tabIndex:-1,"data-testid":"emoji-typeahead-suggestions",children:e.map(((e,t)=>{const i=t===h.current,r=i?o:s;return(0,d.jsxs)(r,{"data-testid":"emoji-typeahead-suggestion","aria-selected":i,onClick:()=>n(e.emoji),children:[(0,d.jsx)(a,{children:e.emoji}),e.title]},`emoji-${e.title}`)}))})}},88911:(e,t,n)=>{"use strict";n.d(t,{q:()=>g});var i=n(96540),r=n(29500),s=n(49651),o=n(65252),a=n(22973),l=n(90933),c=n(65318),d=n(68297),p=n(5351),u=n(74848);const h=e=>{const{saveState:t,seenState:n,createdAt:i,showCreatedAt:o,author:d,saveFailureReason:p}=e,u=o?(0,r.iw)(i):null,h=(e=>"not-seen-yet"===e?(0,s.Tl)("message_unseen"):"seen"===e?(0,s.Tl)("message_seen"):"")(n);return null!=d&&d.isSelf||!o?"failed"===t?"file_size"===p?(0,s.Tl)("file_too_big",{limit:`${a.pS}`}):(0,l.mn)(p)?(0,s.Tl)("file_type_not_allowed"):(0,s.Tl)("failed_to_send"):"saved"===t&&null!=d&&d.isSelf&&u?`${u}. ${h}`:null:(0,c.vz)(e)?`${u}.`:`${(e=>e.isBot?`${(0,s.Tl)("bot")} · `:"")(d)}${u}.`},g=(0,i.forwardRef)((({part:e},t)=>{const[n,r]=(0,i.useState)((()=>h(e))),s=(0,i.useCallback)((()=>{const t=h(e);r(t)}),[e]);(0,d.A)(s,6e4);const a=(0,p.A)().metaText;return n?(0,u.jsx)(o.j,{ref:t,className:"intercom-conversation-part-metadata",foregroundColor:a,children:(0,u.jsx)(o.J,{className:"intercom-conversation-part-metadata-save-state",children:n})}):null}))},96875:(e,t,n)=>{"use strict";n.d(t,{A:()=>m});var i=n(96540),r=n(79986),s=n(52555),o=n(23043),a=n(74848);function l(e){const{replyOption:t,onSelect:n,focused:i,style:r,isTypeaheadSuggestion:s,isBorderless:l,useNewConversationalUI:c=!1,buttonAlignment:d,isInline:p=!1}=e;return(0,a.jsx)(o.HF,{label:t.text,value:t,onClick:n,focused:i,isTypeaheadSuggestion:s,isBorderless:l,style:r,useNewConversationalUI:c,buttonAlignment:d,isInline:p})}const c=(0,i.forwardRef)((({maxWidth:e,useNewConversationalUI:t,isInline:n},i)=>(0,a.jsx)(o._r,{children:(0,a.jsx)(o.Or,{ref:i,children:(0,a.jsx)(o.HF,{tabIndex:"-1",style:{display:"none",maxWidth:e},useNewConversationalUI:t,isInline:n,onClick:()=>{}})})})));var d=n(39502),p=n(71982);const u=(e,t,n,i)=>{if(!i)return[0,0];const r=i.querySelector("button");if(!r)return[0,0];r.style.display="",r.textContent=e;const s=[r.offsetWidth+n,r.offsetHeight+t];return r.style.display="none",s},h=(e,t,n,i,r)=>{const s=(e||r)&&"left"===t,a=e||r?n-2*o.O6+"px":n-2*o.Mv+"px",l=r?6:e?o.rZ:o.wT,c=r?6:e?o.Vj:o.wT,d=s?((e,t,n,i)=>{const r=[];let s=0,o=0;return a=>{const[l,c]=u(a,t,n,i);if(o+l>e){const e=r.length>0?r[r.length-1][3]:0;s+=e,o=0}const d=[o,s,l,c];return r.push(d),o+=l,{bounds:d}}})(n,l,c,i.current):((e,t,n,i)=>{const r=[];let s=0;return o=>{const[a,l]=u(o,t,n,i),c=(r.filter((e=>e[1]===s))||[]).map((e=>e[2])).reduce(((e,t)=>e+t),0);if(a+c>e){const e=r.length>0?r[r.length-1][3]:0;s+=e}else r.forEach((e=>{e[1]===s&&(e[0]=e[0]-a)}));const d=[0,s,a,l];return r.push(d),{bounds:d}}})(n,l,c,i.current);return{maxWidth:a,getCurrentSuggestionBounds:d}},g=["bounds"];function m(e){var t;const{suggestions:n,onSelect:u,onHeightChange:m,isInboundBotSuggestions:x,isTypeaheadSuggestions:f,isBorderless:v,useNewConversationalUI:y=!1,isInline:b=!1,suggestionButtonsAlignment:w="right"}=e,j=(0,i.useRef)(),A=(null==(t=j.current)||null==(t=t.parentElement)?void 0:t.offsetWidth)||0,k=(0,r.GV)(p.l),{maxWidth:C,getCurrentSuggestionBounds:S}=h(y,w,A,j,b),T=(j.current?n:[]).map((e=>Object.assign({},e,S(e.text),{isInboundBotSuggestion:x,isTypeaheadSuggestion:f}))),_=T[T.length-1],E=_?_.bounds[1]+_.bounds[3]:0,B=(0,s.pn)(T,{from:({bounds:e})=>({bounds:e,opacity:0}),enter:({bounds:e})=>({bounds:e,opacity:1}),update:({bounds:e})=>({bounds:e}),leave:{opacity:.01,pointerEvents:"none"},config:{mass:3,tension:1e3,friction:200},trail:25,immediate:!1,keys:T.map((e=>e.uuid))}),N=(0,r.GV)(d.HQ);(0,i.useEffect)((()=>{E&&m&&(m(E),setTimeout((()=>m(E)),o.aV))}),[E,m,N,k]),function(e){const t=(0,i.useRef)(),[n,r]=(0,i.useState)(!1);(0,i.useEffect)((()=>(t.current=setTimeout((()=>r(!0)),e),()=>t.current&&clearTimeout(t.current))),[e])}(0);let I=null;const z=B(((e,t)=>{let{bounds:n}=e,i=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(-1!==t.indexOf(i))continue;n[i]=e[i]}return n}(e,g);return null===I&&(I=t),(0,a.jsx)(s.CS.div,{style:i,children:(0,a.jsx)(l,{focused:!1,replyOption:t,onSelect:u,isTypeaheadSuggestion:t.isTypeaheadSuggestion||!1,isBorderless:v,useNewConversationalUI:y,isInline:b,buttonAlignment:w,style:{transform:n.to(((e,t)=>`translate3d(${e}px,${t}px,0)`)).get(),maxWidth:C}})})})),M=null!==I&&I.isInboundBotSuggestion;return(0,a.jsxs)(o.UC,{height:E,isInboundBot:M||!1,isInline:b,isExpanded:k,children:[(0,a.jsx)(c,{ref:j,maxWidth:C,isInline:b,useNewConversationalUI:y}),z]})}},56972:(e,t,n)=>{"use strict";n.d(t,{Y:()=>S});var i=n(86923);var r={name:"hkh81z",styles:"margin-top:8px"};const s=(0,i.Ay)("div",{target:"e1jqii293"})("display:flex;flex-direction:row;align-items:center;margin-bottom:8px;",(({hasAvatar:e})=>!e&&r)," .ai-tooltip{margin-left:auto;}"),o=(0,i.Ay)("span",{target:"e1jqii292"})("color:",(0,i.w4)("textDefault"),";font-size:13px;font-style:normal;font-weight:600;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;",(({systemPart:e,theme:t})=>e&&(0,i.AH)("color:",t.grey500,";")),";"),a=(0,i.Ay)("span",{target:"e1jqii291"})("color:",(0,i.w4)("textDefault"),";font-size:13px;font-style:normal;font-weight:600;flex-shrink:0;white-space:pre;",(({systemPart:e,theme:t})=>e&&(0,i.AH)("color:",t.grey500,";")),";"),l=(0,i.Ay)("div",{target:"e1jqii290"})({name:"hiupyl",styles:"margin-right:8px;filter:drop-shadow(0px 1px 5px rgba(0, 0, 0, 0.2))"});var c=n(55073);const d={name:"1dk0v5d",styles:"z-index:2"},p={name:"1os5t",styles:"margin-left:-2px;mask:radial-gradient(circle 10px at -7px 50%, transparent 99%, #fff 100%);z-index:1"},u={name:"1v771ry",styles:"z-index:3"},h={name:"fafc6j",styles:"margin-left:-2px;mask:radial-gradient(circle 10px at -7px 50%, transparent 99%, #fff 100%);z-index:2"},g={name:"1os5t",styles:"margin-left:-2px;mask:radial-gradient(circle 10px at -7px 50%, transparent 99%, #fff 100%);z-index:1"},m=({index:e,numOfAvatars:t})=>(0,i.AH)(((e,t)=>{switch(t){case 2:switch(e){case 0:return d;case 1:return p;default:return""}case 3:switch(e){case 0:return u;case 1:return h;case 2:return g;default:return""}default:return""}})(e,t),";"),x=(0,i.Ay)("div",{target:"e1nvaxcc1"})(m,";"),f=(0,i.Ay)("div",{target:"e1nvaxcc0"})({name:"646eli",styles:"display:inline-flex;border-radius:4px"});var v=n(74848);const y=({avatar:e})=>{const t=(null==e?void 0:e.shape)||"circle",n="circle"===t?24:20,i={imageUrl:(null==e?void 0:e.square128)||(null==e?void 0:e.imageUrl),initials:null==e?void 0:e.initials,label:null==e?void 0:e.label,shape:t,size:n};return(0,v.jsx)(c.e,Object.assign({},i))},b=({avatar:e,index:t,numOfAdmins:n})=>{const i={imageUrl:(null==e?void 0:e.square128)||(null==e?void 0:e.imageUrl),initials:null==e?void 0:e.initials,label:null==e?void 0:e.label,shape:(null==e?void 0:e.shape)||"circle",size:20};return(0,v.jsx)(x,{index:t,numOfAvatars:n,children:(0,v.jsx)(c.e,Object.assign({},i))})},w=({avatars:e})=>1===e.length?(0,v.jsx)(y,{avatar:e[0]}):e.length>1?(0,v.jsx)(f,{children:e.map(((t,n)=>(0,v.jsx)(b,{avatar:t,index:n,numOfAdmins:e.length},t.imageUrl||t.label)))}):null;var j=n(65318),A=n(29500),k=n(75285),C=n(58643);const S=({part:e,isBorderless:t=!1,isAIAnswer:n=!1})=>{var i;const{metadata:r}=e,c=(0,j.vz)(e),d=(null==r?void 0:r.title)||"",p=`${null!=r&&r.suffix?` • ${r.suffix}`:""}${null!=r&&r.timestamp?` • ${(0,A.iw)((0,k.kU)(r.timestamp))}`:""}`;return null==r||!r.title||t?null:(0,v.jsxs)(s,{hasAvatar:!(null==r||null==(i=r.avatars)||!i.length),children:[r.avatars?(0,v.jsx)(l,{children:(0,v.jsx)(w,{avatars:r.avatars})}):null,(0,v.jsx)(o,{systemPart:c,children:d}),(0,v.jsx)(a,{systemPart:c,children:p}),n&&(0,v.jsx)(C.A,{triggerClassName:"ai-tooltip"})]})}},99459:(e,t,n)=>{"use strict";n.d(t,{A:()=>ErrorBoundary});var i=n(96540),r=n(86923),s=n(13194),o=n(74848);const a=(0,r.Ay)("div",{target:"e16gamoo0"})("font-size:13px;color:",(0,r.w4)("textMuted"),";padding:0 20px;text-align:",(0,r.xk)("align"),";");class ErrorBoundary extends i.Component{constructor(...e){super(...e),this.state={hasError:!1}}componentDidCatch(e){this.setState({hasError:!0}),(0,s.l2)(e)}render(){const{errorText:e,align:t,children:n,style:i}=this.props,{hasError:r}=this.state;return r?(0,o.jsx)(a,{align:t,style:i||{},children:e}):n}}},65772:(e,t,n)=>{"use strict";n.d(t,{A:()=>Post});var i=n(96540),r=n(36656),s=n(60077),o=n(99410),a=n(31218),l=n(63156),c=n(49651),d=n(34913),p=n(69830),u=n(38211),h=n(52271),g=n(79630),m=n(74848);class Post extends i.Component{constructor(...e){super(...e),this.state={isScrolled:!1},this.handleScroll=e=>{this.setState({isScrolled:e.target.scrollTop>0}),(0,g.Xr)(e)},this.addClickedComposerMetric=()=>{const{message:{id:e},conversationId:t}=this.props;(0,p.A5)("clicked","composer","in_app","from_full",{message_type:"post",message_id:e,conversation_id:t})},this.handleComposerClick=e=>()=>{this.addClickedComposerMetric(),this.props.onComposerClick(),e(void 0,{shouldReturnFocus:!1})}}renderFooter(e){const{composerVisible:t,showReplyToButton:n,isUpfrontEmailComposerShowing:i}=this.props;return t?n||i?(0,m.jsx)(d.A,{onClick:this.handleComposerClick(e)}):(0,m.jsx)(u.pM,{className:"intercom-post-composer",onClick:this.handleComposerClick(e),"aria-label":(0,c.Tl)("open_conversation_and_reply"),children:(0,m.jsx)(h.cT,{children:(0,c.Tl)("reply_to_conversation")})}):null}renderReactionPicker(){const{reactionsReply:e,onReactionSelect:t}=this.props;return(0,m.jsx)(l.A,Object.assign({},e,{onReactionSelect:t}))}render(){const{isScrolled:e}=this.state,{appName:t,message:n,reactionsReply:i,onClose:l,frameWindow:d,returnFocus:p,showReplyToButton:h,isUpfrontEmailComposerShowing:g}=this.props,{author:x,lastActiveAt:f,body:v}=n;return(0,m.jsx)(r.A,{closeCallback:l,showCloseOverlay:!1,frameWindow:d,returnFocus:p,children:({onClose:n})=>(0,m.jsx)(u.pD,{isScrolled:e,children:(0,m.jsx)(u.K8,{className:"intercom-post",children:(0,m.jsxs)(o.A,{appName:t,isReplyStyle:!1,author:x,lastActiveAt:f,forceShowAppName:!0,children:[(0,m.jsx)(u.Xz,{className:"intercom-post-close",onClick:n,"aria-label":(0,c.Tl)("close")}),(0,m.jsx)(s.A,{isInsideModal:!0,onScroll:this.handleScroll,children:(0,m.jsx)(a.A,{blocks:v,frameWindow:d})}),(0,m.jsx)(u.oL,{isCentered:h||g,children:i?this.renderReactionPicker():this.renderFooter(n)})]})})})})}}},63156:(e,t,n)=>{"use strict";n.d(t,{A:()=>ReactionPicker});var i=n(96540),r=n(78619),s=n(94325),o=n(74848);class ReactionPicker extends i.Component{constructor(...e){super(...e),this.composer=void 0}render(){const{reactionSet:e,onReactionSelect:t,reactionIndex:n,prompt:i}=this.props;return(0,o.jsxs)(s.f,{ref:e=>this.composer=e,role:"group","aria-labelledby":i?"reaction-prompt":null,hasPrompt:!!i,children:[i?(0,o.jsx)(s.S,{id:"reaction-prompt",children:i}):null,e.map(((e,i)=>(0,o.jsx)(r.A,{onReactionSelect:t,reaction:e,hasSelectedReaction:null!=n,isSelected:n===e.index},i)))]})}}ReactionPicker.defaultProps={reactionIndex:null}},78619:(e,t,n)=>{"use strict";n.d(t,{A:()=>Reaction});var i=n(96540),r=n(54979),s=n(1439),o=n(51480),a=n(74848);class Reaction extends i.Component{constructor(...e){super(...e),this.handleClick=()=>{const{onReactionSelect:e,reaction:t}=this.props;e(t.index)}}render(){const{reaction:e,hasSelectedReaction:t,isSelected:n}=this.props;return(0,a.jsx)(o.H,{onClick:this.handleClick,"aria-label":`${(0,s.x$)(e.emoji)} reaction`,"aria-pressed":n,hasSelectedReaction:t,isSelected:n,children:(0,a.jsx)(r.A,{"aria-hidden":"true",emojiImageSize:32,text:e.emoji})})}}},34913:(e,t,n)=>{"use strict";n.d(t,{A:()=>ReplyToButton});var i=n(96540),r=n(49651),s=n(86923),o=n(85177);const a=(0,s.Ay)(o.A,{target:"e3s5ecz1"})({name:"14te7qs",styles:"position:relative;top:2px;right:8px"});var l={name:"a713ga",styles:"margin:8px 0px 0px 42px;width:81%"};const c=(0,s.Ay)("button",{target:"e3s5ecz0"})("svg{path{fill:",(0,s.w4)("buttonBackgroundColor"),";}}padding:10px;border:1px solid ",(0,s.w4)("buttonBackgroundColor"),";border-radius:40px;margin:0 20px 20px 20px;width:240px;text-align:center;font-size:14px;font-weight:600;color:",(0,s.w4)("buttonBackgroundColor"),";background-color:",(0,s.w4)("buttonTextColor"),";",(({isBorderless:e})=>e&&l),";");var d=n(74848);class ReplyToButton extends i.PureComponent{constructor(...e){super(...e),this.ref=void 0,this.setReplyToButtonRef=e=>{this.ref=e}}componentDidMount(){const{onShow:e}=this.props;if(!this.ref||!e)return;e(this.ref.clientHeight+10)}render(){const{onClick:e,isBorderless:t}=this.props;return(0,d.jsxs)(c,{ref:this.setReplyToButtonRef,onClick:e,isBorderless:t,children:[(0,d.jsx)(a,{}),(0,r.Tl)("reply_to_conversation").replace("…","")]})}}},60077:(e,t,n)=>{"use strict";n.d(t,{A:()=>Scrollable});var i=n(96540),r=n(8375),s=n(84864),o=n(7494),a=n(96808),l=n(46531),c=n(183),d=n(74848);class Scrollable extends i.Component{constructor(...e){super(...e),this.state={scrollable:!1,scrolled:!1},this.scrollingBorderRef=(0,i.createRef)(),this.scrollable=void 0,this.handleHeightChange=()=>{this.setState({scrollable:this.isScrollable()}),this.props.onScrollable&&this.scrollable&&this.props.onScrollable(this.scrollable,this.state.scrollable)},this.handleScroll=(0,s.B)((e=>{const{scrollTop:t}=e.target;this.setState({scrolled:t>0});const{onScroll:n}=this.props;n&&n(e)}),17)}componentDidUpdate(e){e.defaultScrollPosition!==this.props.defaultScrollPosition&&this.props.defaultScrollPosition&&this.scrollable&&(this.scrollable.scrollTop=this.props.defaultScrollPosition),this.handleScrollable()}componentDidMount(){this.handleScrollable(),this.props.defaultScrollPosition&&this.scrollable&&(this.scrollable.scrollTop=this.props.defaultScrollPosition)}handleScrollable(){const{onScrollable:e}=this.props;!this.state.scrollable&&this.isScrollable()&&(this.setState({scrollable:!0}),this.scrollable&&e&&e(this.scrollable,this.state.scrollable))}isScrollable(){return!!this.scrollable&&this.scrollable.scrollHeight>this.scrollable.clientHeight}render(){const{dynamicChildrenHeight:e,showScrollingBorder:t}=this.props,{scrolled:n}=this.state;return(0,d.jsxs)(d.Fragment,{children:[t&&(0,d.jsx)(c.B1,{in:n,classNames:"intercom-drop-shadow-fade",timeout:150,unmountOnExit:!0,nodeRef:this.scrollingBorderRef,children:(0,d.jsx)(l.p,{ref:this.scrollingBorderRef})}),(0,d.jsx)(o.vW,{className:"intercom-scrollable",isInsideModal:this.props.isInsideModal,flex:this.props.flex,onScroll:this.handleScroll,onWheel:r.b$,tabIndex:this.state.scrollable?"0":"-1",ref:e=>this.scrollable=e,children:e?(0,d.jsx)(a.A,{onHeightChange:this.handleHeightChange,children:(0,d.jsx)(d.Fragment,{children:this.props.children})}):this.props.children})]})}}},21752:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var i=n(13555),r=n(49651),s=n(74848);const o=({count:e,query:t})=>(0,s.jsx)("span",{"aria-live":"assertive",children:t?(0,s.jsx)(i.D,{role:"alert",children:e?(0,s.jsxs)("span",{children:[e," ",(0,r.Tl)("article_search_search_results_for_query",{query:t})]}):(0,r.Tl)("article_search_no_results_for_query",{query:t})}):null})},24762:(e,t,n)=>{"use strict";n.d(t,{A:()=>h});var i=n(49651),r=n(86923);const s=(0,r.Ay)("div",{target:"ehp9kao1"})("height:8px;border-radius:10px;overflow:hidden;background-color:",(0,r.w4)("containerEmphasisNeutral"),";"),o=(0,r.Ay)("div",{target:"ehp9kao0"})("height:8px;background-color:",(0,r.w4)("progressBarFilled"),";",(({percentage:e})=>(0,r.AH)("width:",e,"%;transition-property:width;transition-duration:1s;")),";");var a=n(74848);const l=({percentage:e,prefillEmptyPercentage:t})=>{const n=t&&0===e?2:e;return(0,a.jsx)("div",{children:(0,a.jsx)(s,{children:(0,a.jsx)(o,{percentage:n})})})},c=(0,r.Ay)("div",{target:"ea6tcy61"})("display:flex;flex-direction:row;justify-content:",(({condensed:e})=>e?"flex-start":"space-between"),";gap:",(({condensed:e})=>e?"4px":""),";margin-bottom:8px;color:",(0,r.w4)("grey500"),";"),d=(0,r.Ay)("div",{target:"ea6tcy60"})("display:flex;flex-direction:row;p{font-size:14px;color:",(0,r.w4)("grey500"),";line-height:150%;font-weight:400;}"),p=(e,t)=>{const n=e/60;return t>0?1===n?(0,i.Tl)("checklist_in_progress_time_remaining_singular"):(0,i.Tl)("checklist_in_progress_time_remaining_plural",{minutes:n.toString()}):1===n?(0,i.Tl)("checklist_not_started_time_remaining_singular"):(0,i.Tl)("checklist_not_started_time_remaining_plural",{minutes:n.toString()})},u=(e,t)=>0===e?1===t?(0,i.Tl)("checklist_number_of_steps_singular"):(0,i.Tl)("checklist_number_of_steps_plural",{number_of_steps:t.toString()}):1===t||1===e?(0,i.Tl)("checklist_number_of_steps_progress_singular",{total_steps:t.toString()}):(0,i.Tl)("checklist_number_of_steps_progress_plural",{steps_completed:e.toString(),total_steps:t.toString()}),h=({checklistTasks:e,completedChecklistTasks:t,estimatedTimeRemaining:n,condensed:r,prefillProgressIfEmpty:s})=>{const o=t/e*100;return(0,a.jsxs)("div",{"data-testid":"checklist-progress-details",children:[(0,a.jsxs)(c,{condensed:r,children:[(0,a.jsx)(d,{"data-testid":"checklist-remaining-tasks",children:(0,a.jsx)("p",{children:u(t,e)})}),r&&(0,a.jsx)(d,{children:(0,a.jsx)("p",{children:"•"})}),(0,a.jsx)(d,{"data-testid":"checklist-remaining-time",children:(0,a.jsx)("p",{children:t<e?p(n,t):(0,i.Tl)("checklist_completed")})})]}),(0,a.jsx)(l,{percentage:o,prefillEmptyPercentage:s})]})}},78910:(e,t,n)=>{"use strict";n.d(t,{p:()=>Y});var i=n(96540),r=n(75959),s=n.n(r),o=n(86923);const a=(0,o.Ay)("div",{target:"efnb6w2"})({name:"1u2ek4o",styles:"margin:10px -5px;padding-left:3px"}),l=(0,o.Ay)("h3",{target:"efnb6w1"})("color:",(0,o.w4)("metaText"),";font-weight:600;font-size:11px;margin:5px;text-transform:uppercase;line-height:1.27;"),c=(0,o.Ay)("div",{target:"efnb6w0"})({name:"1kix44w",styles:"width:330px;height:260px"});const d=(0,o.Ay)("div",{target:"ek4y4bd5"})({name:"1hp94bq",styles:"position:absolute;height:100%;width:100%;display:block;text-align:center;background-color:rgba(0, 0, 0, 0);z-index:1"}),p=(0,o.Ay)("div",{target:"ek4y4bd4"})("height:50px;width:290px;padding-top:2px;padding-bottom:2px;display:inline-block;position:relative;background-color:",(0,o.w4)("containerBaseNeutral"),";box-shadow:0 1px 15px 1px rgba(0, 0, 0, 0.08);border-radius:6px;z-index:2;box-sizing:border-box;",(({emojiYOffset:e})=>(0,o.AH)("top:",e-17,"px;")),";"),u=(0,o.Ay)("span",{target:"ek4y4bd3"})("padding:3px;width:36px;line-height:1.28;display:inline-block;height:36px;text-align:center;cursor:pointer;vertical-align:middle;font-size:28px;margin:4px 5px 0 6px;box-sizing:border-box;font-family:'Apple Color Emoji','Segoe UI Emoji','NotoColorEmoji','Segoe UI Symbol','Android Emoji','EmojiSymbols',sans-serif;&:hover{background-color:",(0,o.w4)("containerEmphasisNeutral"),";border-radius:3px;}"),h=(0,o.Ay)("span",{target:"ek4y4bd2"})("border-right:1px solid ",(0,o.w4)("borderEmphasisNeutral"),";height:36px;width:1px;"),g=({theme:e,emojiXOffset:t})=>(0,o.AH)("position:absolute;bottom:-8px;right:0;width:0;height:0;border-left:8px solid transparent;border-right:8px solid transparent;border-top:8px solid ",e.borderNeutral,";left:",t-7,"px;"),m=(0,o.Ay)("div",{target:"ek4y4bd1"})(g,";"),x=(0,o.Ay)("div",{target:"ek4y4bd0"})(g," bottom:-9px;border-top:none;");var f=n(74848);class EmojiSkintonePicker extends i.Component{constructor(...e){super(...e),this.handleEmojiClick=e=>{const t=s().unicodeFromIdentifier(e.target.title);this.props.onEmojiClick(this.props.emoji,t)},this.handleOverlayClick=()=>{this.props.onClose()}}renderEmoji(e,t){return(0,f.jsxs)("span",{children:[(0,f.jsx)(u,{title:s().identifierFromUnicode(e),onClick:this.handleEmojiClick,children:e}),0===t?(0,f.jsx)(h,{}):null]},t)}render(){const{emoji:e,emojiXOffset:t,emojiYOffset:n}=this.props,i=s().getAllModifiedForBaseEmoji(e);return i.length<=1?null:(0,f.jsx)(d,{onClick:this.handleOverlayClick,children:(0,f.jsxs)(p,{emojiYOffset:n,children:[i.map(((e,t)=>this.renderEmoji(e,t))),(0,f.jsx)(x,{emojiXOffset:t}),(0,f.jsx)(m,{emojiXOffset:t})]})})}}var v={name:"13ufj22",styles:"transition-delay:0ms;transform:scale(1.2)"};const y=(0,o.Ay)("span",{target:"evh3sr10"})("padding:6px;width:30px;line-height:1.07;display:inline-table;text-align:justify;cursor:pointer;vertical-align:middle;font-size:28px;transition:transform 60ms ease-out;transition-delay:60ms;font-family:'Apple Color Emoji','Segoe UI Emoji','NotoColorEmoji','Segoe UI Symbol','Android Emoji','EmojiSymbols',sans-serif;",(({isActive:e})=>e&&v),";"),b=(0,i.forwardRef)((({emoji:e,title:t,onMouseUp:n,onKeyDown:r,onMouseDown:s,isActive:o,tabIndex:a=0},l)=>{const[c,d]=(0,i.useState)(!1),p=t.replace(/(_|-)/gi," ");return(0,f.jsx)(y,{ref:l,title:t,role:"button","aria-label":p,tabIndex:a,onMouseUp:n,onMouseDown:s,onMouseEnter:()=>{d(!0)},onMouseLeave:()=>{d(!1)},onKeyDown:e=>{"Enter"===e.key||" "===e.key?(e.preventDefault(),n()):r(e)},isActive:c||o,children:e})})),w=(0,i.createContext)(null),j=()=>{const e=(0,i.useContext)(w);if(!e)throw new Error("useEmojiPickerContext must be used within a EmojiPickerContext");return e};var A=n(1439),k=n(49651),C=n(88055),S=n.n(C),T=n(77520),_=n(56213);const E="intercom.recentEmoji",B="1.0",N=[{baseEmoji:"👍",skintoneEmoji:"👍"},{baseEmoji:"👎",skintoneEmoji:"👎"},{baseEmoji:"😭",skintoneEmoji:"😭"},{baseEmoji:"😕",skintoneEmoji:"😕"},{baseEmoji:"😐",skintoneEmoji:"😐"},{baseEmoji:"😊",skintoneEmoji:"😊"},{baseEmoji:"😍",skintoneEmoji:"😍"}];let I;const z=()=>(void 0===I&&(I=(0,_.G5)()),I);function M(){if(!z())return[];const e=T.L.get(E),t=e?JSON.parse(e):{};return t.version&&t.version===B?t.emoji.slice(0,8)||[]:(T.L.remove(E),S()(N))}function R(e){if(!z())return null;const t=T.L.get(E),n=t?JSON.parse(t):null;if(!n||!n.emoji)return e;let i=e;return n.emoji.forEach((t=>{t.baseEmoji!==e||(i=t.skintoneEmoji)})),i}const P=(e,t=R(e))=>{z()&&(t&&function(e,t){const n=T.L.get(E),i=n?JSON.parse(n):null;if(!i||!i.emoji)return;let r=!1,s=i.emoji;s.forEach((n=>{if(n.baseEmoji===e)return n.skintoneEmoji=t,void(r=!0)})),r||(s=S()(s).concat({baseEmoji:e,skintoneEmoji:t})),T.L.set(E,JSON.stringify({version:B,emoji:s}))}(e,t),function(e,t=e){const n=N.find((t=>t.baseEmoji===e));let i=M();const r=i.findIndex((t=>t.baseEmoji===e));r>-1&&i.splice(r,1),i.unshift({baseEmoji:e,skintoneEmoji:t}),i.length<8&&!n&&(i=i.concat(N)),T.L.set(E,JSON.stringify({version:B,emoji:i}))}(e,t||e))},O=e=>{try{return(0,k.Tl)(s().getGroupRepresentatives()[e][1].toLowerCase())}catch(e){return}},L=e=>{const t=(0,i.useMemo)((()=>{const e=M(),t=s().prettyEmoticonsUnicodeGroups().map(((e,t)=>({title:O(t),emojis:e.filter(s().isEmojiBaseUnicode)})));return e&&t.unshift({title:(0,k.Tl)("frequently_used"),emojis:e.map((e=>e.skintoneEmoji||e.baseEmoji))}),t}),[]);return(0,i.useMemo)((()=>e?(e=>{const t=(0,A.Fu)().filter((e=>{const t=e.toLowerCase();return e=>e.title.indexOf(t)>-1})(e)).map((e=>e.emoji));return 0===t.length?[]:[{title:void 0,emojis:t}]})(e):t),[e,t])};var H=n(8375);const D=e=>window.getComputedStyle&&window.getComputedStyle(e)?window.getComputedStyle(e):e.style;var V=n(21752),F=n(64234),q=n(49063);const G=(e,t,n)=>0===e&&0===t?[e,t]:0===t?[e-1,n(e-1)-1]:[e,t-1],U=(e,t,n,i)=>{const r=t===i(e)-1;return e===n-1&&r?[e,t]:r?[e+1,0]:[e,t+1]},$=(e,t,n,r=1,s=!1)=>{const o=(0,i.useRef)({}),[a,l]=(0,i.useState)([0,0]),c=(e,t)=>{var n,i;null!=(n=o.current[e])&&n[t]&&(null==(i=o.current[e][t])||i.focus())},d=n=>{const{key:i,shiftKey:o}=n;switch(i){case"Tab":s&&(n.preventDefault(),l((([t,n])=>{const i=o?((e,t)=>t>0?[e,0]:e>0?[e-1,0]:[e,t])(t,n):((e,t,n)=>e<n-1?[e+1,0]:[e,t])(t,n,e);return c(i[0],i[1]),i})));break;case"ArrowUp":n.preventDefault(),l((([e,n])=>{const i=((e,t,n,i,r=1)=>{if(t<r&&e>0)return[e-1,i(e-1)-1];let s=e,o=t;for(let e=0;e<r;e++){const[e,t]=G(s,o,i);if(e===s&&t===o)break;if(e!==s)return[e,i(e)-1];s=e,o=t}return[s,o]})(e,n,0,t,r);return c(i[0],i[1]),i}));break;case"ArrowLeft":n.preventDefault(),l((([e,n])=>{const i=G(e,n,t);return c(i[0],i[1]),i}));break;case"ArrowDown":n.preventDefault(),l((([n,i])=>{const s=((e,t,n,i,r=1)=>{if(t>i(e)-r&&e<n-1)return[e+1,0];let s=e,o=t;for(let e=0;e<r;e++){const[e,t]=U(s,o,n,i);if(e===s&&t===o)break;if(e!==s)return[e,0];s=e,o=t}return[s,o]})(n,i,e,t,r);return c(s[0],s[1]),s}));break;case"ArrowRight":n.preventDefault(),l((([n,i])=>{const r=U(n,i,e,t);return c(r[0],r[1]),r}))}};return(0,i.useEffect)((()=>{l([0,0])}),n),(e,t)=>({ref:n=>{n&&(o.current[e]||={},o.current[e][t]=n)},tabIndex:e===a[0]&&t===a[1]?0:-1,onKeyDown:d,onClick:()=>{l([e,t])}})},W=(0,i.forwardRef)((({emoji:e,tabIndex:t,onKeyDown:n,onClick:r},o)=>{const{skintoneEmojiToShow:a,setSkintoneEmojiToShow:l,setEmojiXOffset:c,setEmojiYOffset:d,handleEmojiClick:p}=j(),{onMouseDown:u,onMouseUp:h}=(({onStart:e,onFinish:t,onEnd:n,timeout:r=500})=>{const s=(0,i.useRef)(null);return{onMouseDown:n=>{e(n),s.current&&clearTimeout(s.current),s.current=setTimeout((()=>{t()}),r)},onMouseUp:()=>{s.current&&clearTimeout(s.current),n()}}})({onStart(e){const t=e.currentTarget.offsetLeft,n=e.currentTarget.offsetTop-((e,t,n)=>{let i=D(t);const r="absolute"===i.position,s=n?/(auto|scroll|hidden)/:/(auto|scroll)/;if("fixed"===i.position)return e.document.body;for(let e=t;e=e.parentElement;)if(i=D(e),(!r||"static"!==i.position)&&s.test(i.overflow+i.overflowY+i.overflowX))return e;return e.document.body})(window,e.currentTarget).scrollTop;c(t),d(n)},onFinish(){l(e)},onEnd(){a||p(e),l(null),r()}});if(!s().isSupportedUnicode(e))return null;const g=s().identifierFromUnicode(e),m=a===e,x=R(e)||e;return(0,f.jsx)(b,{ref:o,emoji:x,title:g,onKeyDown:n,onMouseUp:h,onMouseDown:u,isActive:m,tabIndex:t})})),K=({emojiGroups:e})=>{const{searchValue:t}=j(),n=$(e.length,(t=>e[t].emojis.length),[t],6,true);return 0===e.length?(0,f.jsx)(a,{children:(0,f.jsx)(q.zC,{children:(0,k.Tl)("no_emoji_found")})}):(0,f.jsx)(f.Fragment,{children:e.map((({title:e,emojis:t},i)=>(0,f.jsxs)(a,{children:[e?(0,f.jsx)(l,{children:e}):null,t.map(((e,t)=>(0,f.jsx)(W,Object.assign({emoji:e},n(i,t)),t)))]},i)))})},Y=({onEmojiClick:e})=>{var t;const[n,r]=(0,i.useState)(""),[s,o]=(0,i.useState)(null),[a,l]=(0,i.useState)(0),[d,p]=(0,i.useState)(0),u=(t,n)=>{void 0!==t&&(P(t,n),e(n||t))},h=""!==n,g=L(n);return(0,f.jsx)(w.Provider,{value:{skintoneEmojiToShow:s,setSkintoneEmojiToShow:o,searchValue:n,setSearchValue:r,emojiXOffset:a,setEmojiXOffset:l,emojiYOffset:d,setEmojiYOffset:p,handleEmojiClick:u},children:(0,f.jsxs)(c,{onClick:e=>e.stopPropagation(),tabIndex:-1,children:[s?(0,f.jsx)(EmojiSkintonePicker,{emoji:s,emojiYOffset:d,emojiXOffset:a,onClose:()=>o(null),onEmojiClick:u}):null,(0,f.jsx)(q.jd,{children:(0,f.jsx)(q.gp,{name:"emoji",autoFocus:!0,placeholder:(0,k.Tl)("search_for_emoji"),value:n,onChange:e=>r(e.target.value),onBlur:F.BW,"aria-label":(0,k.Tl)("search_for_emoji")})}),h&&(0,f.jsx)(V.A,{query:n,count:(null==(t=g[0])||null==(t=t.emojis)?void 0:t.length)||0}),(0,f.jsx)(q.kn,{onWheel:H.b$,"aria-live":"polite",children:(0,f.jsx)(K,{emojiGroups:g})})]})})}},1398:(e,t,n)=>{"use strict";n.d(t,{P:()=>_});var i=n(96540),r=n(79986),s=n(86923);const o=(0,s.Ay)("div",{target:"e10ie76x3"})({name:"1kix44w",styles:"width:330px;height:260px"}),a=(0,s.Ay)("div",{target:"e10ie76x2"})({name:"nty499",styles:"float:left;width:50%;height:150px;padding:5px;box-sizing:border-box"}),l=(0,s.Ay)("div",{target:"e10ie76x1"})({name:"1tya1sx",styles:"width:100%;height:100%;cursor:pointer;border-radius:2px;&:hover{box-shadow:0 1px 3px 0 rgba(0, 0, 0, 0.3);}"}),c=(0,s.Ay)("div",{target:"e10ie76x0"})({name:"t6no7m",styles:"margin:5px -5px;overflow:hidden"});var d=n(8375),p=n(49651),u=n(84864),h=n(71844),g=n(21752),m=n(64234),x=n(49063),f=n(17540),v=n(80607);function y(e,t=""){return(n,i)=>{n(function(e){return{type:v.rGk,searchTerm:e}}(t));const{session:r}=i();return e.searchGifs(r,t).then((e=>{n(function(e,t){return{type:v.ZiH,gifs:t.results,searchTerm:e}}(t,e))})).catch((()=>{n(function(e){return{type:v.cdh,searchTerm:e}}(t))}))}}var b=n(10377),w=n(6534),j=n(38424),A=n(74848);const k=(e,t)=>n=>{(0,f.i)({event:n,eventIdentifier:"select_gif",onClick:n=>{e(t),n.preventDefault()}})},C=e=>e.gifs,S=({query:e,onGifClick:t})=>{const{isFetching:n,gifs:i,fetchingFailed:s}=(0,r.GV)(C),o=(0,j.z)(i.length,[e],0,2);if(n)return(0,A.jsx)(h.A,{});const d=(0,p.Tl)("send");return(0,A.jsxs)(c,{children:[s?(0,A.jsx)(x.zC,{children:(0,p.Tl)("gifs_load_error")}):null,s||0!==i.length?null:(0,A.jsx)(x.zC,{children:(0,p.Tl)("no_gifs_found")}),i.map(((e,n)=>(0,A.jsx)(a,{children:(0,A.jsx)(l,Object.assign({},o(n),{style:{background:`url(${e.url}) center center / cover`},onClick:k(t,e),"aria-label":e.title?`${d} ${e.title} gif`:`${d} gif`}))},e.url)))]})},T=({query:e,handlSearchInputChange:t,onGifClick:n})=>(0,A.jsxs)(o,{onClick:e=>{e.stopPropagation()},tabIndex:-1,children:[(0,A.jsxs)(x.jd,{children:[(0,A.jsx)(x.gp,{name:"gif",autoFocus:!0,placeholder:(0,p.Tl)("search_gif"),onChange:t,onBlur:m.BW,"aria-label":(0,p.Tl)("search_gif")}),(0,A.jsx)(g.A,{count:w.A.length,query:e})]}),(0,A.jsx)(x.kn,{onWheel:d.b$,"aria-live":"polite",children:(0,A.jsx)(S,{query:e,onGifClick:n})})]}),_=({onGifClick:e})=>{const t=(0,r.jL)(),[n,s]=(0,i.useState)(void 0);(0,i.useEffect)((()=>{t(y(b.Ay,n))}),[n,t]);const o=(0,i.useMemo)((()=>(0,u.O)((e=>{s(e.target.value)}),200)),[]);return(0,A.jsx)(T,{query:n,handlSearchInputChange:o,onGifClick:e})}},95029:(e,t,n)=>{"use strict";n.d(t,{A:()=>Sticker});var i=n(96540),r=n(67098),s=n.n(r),o=n(1439),a=n(86923),l=n(14314);const c=96,d=38,p=45,u=(0,a.Ay)("div",{target:"ee6m5h01"})("font-size:",c,"px;line-height:",c,"px;margin-top:",12,"px;",l.zP.className,"{font-size:",d,"px;line-height:",d,"px;margin-top:",4.75,"px;margin-bottom:",4.75,"px;}",l.PG.className,"{font-size:",p,"px;line-height:",p,"px;margin-top:",5.625,"px;margin-bottom:",5.625,"px;}"),h=(0,a.Ay)("img",{target:"ee6m5h00"})("width:",c,"px;height:",c,"px;min-width:",c,"px;min-height:",c,"px;",l.zP.className,"{width:",d,"px;height:",d,"px;min-width:",d,"px;min-height:",d,"px;}",l.PG.className,"{width:",p,"px;height:",p,"px;min-width:",p,"px;min-height:",p,"px;}");var g=n(75959),m=n.n(g),x=n(74848);class Sticker extends i.Component{render(){const{text:e}=this.props,t=(0,o.Zv)(s()(e).replace("&nbsp;","").trim());return this.useNativeEmoji()?this.renderNative(t):this.renderImage(t)}renderNative(e){return(0,x.jsx)(u,{role:"img","aria-label":(0,o.x$)(this.props.text)||e,children:e})}renderImage(e){const t=m().twemojiSVGUri(e);return(0,x.jsx)(h,{src:t,alt:e,"aria-label":(0,o.x$)(this.props.text)})}useNativeEmoji(){const{emoji:e}=this.props;return"native"===e||"image"!==e&&("auto"===e&&(0,o.P9)())}}Sticker.defaultProps={emoji:"auto"}},45892:(e,t,n)=>{"use strict";n.d(t,{A:()=>TeamAvatar});var i=n(96540),r=n(86923);var s={name:"fobkqv",styles:"left:15px"};const o=(0,r.Ay)("div",{target:"e1dri40f0"})("flex:0 0 auto;",(({isCompact:e})=>e&&s),";");const a={name:"hgpnc9",styles:"top:9px;left:-2px;z-index:1"},l={name:"aotk9s",styles:"top:9px;right:-2px;z-index:2"},c={name:"s5nwgd",styles:"top:-1px;left:6px;z-index:2"},d={name:"1otngav",styles:"top:15px;right:14px;z-index:3"},p={name:"3tz3uv",styles:"top:15px;left:14px;z-index:1"},u=(0,r.AH)("width:100%;height:100%;line-height:35px;",o.className," &{width:36px;height:36px;line-height:36px;}"),h={name:"uedfn8",styles:"width:20px;height:20px;line-height:20px"},g=({theme:e,index:t,numOfAvatars:n})=>(0,r.AH)("border-radius:50%;position:absolute;border:2px solid ",e.borderNeutral,";background-color:",e.avatarBackgroundColor,";color:",e.textOnInverse,";text-align:center;font-size:16px;",1===n?u:h," ",((e,t)=>{switch(t){case 2:switch(e){case 0:return a;case 1:return l;default:return""}case 3:switch(e){case 0:return c;case 1:return d;case 2:return p;default:return""}default:return""}})(t,n),";"),m=(0,r.Ay)("div",{target:"e1dkv15p2"})(g,";"),x=(0,r.Ay)("img",{target:"e1dkv15p1"})(g,";"),f=(0,r.Ay)("div",{target:"e1dkv15p0"})({name:"w7e5i4",styles:"width:35px;height:35px;position:relative;float:left"});var v=n(74848);class TeamAvatar extends i.PureComponent{constructor(...e){super(...e),this.renderInitial=(e,t,n)=>{const{firstName:i}=e,r=i.charAt(0).toUpperCase();return(0,v.jsx)(m,{index:t,numOfAvatars:n,children:r},t)},this.renderImage=(e,t,n)=>{const{firstName:i,avatar:{square128:r}}=e,s=`${i||"admin"} avatar`;return(0,v.jsx)(x,{src:r,alt:s,index:t,numOfAvatars:n},t)},this.renderAvatar=(e,t,n)=>e.avatar.square128?this.renderImage(e,n,t):this.renderInitial(e,n,t)}render(){const e=this.props.admins.filter(Boolean).slice(0,3);return(0,v.jsx)(f,{children:e.map(((t,n)=>this.renderAvatar(t,e.length,n)))})}}TeamAvatar.defaultProps={admins:[]}},92090:(e,t,n)=>{"use strict";n.d(t,{YA:()=>k,Ay:()=>w,R7:()=>S});var i={};n.r(i),n.d(i,{Content:()=>p,Wrap:()=>c});var r=n(86923),s=n(72977),o=n(14072);var a={name:"1qlw8vx",styles:"transform:translate(0, 100%);bottom:-2px;right:0"},l={name:"ue1v0s",styles:"transform:translate(-50%, 100%);bottom:-2px;left:50%"};const c=(0,r.Ay)("div",{target:"e8w1ysz1"})("z-index:",(0,s.fE)(1),";box-sizing:border-box;position:absolute;width:auto;pointer-events:",(0,r.xk)("pointerEvents"),";",(({position:e})=>"bottom"===e&&l)," ",(({position:e})=>"bottomRight"===e&&a)," ",(({position:e,top:t,bottom:n,left:i})=>"auto"===e&&(0,r.AH)("transform:translate(-50%, 0);",null!=t&&(0,r.AH)("top:",t,"px;")," ",null!=n&&(0,r.AH)("bottom:",n,"px;")," left:",i,"px;")),";");var d={name:"1bmnxg7",styles:"white-space:nowrap"};const p=(0,r.Ay)("div",{target:"e8w1ysz0"})("background:",(0,r.w4)("containerEmphasisNeutral"),";opacity:0.95;color:",(0,r.w4)("textDefault"),";border-radius:3px;font-size:12px;line-height:1.4;text-align:center;padding:2px 4px 0;",(({wrapText:e})=>!e&&d)," ",(({type:e,theme:t})=>"dark"===e&&(0,r.AH)("background:",(0,o.vf)(t.grey950,.55),";")),";");var u=n(96540),h=n(52203),g=n(52555),m=n(74848);const x=200,f=100,v=20,y=15,b=5;function w({children:e,content:t,position:n="auto",enabled:i=!0,type:r="default",wrapText:s=!1,hideOnMouseMove:o=!0,enablePointerEvents:a=!1,enterDelay:l=500,exitDelay:d=0,forceShow:w=!1}){const[j,A]=(0,u.useState)({top:0,bottom:null,left:0}),[k,C]=(0,u.useState)(!1),S=(0,u.useRef)(null),T=(0,u.useRef)(null),_=(0,u.useRef)(null),E=(0,u.useRef)(Date.now()),B=()=>{clearTimeout(_.current),clearInterval(T.current)};(0,u.useEffect)((()=>B),[]);const N=w||k&&i&&t,I=(0,m.jsx)(h.A,{animationKey:Boolean(N).toString(),duration:x,children:N?(0,m.jsx)(c,{as:g.CS.div,position:n,left:j.left,top:j.top,bottom:j.bottom,pointerEvents:a?"auto":"none",children:"string"!=typeof t?t:(0,m.jsx)(p,{type:r,wrapText:s,children:t})}):null}),z={onMouseEnter:()=>{B(),T.current=setInterval((()=>{const e=Date.now()-E.current>l;C(e),e&&clearInterval(T.current)}),f)},onMouseLeave:()=>{B(),_.current=setTimeout((()=>{C(!1)}),d)},onMouseMove:e=>{if(!S.current)return;const t=S.current.getBoundingClientRect(),n=e.clientX-t.left,i=e.clientY-t.top,r=t.bottom-e.clientY;let s,a;i>t.height/2?s=Math.round(r+y):a=Math.round(i+v),E.current=Date.now(),o&&C(!1),A({top:a,bottom:s,left:Math.round(n+b)})},ref:S};return(0,m.jsx)(m.Fragment,{children:e(I,z)})}var j=n(82825),A=n(49651);function k({explanation:e,learnMoreURL:t}){return(0,m.jsxs)(C,{children:[e,t&&(0,m.jsxs)("a",{href:t,target:"_blank",rel:"noreferrer",children:[(0,A.Tl)("learn_more")," ",(0,m.jsx)(j.A,{})]})]})}const C=(0,r.Ay)("div",{target:"e13saqdc0"})("border-radius:10px;background:",(0,o.vf)((0,r.w4)("grey950"),.9),";padding:16px;min-width:300px;color:",(0,r.w4)("textOnInverse"),";line-height:150%;font-size:14px;font-weight:400;a{display:flex;align-items:center;color:rgb(153, 153, 153);font-weight:600;text-decoration:none;&:hover,&:active{color:rgb(153, 153, 153);}svg{height:13px;path{stroke:rgb(153, 153, 153);}}}"),S=i},52203:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var i=n(96540),r=n(52555),s=n(74848);const o={opacity:0},a={opacity:1};function l(e){const{children:t,duration:n=200,animationKey:l}=e,c=(0,i.useRef)(null),[d,p]=(0,i.useState)(null);(0,i.useEffect)((()=>{t?(clearTimeout(c.current),p(t)):c.current=setTimeout((()=>p(null)),n||0)}),[t,n]),(0,i.useEffect)((()=>()=>clearTimeout(c.current)),[]);return(0,r.pn)(t,{from:o,enter:a,leave:o,config:{duration:n},immediate:!1,keys:(0,i.isValidElement)(t)?t.key??l??"static":null})(((e,n)=>n?(0,s.jsx)(r.CS.div,{style:e,children:d||t}):null))}},91889:(e,t,n)=>{"use strict";n.d(t,{l:()=>o});var i=n(55073),r=n(93573),s=n(74848);const o=({admin:e,size:t,showStatus:n=!1,solidBackground:o})=>{const a="isActive"in e&&!!e.isActive;return(0,s.jsx)(i.e,Object.assign({solidBackground:o,showStatus:n&&a,size:t},(0,r.g)(e)))}},37341:(e,t,n)=>{"use strict";n.d(t,{h:()=>l});var i=n(55073),r=n(91889),s=n(45892),o=n(93573),a=n(74848);const l=({author:e,size:t,solidBackground:n})=>{var l;switch(null==(l=e.type)?void 0:l.toLowerCase()){case"team":return(0,a.jsx)(s.A,{admins:e.admins});case"admin":return(0,a.jsx)(r.l,{admin:e,size:t,solidBackground:n});default:var c;return(0,a.jsx)(i.e,Object.assign({},(0,o.g)(e),{showStatus:!1,shape:(null==(c=e.avatar)?void 0:c.shape)||"circle",size:t}))}}},44458:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(86923);var r={name:"1376nfd",styles:"border-radius:16.7%;img{border-radius:16.7%;}"};const s=(0,i.Ay)("div",{target:"e2rn66r0"})("margin:0 auto;border-radius:50%;display:inline-block;vertical-align:middle;cursor:default;position:relative;img{border-radius:50%;",(({initial:e,solidBackground:t,theme:n})=>!e&&t&&(0,i.AH)("background-color:",n.avatarBackgroundColor,";")),";}",(({size:e})=>((e=32)=>(0,i.AH)("width:",e,"px;height:",e,"px;line-height:",e,"px;font-size:",e/2,"px;img{width:",e,"px;height:",e,"px;}"))(e))," ",(({initial:e,theme:t})=>e&&(0,i.AH)("text-transform:uppercase;background-color:",t.avatarBackgroundColor,";color:",t.textOnInverse,";text-align:center;display:inline-flex;justify-content:center;align-items:center;"))," ",(({user:e,theme:t})=>e&&(0,i.AH)("background-color:",t.containerNeutral,";color:#94abb6;"))," ",(({shape:e})=>"squircle"===e&&r),";")},55073:(e,t,n)=>{"use strict";n.d(t,{e:()=>d,m:()=>c});var i=n(96540),r=n(44458),s=n(86923);var o={name:"47scv",styles:"background-color:#f1c743"};const a=(0,s.Ay)("div",{target:"e9f496v0"})("width:",(0,s.xk)("size")||8,"px;height:",(0,s.xk)("size")||8,"px;background-color:#7ed321;border:",(0,s.xk)("borderSize")||2,"px solid ",(0,s.w4)("appSecondaryColor"),";margin:0 auto;border-radius:50%;display:inline-block;vertical-align:bottom;right:",(0,s.xk)("right")||3,"px;bottom:",(0,s.xk)("bottom")||3,"px;position:absolute;",(({isActive:e})=>!e&&o),";");var l=n(74848);const c=(0,i.createContext)(32);c.displayName="AvatarSizeContext";const d=({initials:e,label:t,imageUrl:n,shape:s="circle",showStatus:o=!1,size:d,solidBackground:p})=>{const u=(0,i.useContext)(c),[h,g]=(0,i.useState)(!1),m=!n||h,x=m?{initial:m,role:"img","aria-label":t}:{};return(0,l.jsxs)(r.Z,Object.assign({size:d||u,shape:s},x,{solidBackground:p,children:[m?e:(0,l.jsx)("img",{src:n,alt:t,onError:()=>{g(!0)}}),o&&(0,l.jsx)(a,{isActive:!0,right:0,bottom:2,borderSize:2,size:Math.floor((d||32)/5)})]}))}},58820:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var i=n(86923);const r=(0,i.Ay)("button",{target:"etxngei0"})("width:",(e=>e.fullWidth?"100%":"fit-content"),";max-width:100%;box-sizing:border-box;padding:",(0,i.xk)("padding"),";position:relative;border-radius:",(0,i.xk)("borderRadius"),";display:flex;justify-content:center;align-items:center;gap:",(0,i.xk)("gap"),"px;cursor:pointer;pointer-events:auto;font-size:14px;line-height:20px;color:inherit;font-weight:600;font-family:",(0,i.w4)("fontSansSerif"),";white-space:nowrap;transition:color 0.2s ease,background-color 0.2s ease,box-shadow 0.2s ease-in-out;&:active{box-shadow:none;}&:focus{box-shadow:0px 0px 1px 2px ",(({theme:e})=>e.buttonShadowFocus),";}",(({variant:e,theme:t})=>"primary_light"===e&&(0,i.AH)("&&{color:",t.isPrimaryColorReadable?t.primaryColor:t.textDefault,";background:",t.containerBaseNeutral,";border:1px solid rgba(0, 0, 0, 0.1);box-shadow:0px 1px 4px rgba(0, 0, 0, 0.1);}@media (hover: hover){&:hover{background:",t.headerButtonHoverBackgroundColor,";}}"))," ",(({variant:e,theme:t})=>"primary"===e&&(0,i.AH)("&&{color:",t.buttonTextColor,";background:",t.primaryColor,";}@media (hover: hover){&:hover{background:",t.buttonBackgroundHover,";}}&:active{color:",t.buttonTextColor,";}"))," ",(({variant:e,theme:t})=>"secondary"===e&&(0,i.AH)("&&{color:",t.textDefault,";background:",t.containerBaseNeutral,";border:1px solid ",t.borderEmphasisNeutral,";}@media (hover: hover){&:hover{background:",t.containerNeutral,";}}"))," ",(({variant:e,theme:t})=>"subtle"===e&&(0,i.AH)("&&{color:",t.textDefault,";background:transparent;}@media (hover: hover){&:hover{background:",t.containerNeutral,";}}"))," ",(({variant:e,theme:t})=>"header"===e&&(0,i.AH)("min-width:48px;min-height:48px;color:",t.headerButtonColor,";background:transparent;@media (hover: hover){&:hover{background:",t.headerButtonHoverBackgroundColor,";}}&:focus{box-shadow:none;}"))," ",(({isLoading:e,theme:t})=>e&&(0,i.AH)("&&{color:",t.textMuted,";background:",t.containerEmphasisNeutral,";}"))," ",(({disabled:e,theme:t})=>e&&(0,i.AH)("&&{color:",t.disabledButtonText,";background:",t.disabledButtonBackground,";}")),";")},27362:(e,t,n)=>{"use strict";n.d(t,{A:()=>d,z:()=>p});var i=n(96540),r=n(58820),s=n(40172),o=n(74848);const a=["as","iconType","iconSize","children","disabled","loading","borderRadius","onClick","variant","gap","fullWidth","preventDefault","padding"];const l=16,c=(0,i.forwardRef)(((e,t)=>{let{as:n,iconType:i,iconSize:c=l,children:d,disabled:p=!1,loading:u=!1,borderRadius:h=12,onClick:g,variant:m="primary",gap:x=16,fullWidth:f=!1,preventDefault:v=!1,padding:y="10px 16px"}=e,b=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(-1!==t.indexOf(i))continue;n[i]=e[i]}return n}(e,a);return(0,o.jsxs)(r.A,Object.assign({as:n,ref:t,disabled:p,isLoading:u,onClick:e=>{v&&e.preventDefault(),g&&g(e)},borderRadius:"string"==typeof h?h:`${h}px`,padding:"string"==typeof y?y:`${y}px`,variant:m,gap:x,fullWidth:f,"aria-label":"string"==typeof d?d:void 0},b,{children:[d,i&&(0,o.jsx)(s.Ay,{type:i,size:c})]}))})),d=c,p=e=>(0,o.jsx)(c,Object.assign({as:"a"},e))},83140:(e,t,n)=>{"use strict";n.d(t,{A:()=>i.A,z:()=>i.z});var i=n(27362)},18166:(e,t,n)=>{"use strict";n.d(t,{P:()=>o,x:()=>a});var i=n(96540),r=n(74848);const s=(0,i.createContext)(void 0);s.displayName="TooltipPlaceContext";const o=()=>{const e=(0,i.useContext)(s);if(!e)throw new Error("Component needs to be wrapped in a TooltipPlaceContext");return e},a=({children:e})=>{const t=(0,i.useRef)(null),[n,o]=(0,i.useState)(null);return(0,i.useEffect)((()=>{o(t.current)}),[]),(0,r.jsxs)(s.Provider,{value:{element:n},children:[(0,r.jsx)("div",{ref:t}),e]})}},6314:(e,t,n)=>{"use strict";n.d(t,{o:()=>i});const i="email@example.com"},88546:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>_e});var i=n(71468),r=n(96540),s=n(8375),o=n(37341),a=n(66433),l=n(49651),c=n(74848);function d(e){return e.length>0}class StringAttribute extends r.Component{render(){const{value:e,errorMessage:t,onSubmit:n,onChange:i,placeholder:r,id:s,label:o,saveState:p,multiline:u,disabled:h,isBorderless:g,isReplyType:m,isSubmittable:x,hideErrorMessage:f,ariaLabel:v}=this.props;return(0,c.jsx)(a.A,{value:e,placeholder:r,id:s,label:o,saveState:p,multiline:u,disabled:h,isValid:d,isBorderless:g,isReplyType:m,isNotificationChannel:!1,isSubmittable:x,onSubmit:n,onChange:i,hideErrorMessage:f,validationErrorMessage:t||(0,l.Tl)("string_is_incorrect"),ariaLabel:v||r})}}StringAttribute.defaultProps={isSubmittable:!0,hideErrorMessage:!1};var p=n(48368);function u(e){return!!e.match(/^-?\d+$/)}class IntegerAttribute extends r.Component{render(){const{value:e,errorMessage:t,onSubmit:n,saveState:i,disabled:r,isBorderless:s,isReplyType:o,ariaLabel:d}=this.props;return(0,c.jsx)(a.A,{value:e,placeholder:(0,l.Tl)("type_a_number"),saveState:i,disabled:r,isValid:u,isBorderless:s,isReplyType:o,isNotificationChannel:!1,onSubmit:n,validationErrorMessage:t||(0,l.Tl)("number_is_incorrect"),ariaLabel:d||(0,l.Tl)("type_a_number")})}}function h(e){return!!e.match(/^-?\d+\.\d+$/)}function g(e){return function(e){return!!e.match(/^-?\d+$/)}(e)?`${e}.0`:e}class FloatAttribute extends r.Component{render(){const{value:e,errorMessage:t,onSubmit:n,saveState:i,disabled:r,isBorderless:s,isReplyType:o,ariaLabel:d}=this.props;return(0,c.jsx)(a.A,{value:e,placeholder:(0,l.Tl)("type_a_number"),saveState:i,disabled:r,isValid:h,formatter:g,isBorderless:s,isReplyType:o,isNotificationChannel:!1,onSubmit:n,validationErrorMessage:t||(0,l.Tl)("number_is_incorrect"),ariaLabel:d||(0,l.Tl)("type_a_number")})}}var m=n(91832),x=n(86923);const f=(0,x.Ay)("div",{target:"ehiy7yk2"})({name:"pw7jst",styles:"position:relative;width:100%"}),v=(0,x.Ay)("span",{target:"ehiy7yk1"})({name:"1efi8gv",styles:"font-weight:bold"});var y={name:"rxcvnq",styles:"border-left-width:0;border-top-left-radius:0;border-bottom-left-radius:0"},b={name:"wbysdl",styles:"border-right-width:0"},w={name:"10if9qx",styles:"border-top-right-radius:0;border-bottom-right-radius:0"},j={name:"f0uxs0",styles:"&:hover,&:focus{border-left-width:1px;margin-left:-1px;width:50%;}"};const A=(0,x.Ay)("button",{target:"ehiy7yk0"})("box-sizing:border-box;border:1px solid ",(0,x.w4)("attributeButtonColor"),";color:",(0,x.w4)("attributeButtonColor"),";border-radius:4px;display:inline-block;font-size:14px;padding:12px;text-align:center;width:calc(50% - 1px);&,*{cursor:pointer;}&[disabled]{cursor:not-allowed;}",(({saveState:e,theme:t})=>("saving"===e||"saved"===e)&&(0,x.AH)("border:1px solid ",t.attributeButtonColor,";&,*{cursor:default;}"))," ",(({value:e,theme:t})=>void 0===e&&(0,x.AH)("color:",t.attributeButtonColor,";cursor:pointer;&:hover,&:focus{background-color:",t.attributeButtonHoverColor,";}&:active{background-color:",t.attributeButtonActiveColor,";}"))," ",(({value:e,selected:t})=>void 0===e&&!1===t&&j)," ",(({selected:e})=>!0===e&&w)," ",(({selected:e,value:t})=>!0===e&&void 0!==t&&t!==e&&b)," ",(({selected:e})=>!1===e&&y)," ",(({selected:e,value:t,theme:n})=>e===t&&(0,x.AH)("border-left-width:1px;background-color:",n.attributeButtonColor,";",v.className,"{color:",n.textOnInverse,";}"))," ",(({selected:e,value:t,theme:n})=>void 0!==t&&t!==e&&(0,x.AH)(v.className,"{color:",n.textMuted,";}")),";");class BooleanAttribute extends r.Component{constructor(...e){super(...e),this.state={value:this.props.value}}createHandleSubmit(e){const{saveState:t}=this.props;return"saved"===t||"saving"===t?()=>{}:()=>{this.props.onSubmit(e)}}render(){const{value:e}=this.state,{saveState:t,disabled:n}=this.props;return(0,c.jsxs)("div",{children:[(0,c.jsxs)(f,{children:[(0,c.jsx)(A,{saveState:t,selected:!0,value:e,disabled:n,onClick:this.createHandleSubmit(!0),children:(0,c.jsx)(v,{children:(0,l.Tl)("attribute_collector_positive")})}),(0,c.jsx)(A,{saveState:t,selected:!1,value:e,disabled:n,onClick:this.createHandleSubmit(!1),children:(0,c.jsx)(v,{children:(0,l.Tl)("attribute_collector_negative")})})]}),"failed"===this.props.saveState&&(0,c.jsx)(m.A,{errorMessage:(0,l.Tl)("something_is_wrong")})]})}}var k=n(57170),C=n(86848),S=n(1017),T=n(8198),_=n(64234),E=n(72977),B=n(17485),N=n(73847);const I=(0,x.Ay)("div",{target:"enj4v442"})("position:relative;background:",(0,x.w4)("inputBackground"),";&,input{width:100%;height:40px;font-size:14px;line-height:40px;box-sizing:border-box;}input{position:absolute;padding:11px;padding-right:51px;box-sizing:border-box;border:1px solid ",(0,x.w4)("inputBorder"),";border-radius:4px;&[disabled]{cursor:not-allowed;}&::placeholder{color:",(0,x.w4)("inputPlaceholder"),";}}",(({saveState:e,theme:t})=>("saved"===e||"saving"===e)&&(0,x.AH)("input{border:1px solid ",t.inputBorder,";}"))," ",(({isInvalid:e,theme:t})=>e&&(0,x.AH)("background-color:",t.containerError,";color:",t.textError,";border-color:",t.borderError,";")),";"),z={name:"1ksbapn",styles:"position:absolute;top:0;right:0;bottom:0;width:40px;border-top-right-radius:3px;border-bottom-right-radius:3px;background-position:center"};var M={name:"6dhm9o",styles:"visibility:hidden"};const R=(0,x.Ay)("button",{target:"enj4v441"})("cursor:pointer;&[disabled]{cursor:not-allowed;}background-color:",(0,x.w4)("appColor"),";box-shadow:0 1px 2px 0 rgba(0, 0, 0, 0.15);",z,"@media (-ms-high-contrast: active){border:1px solid ",(0,x.w4)("borderNeutral"),";}",(({saveState:e})=>("saved"===e||"saving"===e)&&M),";"),P=(0,x.Ay)("span",{target:"enj4v440"})(z," ",(0,E.op)(B,N,"14px","12px"),";"),O=({value:e,saveState:t,isInvalid:n,isBorderless:i,isReplyType:r,disabled:s,onChange:o,onSubmit:a})=>{const d=()=>s||"saving"===t||"saved"===t,p=()=>"saving"===t;return(0,c.jsxs)(I,{saveState:t,isInvalid:n,children:[(0,c.jsx)("input",{name:"datetime",type:"datetime-local",role:"textbox",disabled:d(),autoFocus:!(i&&r),defaultValue:(e=>{const t=new Date(e);return`${t.getFullYear()}-${(t.getMonth()+1).toString().padStart(2,"0")}-${t.getDate().toString().padStart(2,"0")}T${t.getHours().toString().padStart(2,"0")}:${t.getMinutes().toString().padStart(2,"0")}`})(e),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),a())},onChange:e=>{o(e.target.value.trim())},onBlur:_.BW,"aria-label":"date time"}),(0,c.jsx)(P,{}),(0,c.jsx)(R,Object.assign({disabled:d(),onClick:a,saveState:t,"aria-label":p()?(0,l.Tl)("loading"):(0,l.Tl)("submit")},p()?{role:"progressbar"}:{},{children:(0,c.jsx)(T.A,{disabled:d(),loading:p()})}))]})},L=({value:e,saveState:t,isBorderless:n,isReplyType:i,errorMessage:s,disabled:o,onSubmit:a})=>{const[l,d]=(0,r.useState)({value:e||"",isValid:!0}),p=e=>{if(!e)return!1;const t=new Date(e);return!isNaN(t.getTime())},u=()=>"failed"===t||!l.isValid;return(0,c.jsxs)("div",{children:[(0,c.jsx)(O,{value:l.value,saveState:t,isInvalid:u(),isBorderless:n,isReplyType:i,disabled:o,onChange:e=>{d({value:e,isValid:!0})},onSubmit:()=>{const{value:e}=l;if(p(e)){const t=new Date(e);a(t.toISOString())}else d({value:e,isValid:!1})}}),u()&&!!s&&(0,c.jsx)(m.A,{errorMessage:s})]})};var H=n(1187);const D=(0,x.Ay)("div",{target:"e11w63we1"})({name:"1gzi742",styles:"margin:0 0 16px;&:last-child{margin:0;}"}),V=(0,x.Ay)("div",{target:"e11w63we0"})({name:"90ttzg",styles:"margin-bottom:5px;font-size:14px;line-height:20px"});var F=n(1200),q=n(79986),G=n(10377),U=n(40172),$=n(30998);const W=(0,x.Ay)("div",{target:"ed4y61j5"})("position:relative;background:",(0,x.w4)("inputBackground"),";cursor:pointer;&,label{width:100%;height:40px;font-size:14px;line-height:40px;box-sizing:border-box;}label{position:absolute;padding:11px 5px;box-sizing:border-box;border:1px solid ",(0,x.w4)("inputBorder"),";border-radius:4px;&[disabled]{cursor:not-allowed;}}",(({saveState:e,theme:t})=>("saved"===e||"saving"===e)&&(0,x.AH)("input,label{border:1px solid ",t.inputBorder,";}"))," ",(({isInvalid:e,theme:t})=>e&&(0,x.AH)("input,label{background-color:",t.containerError,";color:",t.textError,";border-color:",t.borderError,";}")),";"),K={name:"1ksbapn",styles:"position:absolute;top:0;right:0;bottom:0;width:40px;border-top-right-radius:3px;border-bottom-right-radius:3px;background-position:center"};var Y={name:"6dhm9o",styles:"visibility:hidden"};const Z=(0,x.Ay)("button",{target:"ed4y61j4"})("cursor:pointer;&[disabled]{cursor:not-allowed;}background-color:",(0,x.w4)("appColor"),";box-shadow:0 1px 2px 0 rgba(0, 0, 0, 0.15);",K,"@media (-ms-high-contrast: active){border:1px solid ",(0,x.w4)("borderNeutral"),";}",(({saveState:e})=>"saved"===e&&Y),";");var J={name:"6dhm9o",styles:"visibility:hidden"};const Q=(0,x.Ay)("div",{target:"ed4y61j3"})("width:100%;height:40px;font-size:14px;line-height:40px;box-sizing:border-box;position:absolute;padding:0 35px;color:",(0,x.w4)("inputPlaceholder"),";top:0;cursor:pointer;",(({hidden:e})=>e&&J),";"),X=(0,x.Ay)("span",{target:"ed4y61j2"})(K," ",(0,E.op)(B,N,"14px","12px"),";"),ee=(0,x.Ay)("div",{target:"ed4y61j1"})("cursor:pointer;position:absolute;left:13px;",$.I.className,"{svg{path{fill:",(({theme:e})=>e.iconDefault),";}circle{stroke:",(({theme:e})=>e.iconDefault),";}}}"),te=(0,x.Ay)("div",{target:"ed4y61j0"})("margin-left:6px;font-size:14px;line-height:20px;padding:0 30px;font-weight:400;font-family:",(0,x.w4)("fontSansSerif"),";white-space:nowrap;overflow:hidden;text-overflow:ellipsis;");var ne=n(71844),ie=n(5351);const re="idle",se="uploading",oe="failed",ae=(e,t)=>{switch(t.type){case"UPLOAD_START":return Object.assign({},e,{status:se,errorMessage:null,upload:{name:t.payload.name,id:void 0}});case"UPLOAD_SUCCESS":return Object.assign({},e,{status:"uploaded",upload:Object.assign({},e.upload,{id:t.payload.id})});case"UPLOAD_FAILURE":return Object.assign({},e,{status:oe,errorMessage:t.payload.errorMessage});case"RESET_UPLOAD":return{status:re,errorMessage:null,upload:null};default:return e}},le=({onSubmit:e,ariaLabel:t,value:n,saveState:i,placeholder:s,disabled:o,identifier:a})=>{var d,p,u,h;const g=(0,q.GV)((e=>e.session)),x=(0,ie.A)(),[f,v]=(0,r.useReducer)(ae,{status:re,errorMessage:null,upload:{name:null==n||null==(d=n[0])?void 0:d.name,id:null==n||null==(p=n[0])?void 0:p.id}}),y=(0,r.useMemo)((()=>"saving"===i||f.status===se),[i,f.status]),b=(0,r.useMemo)((()=>o||"saved"===i||"saving"===i||f.status===se),[i,o,f.status]),w=(0,r.useMemo)((()=>"failed"===i||f.status===oe),[i,f.status]),j=Object.assign({"aria-label":y?(0,l.Tl)("loading"):(0,l.Tl)("submit")},y?{role:"progressbar"}:{});return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(W,{isInvalid:w,saveState:i,children:(0,c.jsxs)("label",{htmlFor:a,children:[(0,c.jsx)("input",{type:"file",id:a,onChange:e=>{const t=e.target,n=t.files;null!=n&&n.length>0&&(v({type:"UPLOAD_START",payload:{name:n[0].name}}),(0,F.oT)(G.Ay,g,n[0]).then((e=>{void 0!==(null==e?void 0:e.id)&&(v({type:"UPLOAD_SUCCESS",payload:{id:e.id}}),t.value="")})).catch((async e=>{var t;const n=JSON.parse(e),i=(null==n||null==(t=n.errors)||null==(t=t[0])?void 0:t.message)||(0,l.Tl)("something_is_wrong");v({type:"UPLOAD_FAILURE",payload:{errorMessage:i}})})))},"aria-label":t,disabled:b,multiple:!1,required:!0,"data-testid":"file-upload-input",style:{display:"none"}}),(0,c.jsxs)("div",{children:[(0,c.jsx)(ee,{children:(0,c.jsx)(U.Ay,{type:"Attachment",size:16})}),(0,c.jsx)(Q,{hidden:!(null==(u=f.upload)||!u.name),children:(0,c.jsx)("span",{children:s})}),(null==(h=f.upload)?void 0:h.name)&&(0,c.jsx)(te,{children:f.upload.name}),(0,c.jsx)(X,{"data-testid":"success-icon"}),(0,c.jsxs)(Z,Object.assign({disabled:b,onClick:()=>{var t,n;void 0!==(null==(t=f.upload)?void 0:t.id)&&e([null==(n=f.upload)?void 0:n.id])},saveState:i},j,{children:[(0,c.jsx)(T.A,{disabled:b,loading:y}),y?(()=>{const{isPrimaryColorLight:e}=x||{},t=e?"black":"white";return(0,c.jsx)(ne.A,{color:t,size:"small"})})():null]}))]})]})}),w&&(0,c.jsx)(m.A,{errorMessage:f.errorMessage?f.errorMessage:(0,l.Tl)("something_is_wrong")})]})},ce=r.memo(le);class AttributeCollectorCardAttribute extends r.Component{constructor(...e){super(...e),this.handleSubmit=e=>{const{identifier:t,onSubmit:n}=this.props;n(t,e)},this.handleArraySubmit=e=>{this.handleSubmit(e.text)}}fitsButtonGroupLayout(e){const t=e.length,n=Math.floor(18/t);return t<=4&&e.every((e=>e.length<=n))}renderAttribute(){const{name:e,type:t,identifier:n,value:i,multiline:r,options:s,saveState:o,errorCode:a,defaultCountryCode:l,isBorderless:d,isReplyType:u,disabled:h}=this.props,g=i?String(i):void 0;return"email"===n?(0,c.jsx)(p.A,{disabled:h,value:g,saveState:o,isBorderless:d,isReplyType:u,isNotificationChannel:!1,onSubmit:this.handleSubmit}):"phone"===n?(0,c.jsx)(S.A,{disabled:h,value:g,saveState:o,errorCode:a,defaultCountryCode:l,isBorderless:d,isReplyType:u,isNotificationChannel:!1,onSubmit:this.handleSubmit},g):"string"===t&&Array.isArray(s)?this.renderArrayAttribute(s,g):"string"===t?(0,c.jsx)(StringAttribute,{disabled:h,value:g,multiline:r,saveState:o,isBorderless:d,isReplyType:u,onSubmit:this.handleSubmit,ariaLabel:e}):"integer"===t?(0,c.jsx)(IntegerAttribute,{disabled:h,value:g,saveState:o,isBorderless:d,isReplyType:u,onSubmit:this.handleSubmit,ariaLabel:e}):"float"===t?(0,c.jsx)(FloatAttribute,{disabled:h,value:g,saveState:o,isBorderless:d,isReplyType:u,onSubmit:this.handleSubmit,ariaLabel:e}):"datetime"===t?(0,c.jsx)(L,{disabled:h,value:g,saveState:o,isBorderless:d,isReplyType:u,onSubmit:this.handleSubmit}):"boolean"!==t||"boolean"!=typeof i&&void 0!==i?"files"===t?(0,c.jsx)(ce,{placeholder:"Add file",saveState:o,onSubmit:this.handleSubmit,ariaLabel:e,identifier:n,value:i},t):null:(0,c.jsx)(BooleanAttribute,{disabled:h,value:i,saveState:o,isBorderless:d,isReplyType:u,onSubmit:this.handleSubmit},JSON.stringify(i))}renderArrayAttribute(e,t){const{saveState:n,disabled:i}=this.props,r=t?{id:t,text:t}:null,s=e.map((e=>({id:e,text:e})));return this.fitsButtonGroupLayout(e)?(0,c.jsx)(C.A,{disabled:i,value:r,options:s,saveState:n,onChange:this.handleArraySubmit},(0,H.A)(JSON.stringify(r))):(0,c.jsx)(k.A,{disabled:i,value:r,options:s,saveState:n,autoFocus:!0,onChange:this.handleArraySubmit})}render(){const{name:e,number:t}=this.props;return(0,c.jsxs)(D,{children:[(0,c.jsx)(V,{children:void 0!==t?`${t}. ${e}`:e}),this.renderAttribute()]})}}const de=x.i7`
  0% {
    opacity: 0;
  }
  70% {
    opacity: 0;
  }
  100% {
    opacity: 1;
  }
`,pe=(0,x.Ay)("div",{target:"e71tctg8"})({name:"9wh3ns",styles:"position:absolute;/* @noflip */left:0;bottom:10px"}),ue=(0,x.Ay)("div",{target:"e71tctg7"})("position:absolute;right:0;top:0;color:",(0,x.w4)("textMuted"),";font-size:14px;line-height:20px;"),he=(0,x.Ay)("div",{target:"e71tctg6"})("position:relative;padding:26px 24px 24px;/* @noflip */margin-left:45px;text-align:left;background-color:",(0,x.w4)("containerBaseNeutral"),";border-radius:5px;color:",(0,x.w4)("bodyText"),";",E.HF," ",(({useNewConversationStyle:e,theme:t})=>e&&(0,x.AH)("margin-left:0;margin-bottom:4px;box-shadow:none;border-radius:20px;border:1px solid ",t.borderEmphasisNeutral,";background:rgba(255, 255, 255, 0.95);")),";"),ge=(0,x.Ay)("div",{target:"e71tctg5"})({name:"1azpx8r",styles:"margin-bottom:20px"}),me=(0,x.Ay)("div",{target:"e71tctg4"})({name:"bjn8wh",styles:"position:relative"}),xe=(0,x.Ay)("div",{target:"e71tctg3"})("color:",(0,x.w4)("textDisabled"),";font-size:14px;text-align:center;border-top:1px solid ",(0,x.w4)("borderEmphasisNeutral"),";padding-top:16px;"),fe=(0,x.Ay)("h2",{target:"e71tctg2"})("color:",(0,x.w4)("bodyText"),";font-weight:600;font-size:16px;"),ve=(0,x.Ay)("h3",{target:"e71tctg1"})("color:",(0,x.w4)("metaText"),";font-size:14px;margin-top:8px;");var ye={name:"6sug3x",styles:"margin-top:3px"};const be=(0,x.Ay)("div",{target:"e71tctg0"})("margin-top:8px;margin-bottom:8px;width:100%;max-width:520px;position:relative;/* @noflip */float:left;",(({theme:e,isBorderless:t})=>t&&(0,x.AH)("min-height:57px;",he.className,"{box-shadow:",e.notificationBoxShadow,";border-color:",e.borderNeutral,";}"))," ",(({isReplyType:e})=>e&&ye)," ",(({theme:e,isReplyType:t})=>e.isMobileBrowser&&t&&(0,x.AH)(he.className,"{/* @noflip */margin-left:0;}"))," ",(({isBorderless:e,isReplyType:t})=>e&&t&&(0,x.AH)("animation:",de," 750ms ease;",he.className,"{padding:0;}",D.className,"{margin:0;height:52px;}",V.className,"{display:none;}")),";");var we=n(56972);function je(e){const{form:t}=e;return t?t.attributes.reduce(((e,{identifier:t,saveState:n})=>Object.assign({},e,{[t]:n})),{}):{}}function Ae(e){return Object.keys(e).length}function ke(e){return Object.keys(e).filter((t=>"saved"===e[t]||"failed"===e[t])).length}class AttributeCollectorCard extends r.Component{constructor(...e){super(...e),this.node=void 0,this.renderAttribute=(e,t)=>{const{isBorderless:n,isReplyType:i,defaultCountryCode:r,onAttributeSubmit:s,disabled:o,hideNumbering:a}=this.props,l=je(this.props.part);if(t>ke(l))return null;const{type:d,name:p,identifier:u,options:h,value:g,saveState:m,errorCode:x,multiline:f}=e;let v;return Ae(l)>1&&!a&&(v=`${t+1}`),(0,c.jsx)(AttributeCollectorCardAttribute,{type:d,name:p,identifier:u,value:g,multiline:f,number:v,options:h,disabled:o,saveState:m,errorCode:x,defaultCountryCode:r,isBorderless:n,isReplyType:i,onSubmit:s},u)}}componentDidMount(){const{part:e,conversationId:t}=this.props,{form:n}=e;n&&n.attributes.forEach((({identifier:e})=>{"email"===e&&this.props.onEmailAttributeMount(t)}))}componentDidUpdate(e){const t=je(e.part),n=je(this.props.part);ke(t)!==ke(n)&&function(e){if(!e)return;const t=e.closest(".intercom-conversation-body-parts");t&&(0,s.cs)(t)}(this.node)}renderAvatar(){return(0,c.jsx)(pe,{children:(0,c.jsx)(o.h,{author:this.props.part.author})})}renderForm(){const{form:e}=this.props.part;return e?e.attributes.map(this.renderAttribute):null}renderDisabledMessage(){const{disabled:e,disabledMessage:t}=this.props;return e&&t?(0,c.jsx)(xe,{children:t}):null}renderHeader(){const{form:e}=this.props.part;if(!e)return null;const t=e.title&&e.title.length>0,n=e.subtitle&&e.subtitle.length>0;return t?(0,c.jsxs)(ge,{children:[t?(0,c.jsx)(fe,{children:e.title}):null,n?(0,c.jsx)(ve,{children:e.subtitle}):null]}):null}renderMetadataTitle(){const{part:e,isBorderless:t}=this.props;return e.metadata?(0,c.jsx)(we.Y,{part:e,isBorderless:t}):null}renderPosition(){const e=je(this.props.part),t=Ae(e);if(1===t)return null;const n=Math.min(t,ke(e)+1);return(0,c.jsxs)(ue,{children:["(",n,"/",t,")"]})}render(){const{isBorderless:e,isReplyType:t,useNewConversationStyle:n}=this.props;return(0,c.jsxs)(be,{isBorderless:e,isReplyType:t,ref:e=>this.node=e,children:[this.props.hasAvatar?this.renderAvatar():null,this.renderMetadataTitle(),(0,c.jsxs)(he,{useNewConversationStyle:n,children:[this.renderHeader(),(0,c.jsxs)(me,{children:[this.renderPosition(),this.renderForm(),this.renderDisabledMessage()]})]})]})}}var Ce=n(79751),Se=n(90933),Te=n(97899);const _e=(0,i.Ng)(((e,t)=>{const{part:n}=t,i=(0,Te.Vy)(e)||e.message.conversationId,{id:r}=n;return{conversationId:i,partId:r,defaultCountryCode:e.user.countryCode||"us"}}),(e=>({onAttributeSubmit(t,n,i,r,s,o){e((0,F.DX)(G.Ay,t,n,i,r,s,o,(0,Se.S9)({identifier:i})))},onEmailAttributeMount(t){e((0,Ce.Mv)(t))}})),((e,t,n)=>Object.assign({},e,t,n,{onAttributeSubmit(i,r){t.onAttributeSubmit(e.conversationId,e.partId,i,r,(0,Se.MF)(n.part.form,i),n.part.form.type)}})))(AttributeCollectorCard)},1020:(e,t,n)=>{"use strict";n.d(t,{A:()=>Tn});var i=n(71468),r=n(81323),s=n(90933),o=n(96540),a=n(183),l=n(65772),c=n(99410),d=n(31218),p=n(64845),u=n(69830),h=n(13336),g=n(74848);class PostCard extends o.Component{constructor(...e){super(...e),this.state={isTruncated:!1},this.node=void 0,this.handleClick=()=>{(0,u.A5)("viewed","post","messenger","from_card",{conversation_id:this.props.conversationId}),this.props.onOpen(this.props.conversationId,this.props.part.id)},this.handleClose=()=>{this.props.onClose()},this.handleComposerClick=()=>{this.handleClose()}}componentDidMount(){this.handleResize()}handleResize(){const{node:e}=this;if(!e)return;const{scrollHeight:t,clientHeight:n}=e;this.setState({isTruncated:t>n})}renderPostContent(){const{part:e,appName:t,reactionsReply:n,onReactionSelect:i,frameWindow:r,isUpfrontEmailComposerShowing:s}=this.props;return(0,g.jsx)(l.A,{message:e,appName:t,reactionsReply:n,onReactionSelect:i,onComposerClick:this.handleComposerClick,onClose:this.handleClose,frameWindow:r,isUpfrontEmailComposerShowing:s,returnFocus:this.node&&this.node.focus.bind(this.node)})}renderPostBody(){const{part:e,appName:t,frameWindow:n,isOpen:i}=this.props,{author:r,body:s}=e;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(c.A,{appName:t,author:r,forceShowAppName:!0,children:(0,g.jsx)(h.C,{children:(0,g.jsx)(d.A,{blocks:s,frameWindow:n})})}),i?this.renderPostContent():null]})}render(){const{isOpen:e,noShadow:t}=this.props;return(0,g.jsx)(p.A,{noPadding:!0,noShadow:t,className:"intercom-post-card",onClick:e?void 0:this.handleClick,ref:e=>this.node=e,tabIndex:e?void 0:0,isEntireCardClickable:!0,"data-testid":"post-card",children:(0,g.jsx)(h.s,{isTruncated:!0,children:this.renderPostBody()})})}}var m=n(52762);const x=(0,i.Ng)(((e,t)=>{const n=!(!e.message.conversationId||!e.message.partId||null!=t&&t.isBorderless),{upfrontEmailCollectorShowing:i}=e.app.upfrontEmailCollection;return{isOpen:n,isUpfrontEmailComposerShowing:i}}),(e=>({onOpen:(t,n)=>{e((0,m.G4)(t,n))},onClose:()=>{e((0,m.Y6)())}})),((e,t,n)=>Object.assign({},e,t,n,{onOpen:(e,n)=>{t.onOpen(e,n)},onClose:()=>{t.onClose()}})))(PostCard);var f=n(26690);const v=({appName:e,part:t,frameWindow:n})=>{const{author:i,body:r}=t;return(0,g.jsx)(c.A,{appName:e,isReplyStyle:!1,author:i,children:(0,g.jsx)(f.g,{children:(0,g.jsx)(d.A,{blocks:r,zoomable:!0,frameWindow:n})})})},y=e=>(0,g.jsx)(p.A,{as:f.P,className:"intercom-note-card",noPadding:!0,isEntireCardClickable:!0,children:(0,g.jsx)(v,Object.assign({},e))});var b=n(19386),w=n(37341),j=n(49651),A=n(56329),k=n(32764),C=n(40172),S=n(93656),T=n(38762),_=n(3356);class ArticleCard extends o.Component{constructor(...e){super(...e),this.linkRef=null,this.createHandleClick=e=>t=>{const n=t.ctrlKey||t.shiftKey||t.metaKey;if(!(!e.articleId||e.url&&n)){t.preventDefault();try{this.props.onArticleCardClick(e.articleId)}catch(t){(0,_.bB)(e.url)}}},this.renderLinkCardFooter=e=>(0,g.jsxs)("div",{children:[e.description&&(0,g.jsx)(k.jM,{children:e.description}),e.author&&e.author.name&&this.renderAuthor(this.buildAuthor(e.author))]}),this.renderLink=(e,t)=>{const n=this.isSingleLink();return"educate.help_center"===e.linkType?(0,g.jsx)("a",{href:e.url,rel:"nofollow noreferrer noopener",target:"_blank",children:(0,g.jsx)(T.A,{note:n?e.description:void 0,hoverBackground:!n,children:this.renderLinkCardTitle(e)},t)}):(0,g.jsx)(T.A,{fullBleedCard:!0,note:n?e.description:void 0,rightIcon:n?void 0:"RightChevronColorable",rightIconColor:"linkColor",hoverBackground:!n,onClick:this.createHandleClick(e),children:(0,g.jsx)("strong",{children:e.title})},t)}}isSingleLink(){var e;return 1===(null==(e=this.props.part)?void 0:e.body.length)}buildAuthor(e){return{avatar:{square128:e.avatar},name:e.name,firstName:e.firstName||e.name}}renderAuthor(e){return(0,g.jsxs)(k.Ow,{children:[(0,g.jsx)(k.d_,{children:(0,g.jsx)(w.h,{author:e,size:this.props.part.isMessage?24:16})}),(0,g.jsxs)(k.me,{children:[`${(0,j.Tl)("written_by")} `,(0,g.jsx)(k.Ff,{children:e.name})]})]})}renderLinkCardTitle(e){return(0,g.jsx)(k.zS,{type:e.linkType,children:"educate.help_center"===e.linkType?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(k.IC,{children:(0,g.jsx)(C.Ay,{size:16,type:"ExternalLink"})}),(0,g.jsx)("span",{children:e.title})]}):e.title})}renderLinkCards(){const{part:{body:e}}=this.props;if(this.isSingleLink()){const t=e[0];return this.renderLink(t)}return(0,g.jsx)(S.A,{children:e.map(((e,t)=>this.renderLink(e,t)))})}render(){const{hasAvatar:e,isBorderless:t,isInline:n,part:{isMessage:i,author:r}}=this.props;return(0,g.jsxs)(k.sH,{isInline:n,isBorderless:t,isMessage:i,children:[!i&&e&&(0,g.jsx)(k.Xi,{children:(0,g.jsx)(w.h,{author:r})}),i&&(0,g.jsx)(k.yB,{children:(0,j.Tl)("asked_about")}),(0,g.jsx)(p.A,{noPadding:!0,isEntireCardClickable:this.isSingleLink(),children:this.renderLinkCards()})]})}}ArticleCard.contextType=A.D,ArticleCard.defaultProps={isInline:!1,hasAvatar:!0,isBorderless:!1};var E=n(57296);const B=(0,i.Ng)(void 0,(e=>({onArticleCardClick(t){e((0,E.n$)(t,{}))}})))(ArticleCard);var N=n(5556),I=n.n(N),z=n(10377),M=n(2404),R=n.n(M),P=n(61353),O=n(8375),L=n(56213),H=n(64234),D=n(58708),V=n(91832);class NotificationChannelsInput extends o.Component{constructor(...e){super(...e),this.state={value:this.props.initialValue,valueChanged:!1,showErrorMessage:!1,prevProps:this.props},this.handleFocus=e=>{if((0,L.rr)())this.focusTimeout=setTimeout((()=>{if(!this.node)return;const e=this.node.closest(".intercom-conversation-body-parts");(0,O.o2)(this.node,e)}),1e3);else{const t=e.target.value;e.target.value="",e.target.value=t}},this.handleKeyDown=e=>{(e=>"Enter"===e.key&&!(e.altKey||e.shiftKey))(e)&&(this.handleSubmit(),e.preventDefault())},this.handleKeyUp=()=>{this.props.onInputChange()},this.handleSubmitButtonClick=e=>{this.isDisabled()||(e.preventDefault(),this.handleSubmit())},this.handleSubmit=()=>{const{value:e}=this.state,{isValid:t,onSubmit:n}=this.props;t(e)?(n(e),this.notificationChannelsInput.blur(),this.setState({showErrorMessage:!1})):this.setState({showErrorMessage:!0})},this.handleInputChange=e=>{const{value:t}=e.target;this.setState({value:t,showErrorMessage:!1}),this.state.valueChanged||this.setState({valueChanged:this.valueHasChanged()})},this.handleInputClick=()=>{this.notificationChannelsInput.focus()}}componentWillUnmount(){clearTimeout(this.focusTimeout)}static getDerivedStateFromProps(e,t){if(!t||R()(e,t.prevProps))return null;const{name:n,isSaving:i,hasExistingChannel:r,initialValue:s}=e,o=n===t.prevProps.name?t.value:s;return i||r?{prevProps:e}:{value:o,prevProps:e,valueChanged:!1,showErrorMessage:!1}}valueHasChanged(){return this.state.value!==this.props.initialValue}valueIsEmpty(){return""===this.state.value}isPhone(){return"phone"===this.props.name}shouldShowPlaceholder(){return this.state.valueChanged?this.valueIsEmpty():this.valueIsEmpty()||!this.valueHasChanged()}isDisabled(){return this.props.isSaving||this.props.channelProvided}getInputType(){switch(this.props.name){case"phone":default:return"text";case"email":return"email"}}getErrorMessage(){switch(this.props.name){case"phone":const e=(0,P.E2)(this.state.value);return e?(0,j.Tl)(e):this.props.errorMessage;case"email":return(0,j.Tl)("that_email_address_doesnt_look_quite_right");default:return"That value doesn't look quite right"}}showErrorMessage(){return this.state.showErrorMessage||this.props.showErrorMessage}renderFlag(){const e=(0,P.J3)(this.state.value),t=e?e.code:this.props.initialCountryCode;return(0,g.jsx)(D.Yh,{countryCode:t,"data-testid":`notification-channel-flag-${t}`})}renderPlaceholder(){const{initialValue:e,placeholder:t}=this.props,n=this.valueIsEmpty()?{}:{visibility:"hidden"};return(0,g.jsxs)(D.WO,{isPhone:this.isPhone(),children:[(0,g.jsx)("span",{style:n,children:e}),t]})}render(){return(0,g.jsxs)("div",{onClick:this.handleInputClick,ref:e=>this.node=e,onKeyDown:e=>(13===e.keyCode||32===e.keyCode)&&this.handleInputClick(e),role:"button",tabIndex:"0",children:[(0,g.jsxs)(D.Oz,{children:[(0,g.jsxs)(D.TX,{isPhone:this.isPhone(),hasError:this.showErrorMessage(),isSuccessful:!!this.props.channelProvided,children:[this.isPhone()?this.renderFlag():null,this.shouldShowPlaceholder()?this.renderPlaceholder():null,(0,g.jsx)("input",{autoFocus:!0,ref:e=>this.notificationChannelsInput=e,type:this.getInputType(),name:"intercom-channel-collector",disabled:this.isDisabled(),value:this.state.value,autoComplete:"off",onFocus:this.handleFocus,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onChange:this.handleInputChange,onBlur:H.BW,"aria-label":this.props.ariaLabel})]}),(0,g.jsx)(D.o8,{hasChannel:!!this.props.channelProvided,children:(0,g.jsxs)(D.bR,{onTouchEnd:this.handleSubmitButtonClick,onClick:this.handleSubmitButtonClick,isDisabled:this.isDisabled(),hasChannel:!!this.props.channelProvided,"aria-label":"Submit",children:[(0,g.jsx)(D.Sm,{}),(0,g.jsx)(D.ok,{})]})})]}),this.showErrorMessage()&&(0,g.jsx)(V.A,{errorMessage:this.getErrorMessage()})]})}}NotificationChannelsInput.defaultProps={initialValue:"",isSaving:!1,initialCountryCode:"us"},NotificationChannelsInput.propTypes={name:I().oneOf(["phone","email"]).isRequired,initialValue:I().string,placeholder:I().string.isRequired,showErrorMessage:I().bool.isRequired,errorMessage:I().string,ariaLabel:I().string,initialCountryCode:I().string,isSaving:I().bool,channelProvided:I().bool.isRequired,isValid:I().func.isRequired,onSubmit:I().func.isRequired,onInputChange:I().func.isRequired,hasExistingChannel:I().bool};var F=n(6314);const q=(e,t)=>U(e)&&!$(t),G=(e,t)=>U(e)&&!$(t),U=e=>"visitor"===e||"lead"===e,$=e=>void 0===e||""===e;var W=n(36667);const K=e=>{const{userRole:t,userSuppliedEmail:n,phoneNumber:i}=e,r=q(t,n),s=G(t,i);return r||s};class NotificationChannels extends o.Component{constructor(...e){super(...e),this.state={showEmailCollector:!0,showPhoneNumberCollector:!1,hasExistingChannel:K(this.props),channelProvided:!1,prevProps:this.props},this.addNotificationChannelMetric=(e,t)=>{(0,u.A5)(e,`notification_channel_${t}`,"messenger","in_conversation",{conversation_id:this.props.conversationId})},this.addNotificationChannelShownMetric=e=>{this.addNotificationChannelMetric("received",e)},this.addNotificationChannelStartMetric=e=>{this.addNotificationChannelMetric("started",e)},this.addNotificationChannelCompleteMetric=e=>{this.addNotificationChannelMetric("completed",e)},this.handleEmailClick=()=>{this.addNotificationChannelStartMetric("email"),this.setState({showEmailCollector:!0,showPhoneNumberCollector:!1}),this.props.onInputChange()},this.handleSmsClick=()=>{this.addNotificationChannelStartMetric("sms"),this.setState({showEmailCollector:!1,showPhoneNumberCollector:!0}),this.props.onInputChange()},this.handleEmailCollectorSubmit=e=>{this.addNotificationChannelCompleteMetric(this.getEmailCollectorMetricName()),this.props.onEmailCollectorSubmit(e)},this.handlePhoneNumberCollectorSubmit=e=>{this.addNotificationChannelCompleteMetric("sms"),this.props.onPhoneNumberCollectorSubmit(e)}}componentDidMount(){this.recordMetrics()}static getDerivedStateFromProps(e,t){if(!t||R()(e,t.prevProps))return null;const n=K(e),i={prevProps:e,hasExistingChannel:n};return t.hasExistingChannel||(i.channelProvided=n),i}recordMetrics(){const{userRole:e,userSuppliedEmail:t,smsEnabled:n}=this.props,i=q(e,t);n&&!this.state.hasExistingChannel?this.recordChannelMetrics():n||i||this.addNotificationChannelShownMetric(this.getEmailCollectorMetricName())}recordChannelMetrics(){const{smsEnabled:e}=this.props;this.addNotificationChannelShownMetric("options"),this.addNotificationChannelShownMetric("email"),e&&this.addNotificationChannelShownMetric("sms")}getEmailCollectorMetricName(){return this.props.smsEnabled?"email":"email_collector"}existingChannelText(){const{userRole:e,userSuppliedEmail:t,phoneNumber:n}=this.props,i=G(e,n);return q(e,t)?(0,j.Tl)("youll_be_notified_here_and_by_email"):i?(0,j.Tl)("youll_be_notified_here_and_by_sms"):void 0}existingChannelValue(){const{userRole:e,userSuppliedEmail:t,phoneNumber:n}=this.props,i=G(e,n);return q(e,t)?t:i?n:void 0}optionSelected(){return this.state.showEmailCollector||this.state.showPhoneNumberCollector}getTitle(){return this.props.smsEnabled?(0,j.Tl)("get_notified"):(0,j.Tl)("get_notified_by_email")}renderPhoneNumberCollector(){const e=(0,P.xI)(this.props.userCountryCode);return(0,g.jsx)(NotificationChannelsInput,{name:"phone",initialValue:e,placeholder:" 123 456 7890",initialCountryCode:this.props.userCountryCode,isSaving:this.props.isSaving,showErrorMessage:this.props.showErrorMessage,errorMessage:this.props.errorMessage,channelProvided:this.state.channelProvided,isValid:P.fn,onSubmit:this.handlePhoneNumberCollectorSubmit,onInputChange:this.props.onInputChange})}renderEmailCollector(){return(0,g.jsx)(NotificationChannelsInput,{name:"email",ariaLabel:"Enter your email",placeholder:F.o,isSaving:this.props.isSaving,showErrorMessage:this.props.showErrorMessage,errorMessage:this.props.errorMessage,channelProvided:this.state.channelProvided,isValid:W.B,onSubmit:this.handleEmailCollectorSubmit,onInputChange:this.props.onInputChange})}renderChannelsBody(){return this.state.showEmailCollector?this.renderEmailCollector():this.state.showPhoneNumberCollector?this.renderPhoneNumberCollector():void 0}renderOption(e,t,n){return(0,g.jsx)(D.iW,{isSelected:t,onClick:n,children:(0,j.Tl)(e)})}renderEmailOption(){return this.renderOption("email",this.state.showEmailCollector,this.handleEmailClick)}renderSmsOption(){return this.renderOption("sms",this.state.showPhoneNumberCollector,this.handleSmsClick)}renderOptions(){return(0,g.jsxs)(D.z1,{children:[this.renderEmailOption(),this.props.smsEnabled?this.renderSmsOption():null]})}renderChannelOptions(){return(0,g.jsxs)("div",{children:[(0,g.jsxs)(D.W6,{children:[(0,g.jsx)(D.$w,{children:this.getTitle()}),(0,g.jsx)(D.S_,{children:this.existingChannelText()})]}),this.props.smsEnabled?this.renderOptions():null,this.renderChannelsBody()]})}renderExistingValue(){return(0,g.jsx)(D.Rd,{children:this.existingChannelValue()})}renderSuccessMessage(){return(0,g.jsxs)("div",{children:[(0,g.jsx)(D.$w,{isSuccessful:!0,children:this.existingChannelText()}),this.renderExistingValue()]})}render(){const{isBorderless:e,nextPart:t}=this.props,{hasExistingChannel:n,channelProvided:i}=this.state,r=!!t,s=r&&t.author.isAdmin;return(0,g.jsx)(D.PT,{isBorderless:e,nextPartByAdmin:r&&s,lastPart:!r,isSuccessful:n&&i,children:n&&!i?this.renderSuccessMessage():this.renderChannelOptions()})}}NotificationChannels.propTypes={conversationId:I().string.isRequired,userId:I().string.isRequired,userRole:I().oneOf(["user","lead","visitor"]),userCountryCode:I().string,userSuppliedEmail:I().string,userName:I().string,phoneNumber:I().string,isSaving:I().bool.isRequired,errorMessage:I().string,showErrorMessage:I().bool.isRequired,smsEnabled:I().bool.isRequired,nextPart:I().object,onEmailCollectorSubmit:I().func.isRequired,onPhoneNumberCollectorSubmit:I().func.isRequired,onInputChange:I().func.isRequired,isBorderless:I().bool};var Y=n(12135),Z=n(97899);const J=(0,i.Ng)((e=>{const{smsEnabled:t}=e.app,n=(0,Z.Vy)(e),{id:i,role:r,userSuppliedEmail:s,name:o,phoneNumber:a,countryCode:l}=e.user,{isSaving:c,showErrorMessage:d,errorMessage:p}=e.notificationChannels;return{conversationId:n,userId:i,userRole:r,userCountryCode:l,userSuppliedEmail:s,userName:o,phoneNumber:a,smsEnabled:t,isSaving:c,showErrorMessage:d,errorMessage:p}}),(e=>({onEmailCollectorSubmit:t=>{e((0,Y.$8)(z.Ay,t))},onPhoneNumberCollectorSubmit:t=>{e((0,Y.NA)(z.Ay,t))},onInputChange:()=>{e((0,Y.mK)())}})),((e,t,n)=>{const i={onInputChange:()=>t.onInputChange()};return Object.assign({},n,e,t,i)}))(NotificationChannels),Q=({hasAvatar:e=!0,isBorderless:t=!1})=>(0,g.jsxs)(D.Tu,{isBorderless:t,children:[e&&(0,g.jsx)(D.n9,{isBorderless:t,children:(0,g.jsx)(w.h,{author:(void 0).props.part.author,size:28})}),(0,g.jsx)(J,{nextPart:(void 0).props.nextPart,isBorderless:t})]});Q.propTypes={part:I().object.isRequired,nextPart:I().object,hasAvatar:I().bool,isBorderless:I().bool};var X=n(23753),ee=n(52203),te=n(86923),ne=n(72977);const ie=n.p+"images/send-button.9a2f1afb472850bcbe0e.png",re=n.p+"images/send-button@2x.c3fa7b1abd6479a0cf52.png";const se=(0,te.Ay)("div",{target:"e1lpdmtp5"})("padding:5px 15px;border-top:1px solid ",(0,te.w4)("containerEmphasisNeutral"),";"),oe=(0,te.Ay)("div",{target:"e1lpdmtp4"})(),ae=(0,te.Ay)("div",{target:"e1lpdmtp3"})("position:relative;display:table;width:100%;div{display:table-cell;vertical-align:top;}",oe.className,"{width:40px;}"),le=(0,te.Ay)("div",{target:"e1lpdmtp2"})("position:relative;max-width:180px;textarea,pre{box-sizing:border-box;height:100%;width:100%;padding:12px;font-size:14px;font-family:",(0,te.w4)("fontSansSerif"),";border:none;line-height:19px;white-space:pre-wrap;word-wrap:break-word;}textarea{position:absolute;top:0;left:0;color:",(0,te.w4)("inputText"),";resize:none;overflow-y:hidden;&::placeholder{color:",(0,te.w4)("inputPlaceholder"),";font-style:",(0,te.w4)("fontSansSerif"),";font-size:14px;font-weight:400;line-height:19px;opacity:0.7;}}pre{visibility:hidden;max-height:140px;}"),ce=(0,te.Ay)("div",{target:"e1lpdmtp1"})("position:absolute;top:2px;bottom:0;width:40px;height:40px;cursor:pointer;transition:transform 300ms linear,opacity 150ms ease;background-position:center;background-repeat:no-repeat;opacity:0.8;",(0,ne.op)(ie,re,"20px","20px")," &:hover{opacity:1;}"),de=(0,te.Ay)("div",{target:"e1lpdmtp0"})({name:"1yx6u7l",styles:"width:40px;height:40px;border:none;transition:border-radius 300ms,opacity 300ms 600ms,height 400ms 1000ms"});var pe=n(91067);class ConversationRatingRemarkInput extends o.Component{constructor(...e){super(...e),this.state={text:this.props.initialValue},this.context=null,this.handleFocus=e=>{if(this.context&&this.context.setComposerShouldFocus(!1),(0,L.rr)())this.focusTimeout=setTimeout((()=>{if(!this.node)return;const e=this.node.closest(".intercom-conversation-body-parts");(0,O.o2)(this.node,e)}),1e3);else{const t=e.target.value;e.target.value="",e.target.value=t}},this.handleBlur=()=>{this.context&&this.context.setComposerShouldFocus(!0),(0,H.BW)()},this.handleKeyDown=e=>{(e=>13===e.keyCode&&!(e.altKey||e.shiftKey))(e)&&(this.handleSubmit(),e.preventDefault())},this.handleSubmitButtonClick=e=>{e.preventDefault(),this.handleSubmit()},this.handleInputChange=e=>{const{value:t}=e.target;this.setState({text:t}),this.props.onChange()}}componentWillUnmount(){this.context&&this.context.setComposerShouldFocus(!0),clearTimeout(this.focusTimeout)}handleSubmit(){const{text:e}=this.state,{onSubmit:t}=this.props;t(e),this.conversationRatingInput.blur()}render(){const{text:e}=this.state;return(0,g.jsx)(se,{ref:e=>this.node=e,children:(0,g.jsxs)(ae,{children:[(0,g.jsxs)(le,{children:[(0,g.jsxs)("pre",{children:[e,(0,g.jsx)("br",{})]}),(0,g.jsx)("textarea",{autoFocus:!0,ref:e=>this.conversationRatingInput=e,type:"text",name:"intercom-conversation-rating-remark",value:e,placeholder:this.props.placeholder,onFocus:this.handleFocus,onKeyDown:this.handleKeyDown,onChange:this.handleInputChange,onBlur:this.handleBlur,"aria-label":this.props.placeholder})]}),(0,g.jsx)(oe,{children:(0,g.jsx)(de,{onTouchEnd:this.handleSubmitButtonClick,onClick:this.handleSubmitButtonClick,"aria-label":(0,j.Tl)("submit"),children:(0,g.jsx)(ce,{})})})]})})}}ConversationRatingRemarkInput.contextType=pe.X,ConversationRatingRemarkInput.defaultProps={initialValue:""},ConversationRatingRemarkInput.propTypes={initialValue:I().string,placeholder:I().string.isRequired,onSubmit:I().func.isRequired,onChange:I().func.isRequired};const ue=(0,te.Ay)("span",{target:"e1aseij90"})("&,&:hover{width:18px;height:18px;display:inline-block;background-size:contain;vertical-align:sub;}",(({images:e})=>(0,ne.op)(e.file,e.file2x,"28px","28px")),";");const he=(0,te.Ay)("span",{target:"e1ri5tng4"})("display:inline-block;width:28px;height:28px;",(({images:e})=>e&&(0,ne.op)(e.file,e.file2x,"28px","28px"))," ",(({emoji:e})=>e&&(e=>(0,te.AH)("&::before{content:'",e,"';width:28px;height:28px;display:flex;justify-content:center;align-items:center;scale:1.7;}"))(e)),";"),ge=(0,te.Ay)("div",{target:"e1ri5tng3"})("margin-top:5px;cursor:pointer;font-size:13px;color:",(0,te.w4)("subheaderText"),";text-align:center;opacity:0;transition:opacity 0.3s;"),me=(0,te.Ay)("div",{target:"e1ri5tng2"})({name:"1r5gb7q",styles:"display:inline-block"}),xe=(0,te.Ay)("div",{target:"e1ri5tng1"})("width:30px;margin:6px 0;display:flex;flex-direction:column;align-items:center;justify-content:space-between;&:hover{",ge.className,"{opacity:1;}",he.className,"{transform:scale(1.28);filter:none;}}",(({chosen:e})=>e&&(0,te.AH)(he.className,"{transform:scale(1.28);}"))," ",(({otherChosen:e})=>e&&(0,te.AH)(he.className,"{filter:grayscale(1) opacity(0.3);}")),";"),fe=(0,te.Ay)("div",{target:"e1ri5tng0"})("width:30px;margin:6px 0;padding-bottom:20px;display:flex;flex-direction:column;align-items:center;justify-content:space-between;",he.className,"{filter:grayscale(1) opacity(0.3);}"),ve={1:{emoji:"😠",unicode:"1f620",tooltipKey:"terrible",images:{file:n.p+"images/rating-1.d14c91d3298565dcb077.png",file2x:n.p+"images/rating-1@2x.46e26adecfc1e0becb0d.png"}},2:{emoji:"🙁",unicode:"1f615",tooltipKey:"bad",images:{file:n.p+"images/rating-2.201a3dfa4584a329e131.png",file2x:n.p+"images/rating-2@2x.e2aa8930c7a14a762e2e.png"}},3:{emoji:"😐",unicode:"1f610",tooltipKey:"ok_description",images:{file:n.p+"images/rating-3.9c7c37190153ebbba2db.png",file2x:n.p+"images/rating-3@2x.ae07cbf691bfb14bbecd.png"}},4:{emoji:"😃",unicode:"1f603",tooltipKey:"great",images:{file:n.p+"images/rating-4.9b73ce6448824805204f.png",file2x:n.p+"images/rating-4@2x.feedb834bfb39f53739e.png"}},5:{emoji:"🤩",unicode:"1f929",tooltipKey:"amazing",images:{file:n.p+"images/rating-5.9cfe7955263a855a08a8.png",file2x:n.p+"images/rating-5@2x.ba07ebeee93582adccba.png"}}};class ConversationRatingEmoji extends o.Component{constructor(...e){super(...e),this.state={failedLoadingImages:!1},this.handleClick=e=>{e.preventDefault();const{ratingIndex:t,onRatingChosen:n}=this.props;n(t)}}componentDidMount(){this.canLoadImages()}canLoadImages(){const e=ve[this.props.ratingIndex].images;try{Object.keys(e).forEach((t=>{const n=e[t],i=new Image;i.src=n,i.onerror=()=>{this.setState({failedLoadingImages:!0}),(0,u.uo)(`Error loading image: ${n} for rating ${this.props.ratingIndex}`)}}))}catch(e){return}}getTooltip(){const{ratingIndex:e}=this.props;return(0,j.Tl)(ve[e].tooltipKey)}renderEmojiImage(){const e=ve[this.props.ratingIndex],{failedLoadingImages:t}=this.state;return(0,g.jsx)(he,{className:"intercom-anchor",onClick:this.handleClick,"aria-label":this.getTooltip(),role:"button",emoji:t&&e.emoji,images:!t&&e.images})}renderDisabledEmojiImage(){const e=ve[this.props.ratingIndex],{failedLoadingImages:t}=this.state;return(0,g.jsx)(he,{className:"intercom-anchor","aria-label":this.getTooltip(),"aria-disabled":"true",role:"button",emoji:t&&e.emoji,images:!t&&e.images})}renderDisabledEmojisContainer(){return(0,g.jsx)(fe,{children:this.renderDisabledEmojiImage()})}renderEmojisContainer(e){return(0,g.jsxs)(xe,{chosen:this.props.chosen,otherChosen:this.props.otherChosen,children:[this.renderEmojiImage(),(0,g.jsx)(ge,{children:e})]})}render(){const e=this.getTooltip(),{isDisabled:t}=this.props;return(0,g.jsx)(me,{children:t?this.renderDisabledEmojisContainer():this.renderEmojisContainer(e)})}}ConversationRatingEmoji.propTypes={ratingIndex:I().number.isRequired,chosen:I().bool,otherChosen:I().bool,onRatingChosen:I().func.isRequired,isDisabled:I().bool};function ye({ratingIndex:e}){return(e=>!!e&&e in ve)(e)?(0,g.jsx)(ue,{role:"img",images:ve[e].images,"aria-label":ve[e].tooltipKey}):null}var be=n(96808),we=n(79868),je=n(26265);class ConversationRating extends o.Component{constructor(...e){super(...e),this.node=null,this.state={},this.handleRemarkChange=()=>{this.scrollConversationParts()},this.handleHeightChange=({height:e})=>{this.setState({height:e})}}componentDidUpdate(e){this.hasChosenFirstRating(e)&&this.scrollConversationParts()}hasChosenFirstRating(e){const t=e.chosenRating,{chosenRating:n}=this.props;return void 0===t&&void 0!==n}scrollConversationParts(){if(void 0!==this.props.nextPart||!this.node)return;const e=this.node.closest(".intercom-conversation-body-parts");e&&(0,O.cs)(e)}hasRating(){const{chosenRating:e}=this.props;return!!e&&e>0}shouldShowThanks(){const{submitted:e,chosenRating:t,remark:n}=this.props;return e||void 0!==t&&void 0!==n}hasRemark(){const{remark:e}=this.props;return void 0!==e&&""!==e.trim()}isChosen(e){return this.props.chosenRating===e}isOtherChosen(e){return this.hasRating()&&!this.isChosen(e)}renderThanksMessage(){return(0,g.jsxs)("div",{children:[(0,g.jsxs)(we.ZM,{children:[(0,g.jsxs)(we.WS,{children:[(0,j.Tl)("you_rated_the_conversation")," ",(0,g.jsx)(ye,{ratingIndex:this.props.chosenRating})]}),(0,g.jsx)(we.Qy,{children:(0,j.Tl)("thanks_for_letting_us_know")})]}),this.hasRemark()?this.renderRemark():null]},"conversation-rating-thanks")}renderRemark(){return(0,g.jsx)(we.u9,{children:this.props.remark})}renderRatingForm(){return(0,g.jsxs)("div",{children:[this.renderRatingOptions(),(0,g.jsx)(ee.A,{duration:500,animationKey:"conversation-rating",children:this.hasRating()?this.renderRemarkInput():null})]},"form")}renderRatingOptions(){const e=[],{blockRating:t}=this.props;for(let n=1;n<=5;n++)e.push((0,g.jsx)(ConversationRatingEmoji,{ratingIndex:n,chosen:this.isChosen(n),otherChosen:this.isOtherChosen(n),onRatingChosen:this.props.onRatingChosen,isDisabled:!this.hasRating()&&t},n));return(0,g.jsxs)(we.Iu,{children:[(0,g.jsx)(we.AM,{children:(0,g.jsx)(we.tV,{children:(0,j.Tl)("rate_your_conversation")})}),(0,g.jsx)(we.rs,{children:e})]})}renderRemarkInput(){return(0,g.jsx)(ConversationRatingRemarkInput,{placeholder:(0,j.Tl)("tell_us_more"),onChange:this.handleRemarkChange,onSubmit:this.props.onRemarkSubmit},"remark-input")}render(){return(0,g.jsx)(we.w5,{ref:e=>this.node=e,useNewConversationStyle:this.props.useNewConversationStyle,groupingPosition:this.props.groupingPosition||je.L3.standalone,children:(0,g.jsx)(be.A,{onChange:this.handleHeightChange,children:(0,g.jsx)("div",{children:(0,g.jsx)(X.A,{appearDelay:300,children:this.shouldShowThanks()?this.renderThanksMessage():this.renderRatingForm()})})})})}}var Ae=n(80607);function ke(e,t,n,i){return(r,s)=>{r(function(e,t,n){return{type:Ae.aQ5,conversationId:e,ratingIndex:n,ratingUuid:t}}(t,n,i));const{session:o}=s();return e.changeConversationRatingIndex(o,t,n,i)}}function Ce(e,t,n,i){return(r,s)=>{if(r(function(e,t,n){return{type:Ae.ze_,conversationId:e,remark:n,ratingUuid:t}}(t,n,i)),void 0===i||""===i)return Promise.resolve();const{session:o}=s();return e.addConversationRatingRemark(o,t,n,i)}}const Se=(0,i.Ng)((e=>({conversationId:(0,Z.Vy)(e)})),(e=>({onRemarkSubmit:(t,n,i)=>{e(Ce(z.Ay,t,n,i))},onRatingChosen:(t,n,i)=>{e(ke(z.Ay,t,n,i))}})),((e,t,n)=>{const{conversationId:i}=e,{chosenRating:r,remark:s,submitted:o,uuid:a,blockRating:l}=n.part.conversationRating,c={onRemarkSubmit:e=>t.onRemarkSubmit(i,a,e),onRatingChosen:e=>t.onRatingChosen(i,a,e),chosenRating:r,remark:s,submitted:o,blockRating:l};return Object.assign({},n,e,t,c)}))(ConversationRating);var Te=n(66501);const _e=({isBorderless:e=!1,part:t,nextPart:n,hasAvatar:i=!1,useNewConversationStyle:r=!1,groupingPosition:s=je.L3.standalone})=>(0,g.jsxs)(Te.E,{isBorderless:e,useNewConversationStyle:r,children:[i&&(0,g.jsx)(Te.t,{isBorderless:e,children:(0,g.jsx)(w.h,{author:t.author})}),(0,g.jsx)(Se,{nextPart:n,part:t,useNewConversationStyle:r,groupingPosition:s})]});var Ee=n(51457),Be=n(32490);class PointerCard extends o.Component{render(){const{part:e,appName:t,frameWindow:n}=this.props,{author:i,body:r}=e;return(0,g.jsx)(Be.d,{className:"intercom-pointer",isInbox:!0,children:(0,g.jsx)(c.A,{appName:t,isReplyStyle:!1,author:i,children:(0,g.jsxs)(Be.Pj,{className:"intercom-pointer-body",children:[(0,g.jsx)(d.A,{blocks:r,frameWindow:n}),(0,g.jsx)(Ee.kG,{isInsideInbox:!0})]})})})}}var Ne=n(1082),Ie=n(88911),ze=n(88546),Me=n(32485),Re=n.n(Me);class NotificationChannelCollectorCardControls extends o.PureComponent{constructor(...e){super(...e),this.handleEmailChannelClick=e=>{e.preventDefault(),this.props.onChannelChange("email")},this.handlePhoneNumberChannelClick=e=>{e.preventDefault(),this.props.onChannelChange("phone")},this.isSaved=()=>{const{isEmailSaved:e,isPhoneNumberSaved:t}=this.props;return e||t},this.isSelected=e=>e===this.props.channel}getClassName(){return Re()({"intercom-notification-channel-collector-card-controls":!0,"intercom-notification-channel-collector-card-controls-saved":this.isSaved()})}getChannelClassName(e){return Re()({"intercom-anchor":!0,"intercom-notification-channel-collector-card-controls-channel":!0,"intercom-notification-channel-collector-card-controls-channel-selected":this.isSelected(e)})}renderChannels(){return(0,g.jsxs)(D.Jd,{className:"intercom-notification-channel-collector-card-controls-channels",children:[(0,g.jsx)(D.ao,{isSelected:this.isSelected("email"),className:this.getChannelClassName("email"),onClick:this.handleEmailChannelClick,children:(0,j.Tl)("email")}),(0,g.jsx)(D.ao,{isSelected:this.isSelected("phone"),className:this.getChannelClassName("phone"),onClick:this.handlePhoneNumberChannelClick,children:(0,j.Tl)("sms")})]})}renderPrompt(){return(0,g.jsx)(D.j3,{className:"intercom-notification-channel-collector-card-controls-prompt",children:this.props.isPhoneNumberEnabled?(0,j.Tl)("get_notified"):(0,j.Tl)("get_notified_by_email")})}renderMessage(){return(0,g.jsx)(D.gZ,{className:"intercom-notification-channel-collector-card-controls-message",children:this.props.isEmailSaved?(0,j.Tl)("youll_be_notified_here_and_by_email"):(0,j.Tl)("youll_be_notified_here_and_by_sms")})}render(){return(0,g.jsxs)(D.rQ,{isSaved:this.isSaved(),className:this.getClassName(),children:[this.renderMessage(),this.renderPrompt(),this.props.isPhoneNumberEnabled?this.renderChannels():null]})}}var Pe=n(48368),Oe=n(1017);class NotificationChannelCollectorCard extends o.PureComponent{constructor(...e){super(...e),this.state={channel:"saved"===this.props.phoneNumberSaveState?"phone":"email",prevProps:this.props},this.handleChannelChange=e=>{this.setState({channel:e})}}componentDidMount(){const{part:e,conversationId:t}=this.props,{form:n}=e;n&&n.attributes.forEach((({identifier:i})=>{(0,u.A5)("received","operator_reply","messenger","in_conversation",{type:"automated_lead_qualification",conversation_id:t,part_id:e.id,attribute_identifier:i,attribute_type:i,form_type:n.type,attribute_is_custom_data:!1})}))}static getDerivedStateFromProps(e,t){if(!t||R()(e,t.prevProps))return null;let n;return"saved"===e.emailSaveState?n="email":"saved"===e.phoneNumberSaveState&&(n="phone"),n?{channel:n,prevProps:e}:{prevProps:e}}renderAvatar(){return(0,g.jsx)(D.w$,{children:(0,g.jsx)(w.h,{author:this.props.part.author})})}renderControls(){const{emailSaveState:e,phoneNumberSaveState:t,isPhoneNumberEnabled:n}=this.props,i="saved"===e,r="saved"===t;return(0,g.jsx)(NotificationChannelCollectorCardControls,{channel:this.state.channel,isEmailSaved:i,isPhoneNumberSaved:r,isPhoneNumberEnabled:n,onChannelChange:this.handleChannelChange})}renderAttribute(){var e;const{part:t,disabled:n,email:i,phoneNumber:r,emailSaveState:s,phoneNumberSaveState:o,defaultCountryCode:a,onEmailSubmit:l,onPhoneNumberSubmit:c}=this.props,d=null==(e=t.form)?void 0:e.attributes.find((({identifier:e})=>e===this.state.channel));return"email"===this.state.channel?(0,g.jsx)(Pe.A,{disabled:n,value:i,saveState:s,isBorderless:!1,isReplyType:!1,isNotificationChannel:!0,onSubmit:l}):(0,g.jsx)(Oe.A,{disabled:n,value:r,saveState:o,errorCode:null==d?void 0:d.errorCode,defaultCountryCode:a,isBorderless:!1,isReplyType:!1,isNotificationChannel:!0,onSubmit:c},r)}renderDisabledMessage(){const{disabled:e,disabledMessage:t}=this.props;return e&&t?(0,g.jsx)(D.Ve,{children:t}):null}isSaved(){const{emailSaveState:e,phoneNumberSaveState:t}=this.props;return"saved"===e||"saved"===t}render(){const{isBorderless:e}=this.props;return(0,g.jsxs)(D.No,{children:[this.props.hasAvatar?this.renderAvatar():null,(0,g.jsxs)(D.vl,{isBorderless:e,children:[this.renderControls(),this.renderAttribute(),this.renderDisabledMessage()]})]})}}var Le=n(1200);const He=(e,t)=>e.attributes.find((e=>e.identifier===t)),De=(0,i.Ng)(((e,t)=>{const{part:n}=t,{id:i,form:r}=n,s=e.user.countryCode||"us",o=(0,Z.Vy)(e),a=He(r,"email"),l=He(r,"phone"),c=void 0!==l,{value:d,saveState:p}=a;let u,h;return c&&(u=l.value,h=l.saveState),{conversationId:o,partId:i,email:d,phoneNumber:u,emailSaveState:p,phoneNumberSaveState:h,isPhoneNumberEnabled:c,defaultCountryCode:s}}),(e=>({onAttributeSubmit(t,n,i,r,s){const o=i;e((0,Le.DX)(z.Ay,t,n,i,r,o,s,!1))}})),((e,t,n)=>Object.assign({},e,t,n,{onEmailSubmit(i){t.onAttributeSubmit(e.conversationId,e.partId,"email",i,n.part.form.type)},onPhoneNumberSubmit(i){t.onAttributeSubmit(e.conversationId,e.partId,"phone",i,n.part.form.type)}})))(NotificationChannelCollectorCard);var Ve=n(98099);const Fe=(0,i.Ng)((e=>({conversation:(0,Ve.Gm)(e)||(0,Ve.BJ)(e),userId:e.user.id})))((function(e){return(0,g.jsx)("div",{className:"intercom-attribute-collector",children:(()=>{const{conversation:t,part:n,hasAvatar:i,isBorderless:r,useNewConversationStyle:s}=e,{form:o}=n,a=t.preventEndUserReplies||(null==o?void 0:o.disabled),l=(null==o?void 0:o.disabledMessage)||null;return o&&"notification_channel"===o.type?(0,g.jsx)(De,{disabled:a,disabledMessage:l,part:n,hasAvatar:i,isBorderless:r}):o&&"upfront_collection"===o.type?(0,g.jsx)(ze.Ay,{disabled:a,disabledMessage:l,part:n,hasAvatar:i,isBorderless:r,hideNumbering:!0,useNewConversationStyle:s},JSON.stringify(n)):(0,g.jsx)(ze.Ay,{disabled:a,disabledMessage:l,part:n,hasAvatar:i,isBorderless:r,useNewConversationStyle:s},n.id)})()})}));var qe=n(45134);const Ge=(0,te.Ay)("div",{target:"e11tr6da3"})("max-width:100%;font-size:14px;vertical-align:middle;line-height:14px;position:relative;",qe.D.className,"{bottom:-17px;left:45px;}"),Ue=(0,te.Ay)("div",{target:"e11tr6da2"})({name:"c5638g",styles:"width:30px;display:inline-block;vertical-align:middle"}),$e=(0,te.Ay)("div",{target:"e11tr6da1"})("color:",(0,te.w4)("participantText"),";overflow-wrap:break-word;word-break:break-word;"),We=(0,te.Ay)("div",{target:"e11tr6da0"})({name:"wxtp8d",styles:"display:inline-block;vertical-align:middle;padding:3px 0;margin-left:15px;max-width:calc(100% - 45px);color:#78909c;line-height:1.3;position:relative"});var Ke=n(29500),Ye=n(92090);class ParticipantEvent extends o.Component{renderAvatar(){return(0,g.jsx)(Ue,{children:(0,g.jsx)(w.h,{author:this.props.part.eventData.participant})})}renderText(){const{createdAt:e}=this.props.part;return(0,g.jsx)(Ye.Ay,{content:e&&((0,Ke.Bv)(e)||""),children:(e,t)=>(0,g.jsxs)(We,Object.assign({},t,{children:[(0,g.jsx)($e,{children:this.partTypeText()}),e]}))})}partTypeText(){return this.props.part.eventData.eventAsPlainText}renderTimestamp(){const{createdAt:e}=this.props.part;return(0,g.jsx)(qe.D,{children:(0,Ke.Bv)(e)})}render(){return(0,g.jsxs)(Ge,{children:[this.renderAvatar(),this.renderText(),this.renderTimestamp()]})}}var Ze=n(69771),Je=n(53074),Qe=n(65318),Xe=n(1187),et=n(35867),tt=n(79986),nt=n(79597);const it=(0,te.Ay)("div",{target:"e1bs48ky5"})("text-align:center;font-weight:bold;",(({theme:e})=>`border-bottom: 1px solid ${e.appColorSemiTransparent30}`),";"),rt=(0,te.Ay)("div",{target:"e1bs48ky4"})({name:"cso1wt",styles:"padding:16px 24px 16px 24px"}),st=(0,te.Ay)("div",{target:"e1bs48ky3"})({name:"16yasoo",styles:"text-align:center;text-decoration:underline;cursor:pointer;margin-top:-16px"}),ot=(0,te.Ay)("div",{target:"e1bs48ky2"})({name:"12hzqv8",styles:"font-weight:bold;margin-bottom:6px"}),at=(0,te.Ay)("div",{target:"e1bs48ky1"})("p{margin-top:4px;line-height:10px;}span{",(({theme:e})=>`color: ${e.textMuted};\n\t\tfont-size: 12px;\n\t\tdisplay: block`),";}"),lt=(0,te.Ay)("div",{target:"e1bs48ky0"})({name:"125lw3i",styles:"font-size:13px;font-weight:bold"});var ct=n(70400),dt=n(57492);const pt=({ticket:e,part:t})=>{var n,i;return(0,g.jsxs)(nt.l,{children:[(0,g.jsx)(it,{children:(0,g.jsx)(rt,{children:e.name})}),(0,g.jsxs)(rt,{children:[e.attributes.title&&(0,g.jsx)(ot,{children:null==(n=e.attributes.title.value)?void 0:n.toString()}),e.attributes.status&&(0,g.jsxs)(at,{children:[(0,g.jsxs)(lt,{children:[(0,j.Tl)("status"),":"]}),(0,g.jsx)("p",{children:null==(i=e.attributes.status.value)?void 0:i.toString()}),(0,g.jsx)("span",{children:(0,Ke.iw)(t.createdAt)})]})]}),(0,g.jsx)(rt,{children:(0,g.jsx)(ct.Link,{to:(0,dt.sq)(e.id),children:(0,g.jsx)(st,{children:(0,j.Tl)("view_more_details")})})})]})},ut=({part:e,conversationId:t})=>{const n=(0,tt.GV)((e=>(0,Ve.VN)(e,t)));if(!n)return null;const{ticket:i}=n;return i?(0,g.jsx)(pt,{part:e,ticket:i}):null};var ht=n(88204),gt=n(83285);const mt=(0,te.Ay)("p",{target:"e1mwygkl2"})("font-size:13px;color:",(({theme:e})=>e.textMuted),";display:flex;align-items:center;justify-content:center;width:100%;padding:8px 0;box-sizing:border-box;line-height:16px;text-align:center;svg{min-width:16px;margin-right:8px;}",(({isBorderless:e,theme:t})=>e&&(0,te.AH)("background:",t.containerBaseNeutral,";border-radius:",t.conversationPartBorderRadiusPx,";box-shadow:",t.notificationBoxShadow,";padding:8px;")),";"),xt=(0,te.Ay)("span",{target:"e1mwygkl1"})({name:"1wnowod",styles:"display:flex;align-items:center;justify-content:center"}),ft=(0,te.Ay)("span",{target:"e1mwygkl0"})({name:"1m5hyg0",styles:"word-break:break-all"});function vt({status:e,timestamp:t,teammate:n,isBorderless:i,customStatePrefix:r,customStateLabel:s}){const o=e===je.S5.submitted?"tickets_status_event_submitted":"tickets_status_change_event",a=(0,ht.JN)(e),l=(0,j.Tl)(o,{teammate:n,submitted_status:a,status:a,timestamp:(0,Ke.iw)(t)||""});return(0,g.jsx)(mt,{"data-testid":"inline-status",isBorderless:i,children:(0,g.jsx)("span",{children:(0,g.jsx)("span",{children:s?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(xt,{children:[(0,g.jsx)(gt.A,{}),(0,g.jsxs)("span",{children:[r," • ",(0,Ke.iw)(t)]})]}),(0,g.jsxs)("span",{style:{display:"block",marginTop:"4px"},children:[" ",(0,g.jsx)(xt,{children:(0,g.jsx)(ft,{children:(0,g.jsx)("strong",{children:s})})})]})]}):(0,g.jsxs)(xt,{children:[(0,g.jsx)(gt.A,{}),(0,g.jsx)("span",{children:l})]})})})})}const yt=(0,te.Ay)("div",{target:"e1lvkyc82"})({name:"5283xc",styles:"text-align:center;font-size:0.9rem;padding:1rem 0 0.7rem"}),bt=(0,te.Ay)("div",{target:"e1lvkyc81"})("color:",(0,te.w4)("textDefault"),";display:block;"),wt=(0,te.Ay)("a",{target:"e1lvkyc80"})("display:inline-block;padding-top:0.3rem;font-weight:600;color:",(0,te.w4)("textDefault"),";");var jt=n(95970);const At=({mergedConversationId:e,description:t})=>{const n=(0,tt.jL)();return(0,g.jsxs)(yt,{children:[(0,g.jsx)(bt,{children:t}),(0,g.jsx)(wt,{onClick:()=>{n((0,Le.QL)(z.Ay,e,{requestOrigin:"Link to merged conversation"})),n((0,jt.p)(e))},children:(0,j.Tl)("view_conversation")})]})};var kt=n(83034),Ct=n(23218),St=n(60729),Tt=n(85530);const _t=te.i7`
  0% {
    background-position: -200px 0;
  }
  100% {
    background-position: 200px 0;
  }
`,Et=(0,te.Ay)("div",{target:"e1sik60r1"})("font-size:14px;display:flex;flex-direction:row;align-items:center;justify-content:flex-start;gap:4px;padding:8px 0;background:linear-gradient(90deg, black 0%, gray 25%, lightgray 45%, gray 65%, black 100%);background-size:200px 100%;background-clip:text;color:transparent;animation:",_t," 3s infinite linear;"),Bt=te.i7`
  0%, 100% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.2);
  }
`,Nt=(0,te.Ay)("div",{target:"e1sik60r0"})("width:12px;height:12px;background-color:",(0,te.w4)("iconDefault"),";border-radius:50%;animation:",Bt," 1.5s infinite ease-in-out;margin:0 4px;"),It=({part:e})=>{const{body:t}=e;return(0,g.jsxs)(Et,{children:[(0,g.jsx)(Nt,{"data-testid":"pulsing-circle"}),(0,g.jsx)(d.A,{blocks:t})]})},zt=({part:e,isBorderless:t})=>!e.partType||t||-1===["participant_added","participant_removed","temporary_expectations"].indexOf(e.partType)?null:(0,g.jsx)(ParticipantEvent,{part:e}),Mt=(e,t,n)=>{const i=!!n&&(0,Ze.EU)(n);return e&&t&&!i},Rt=({part:e,isLastPart:t,hasAvatar:n,isBorderless:i,isMobile:r,partHasMetadata:s,groupingPosition:o,onImageClick:a,appName:l})=>(0,Je.A)(e.partType)?(0,g.jsx)(zt,{part:e,isBorderless:i}):(0,g.jsx)(Ne.D,{isLastPart:t,part:e,hasAvatar:n,isBorderless:i,isMobile:r,groupingPosition:o,showInlineMetadata:Mt(s,i,e.body),onImageClick:a,appName:l});const Pt=(0,Ct.d)((function({isLastPart:e,part:t,nextPart:n,reactionsReply:i,appName:r,conversationId:l="",hasAvatar:c,grouped:d,groupingPosition:p,partHasMetadata:h,isBorderless:m=!1,isMobile:f=!1,conversationHasScrolled:v,setPartRef:w,onArticleCardClick:A,onImageClick:k,onRetry:C,onReactionSelect:S,frameWindow:T,forwardedRef:_}){var E,N;const I=(0,o.useRef)(null),z=e=>{const n=e.target;if("a"!==n.tagName.toLowerCase())return;const i=n.getAttribute("href");i&&((e,t,n)=>{(0,u.A5)("clicked","link","messenger","in_conversation",{conversation_id:e,[t.isMessage?"message_id":"comment_id"]:t.id,url:n,partType:t.messageType})})(l,t,i)},M="failed"===t.saveState,R=M&&!(0,s.Xc)(t.saveFailureReason)&&!(0,s.mn)(t.saveFailureReason),P=!!t.body&&(0,Ze.EU)(t.body),O=h&&!m&&!(0,Qe.MU)(t),L=h&&m&&!P,H=(0,St.Th)(),D=(0,St.M5)(),V=H&&(0,Qe.vz)(t),F=H&&(0,Qe.MU)(t),q=(()=>{var e;let n=null==(e=t.author)?void 0:e.firstName;return""!==n&&null!=n||(n="user"),M?(0,j.Tl)("failed_message"):(0,j.Tl)("user_says",{firstName:n})})();return(0,g.jsx)(Tt.e,{sources:t.sources,children:(0,g.jsxs)(et.q,{onClick:e=>{z(e),R&&C(t)},role:"article","aria-roledescription":(0,j.Tl)("message"),"aria-label":q,ref:(0,kt.A)(_,(e=>w&&w(e,t))),isAdmin:null==(E=t.author)?void 0:E.isAdmin,isSelf:null==(N=t.author)?void 0:N.isSelf,isBorderless:m,grouped:d,groupingPosition:p,isLastPart:!n,isFailedPart:M,isRetryable:R,conversationHasScrolled:v,isTicketStatusUpdate:"ticketStatusUpdate"===t.messageType,flatConversationStyle:V,newConversationStylingEnabled:H,"data-testid":"conversation-part",children:[(()=>{var s;switch(t.messageType){case"post":return(0,g.jsx)(x,{appName:r,conversationId:l,part:t,reactionsReply:i,onReactionSelect:S,frameWindow:T,isBorderless:m,noShadow:D});case"note":return(0,g.jsx)(y,{appName:r,part:t,frameWindow:T});case"link":return(0,g.jsx)(B,{appName:r,part:t,hasAvatar:c,isBorderless:m,onArticleCardClick:A});case"finThought":return(0,g.jsx)(It,{part:t});case"notificationChannels":return(0,g.jsx)(Q,{part:t,nextPart:n,hasAvatar:c,isBorderless:m});case"conversationRating":return f?(0,g.jsx)(Rt,{part:t,isLastPart:e,hasAvatar:c,isBorderless:m,isMobile:f,groupingPosition:p,partHasMetadata:h,onImageClick:k,appName:r}):(0,g.jsx)(_e,{part:t,nextPart:n,hasAvatar:c&&!F,isBorderless:m,useNewConversationStyle:F,groupingPosition:p});case"attributeCollector":return(0,g.jsx)(Fe,{part:t,hasAvatar:c&&!F,isBorderless:m,useNewConversationStyle:F});case"video":case"chat":case"adminReply":case"inlineAnswer":case"relevantArticles":case"finAnswer":return m&&!H?(0,g.jsx)(b.A,{appName:r,part:t,hasAvatar:c,isBorderless:m,isMobile:f,groupingPosition:p,showInlineMetadata:L,frameWindow:T}):(0,g.jsx)(Rt,{appName:r,part:t,isLastPart:e,hasAvatar:c,isBorderless:m,isMobile:f,groupingPosition:p,partHasMetadata:h,onImageClick:k});case"pointer":return(0,g.jsx)(PointerCard,{appName:r,part:t,frameWindow:T});case"ticketCard":return(0,g.jsx)(ut,{part:t,conversationId:l});case"ticketStatusUpdate":return(0,g.jsx)(vt,{status:t.eventData.status,customStatePrefix:t.eventData.customStatePrefix,customStateLabel:t.eventData.customStateLabel,teammate:null==(s=t.author)?void 0:s.firstName,timestamp:t.createdAt,isBot:t.author.isBot,isBorderless:m},`${t.eventData.status}-${t.createdAt}`);case"mergedPrimaryConversation":return(0,g.jsx)(At,{mergedConversationId:t.eventData.mergedConversationId,description:t.eventData.description});default:return(0,g.jsx)(Rt,{part:t,isLastPart:e,hasAvatar:c,isBorderless:m,isMobile:f,groupingPosition:p,partHasMetadata:h,onImageClick:k,appName:r})}})(),"attribute_collector"===t.replyType?(0,g.jsx)(ze.Ay,{part:t,hasAvatar:!1,isBorderless:m,isReplyType:!0},(0,Xe.A)(JSON.stringify(t))):null,(0,g.jsx)(a.F,{children:O?(0,g.jsx)(a.B1,{classNames:"intercom-conversation-part-metadata",timeout:300,nodeRef:I,children:(0,g.jsx)(Ie.q,{ref:I,part:t})}):null})]})})}));var Ot=n(48179),Lt=n(86629),Ht=n(5945),Dt=n(99459),Vt=n(16645),Ft=n(13555);const qt="53px",Gt=te.i7`
  0%, 30%, 100% {
    transform: translateY(0);
  } 15% {
    transform: translateY(-2px);
  }
`,Ut=te.i7`
  from {
    opacity: 0;
    height: ${qt};
  } to {
    opacity: 0;
    height: 0;
  }
`,$t=te.i7`
  from {
    opacity: 0;
    transform: scale(0.9);
  }
  50% {
    opacity: 0;
    transform: scale(0.9);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
`,Wt=te.i7`
  0% {
    opacity: 0;
    transform: scale(0.6);
  }
  50% {
    opacity: 0;
    transform: scale(0.6);
  }
  100% {
    opacity: 1;
    transform: scale(1);
  }
`;var Kt={name:"1408f10",styles:"padding-left:0"};const Yt=(0,te.Ay)("div",{target:"e1fbt4ds3"})("position:relative;padding-left:45px;padding-bottom:24px;min-height:",qt,";&.intercom-conversation-part-enter-active{transition:transform 100ms;}&.intercom-conversation-part-exit-active{animation:",Ut," 300ms 300ms ease-in;}",(({hideAvatar:e})=>e&&Kt),";"),Zt=(0,te.Ay)("div",{target:"e1fbt4ds2"})("position:absolute;left:0;bottom:34px;",Yt.className,".intercom-conversation-part-enter &{animation:",$t," 300ms ease-in;}",Yt.className,".intercom-conversation-part-exit-active &{animation:",$t," 300ms ease-in reverse;}"),Jt=(0,te.Ay)("div",{target:"e1fbt4ds1"})("height:",qt,";width:66px;padding:0;background:",(0,te.w4)("containerNeutral"),";border-radius:",(0,te.w4)("conversationPartBorderRadiusPx"),";position:relative;transform-origin:bottom left;",Yt.className,".intercom-conversation-part-enter &{animation:",Wt," 300ms ease-in;}",Yt.className,".intercom-conversation-part-exit-active &{animation:",Wt," 300ms ease-in reverse;}",(({newConversationStylingEnabled:e})=>e&&(0,te.AH)("top:10px;width:56px;height:32px;border-radius:16px;display:inline-flex;justify-content:center;align-items:center;gap:4px;background:rgba(0, 0, 0, 0.03);border:1px solid rgba(0, 0, 0, 0.02);",Qt.className,"{position:static;}")),";"),Qt=(0,te.Ay)("div",{target:"e1fbt4ds0"})("width:6px;height:6px;border-radius:100%;background-color:",(0,te.w4)("metaText"),";position:absolute;top:24px;animation:",Gt," 1s infinite ease-in;&:first-of-type{left:20px;}&:nth-of-type(2){left:30px;animation-delay:0.15s;}&:nth-of-type(3){left:40px;animation-delay:0.3s;}");var Xt=n(91889);const en=(0,o.forwardRef)((function({admin:e},t){const n=(0,St.Th)(),i=e.isBot||n&&!e.showAvatar;return(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)(Yt,{"data-testid":"typing-admin",ref:t,hideAvatar:i,newConversationStylingEnabled:n,style:{marginTop:e.isBot?"-12px":"0px"},children:[!i&&(0,g.jsx)(Zt,{children:(0,g.jsx)(Xt.l,{admin:e})}),(0,g.jsxs)(Jt,{newConversationStylingEnabled:n,children:[(0,g.jsx)(Qt,{}),(0,g.jsx)(Qt,{}),(0,g.jsx)(Qt,{}),(0,g.jsx)(Ft.D,{children:(0,j.Tl)("typing")})]})]})})}));var tn=n(49756);const nn=e=>(0,tt.GV)((t=>(0,tn.A)(t,e)));var rn=n(70951);const sn=({conversation:e,isBorderless:t})=>{var n,i;const r=(0,o.useRef)(null);let s=nn(e.id||"LATEST");const l=e.parts.length?e.parts[e.parts.length-1]:null;!e.id&&null!=l&&l.clientId&&s&&(null==(n=s)?void 0:n.clientId)!==l.clientId&&(s=void 0);const c=(0,Lt.nR)(Object.assign({},e,{lastTypingAdmin:s}),t);((e,t)=>{const[,n]=(0,o.useState)(0);(0,o.useEffect)((()=>{if(!e)return;const i=setInterval((()=>{n((e=>e+1))}),t);return()=>clearInterval(i)}),[e,t])})(!!s,null!=(i=s)&&i.isBot?800:1e3);const{state:d}=(0,rn.t)()||{};return"exiting"===d?null:(0,g.jsx)(a.B1,{classNames:"intercom-conversation-part",timeout:3200,exit:!1,nodeRef:r,in:c,children:c&&s?(0,g.jsx)(en,{ref:r,admin:s}):(0,g.jsx)(g.Fragment,{})})},on=(0,te.Ay)("div",{target:"e1pb27ix0"})("width:100%;height:1px;background-color:",(0,te.w4)("badgeRed"),";margin:16px 0px;position:relative;text-align:center;&::before{content:'",(0,j.Tl)("new"),"';position:absolute;top:-5px;left:20%;transform:translateX(-50%);background:",(0,te.w4)("containerBaseNeutral"),";padding:0 8px;color:",(0,te.w4)("badgeRed"),";font-size:12px;}"),an=()=>(0,g.jsx)(on,{"aria-label":"New messages divider"});var ln=n(52555);const cn=({part:e,parts:t,newMessagesLastReadAt:n,children:i})=>{const r=!!((0,o.useMemo)((()=>(0,Lt.Uc)(t,e)),[t,e])>0&&n&&e.createdAt&&n<e.createdAt),[s]=(0,ln.zh)((()=>({from:{opacity:0,transform:"translateY(20px)",height:0},to:{opacity:1,transform:"translateY(0)",height:"auto"},config:{duration:350,easing:ln.le.easeOutCirc},immediate:!r})));return(0,g.jsx)(ln.CS.div,{style:s,children:i})},dn=({part:e,transitionRef:t,children:n})=>{const i=(0,L.nr)()&&"attribute_collector"===e.partType,r=i?"dummy":"intercom-conversation-part",s=i?{enter:0,exit:0}:{enter:3e4,exit:600};return(0,g.jsx)(a.B1,{classNames:r,timeout:s,nodeRef:t,children:n})},pn=({part:e,parts:t,transitionRef:n,newMessagesLastReadAt:i,children:r})=>(0,Qe.MU)(e)?(0,g.jsx)(cn,{part:e,parts:t,newMessagesLastReadAt:i,children:r}):(0,g.jsx)(dn,{part:e,transitionRef:n,children:r});var un;function hn(){return hn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},hn.apply(null,arguments)}const gn=e=>o.createElement("svg",hn({xmlns:"http://www.w3.org/2000/svg",width:22,height:22,fill:"none",viewBox:"0 0 22 22"},e),un||(un=o.createElement("path",{fill:"#222",fillRule:"evenodd",d:"M5 .5A4.5 4.5 0 0 0 .5 5v12A4.5 4.5 0 0 0 5 21.5h12a4.5 4.5 0 0 0 4.5-4.5V5A4.5 4.5 0 0 0 17 .5zm6 3.511c.644 0 1.167.523 1.167 1.167v7a1.167 1.167 0 0 1-2.334 0v-7c0-.644.523-1.167 1.167-1.167M6.917 5.178c.644 0 1.166.522 1.166 1.167v3.5a1.167 1.167 0 1 1-2.333 0v-3.5c0-.645.522-1.167 1.167-1.167m9.333 1.167a1.167 1.167 0 1 0-2.334 0v3.5a1.167 1.167 0 1 0 2.334 0zm-1.285 9.127.057-.12a.75.75 0 0 0-.799-1.059 20 20 0 0 1-6.433 0 .75.75 0 0 0-.8 1.058l.057.121c1.573 3.356 6.345 3.356 7.918 0",clipRule:"evenodd"})));const mn=(0,te.Ay)("div",{target:"e1soik1t3"})({name:"46whl4",styles:"display:flex;flex-direction:column;justify-content:center;align-items:center;max-width:330px;height:100%;margin:0 auto"}),xn=(0,te.Ay)(gn,{target:"e1soik1t2"})({name:"12s5exb",styles:"width:21px;height:21px"}),fn=(0,te.Ay)("h2",{target:"e1soik1t1"})({name:"sa4yw3",styles:"margin-top:8px;font-size:14px;line-height:1.33;font-weight:400;text-align:center"}),vn=(0,te.Ay)("h3",{target:"e1soik1t0"})("margin-top:16px;font-size:12px;line-height:1.43;font-weight:400;text-align:center;color:",(0,te.w4)("textMuted"),";"),yn=()=>(0,g.jsxs)(mn,{"data-testid":"conversation-empty-state-for-preview-mode",children:[(0,g.jsx)(xn,{}),(0,g.jsx)(fn,{children:(0,j.Tl)("ask_fin_something_to_start")}),(0,g.jsx)(vn,{children:(0,g.jsx)("p",{children:(0,j.Tl)("preview_customer_view_empty_state_subtext")})})]});var bn=n(20169),wn=n(34179);const jn=e=>`part-${(0,Lt.TS)(e)}`,An=(e,t)=>{const{ticket:n}=t;return n&&"message"===e.partType&&(0,Lt.g4)(e)},kn=(0,o.forwardRef)((({appName:e,conversation:t,isBorderless:n,isMobile:i,onReactionSelect:r,onRetry:s,onArticleCardClick:o,onImageClick:a,frameWindow:l,setPartRef:c,canBeScrolled:d,scrolledToBottom:p,part:u,nextPart:h,prevPart:m,index:x,parts:f},v)=>{const y=(0,St.Th)();if(An(u,t)&&x<2)return null;const{lastTypingAdmin:b}=t,w=y?(0,Lt.wH)(u,m,h):(0,Lt.mz)(u,h),j=y?(0,Lt.J2)(u,m,h):je.L3.standalone,A=(0,Lt.nR)(t,n),k=(0,Lt.LR)(u,h,!!n,!!A,b),{reactionsReply:C}=(0,Ot.A)(f),S=void 0===h;return(0,g.jsx)(Dt.A,{errorText:"Something went wrong loading this message",align:"center",style:{margin:"10px 0 20px"},children:(0,g.jsx)(Vt.Q.Item,{id:(0,Lt.TS)(u),children:(0,g.jsx)(Pt,{ref:v,part:u,setPartRef:c,nextPart:h,appName:e,conversationId:t.id,reactionsReply:C,onReactionSelect:r,onRetry:s,hasAvatar:k,grouped:w,groupingPosition:j,isLastPart:S,partHasMetadata:(0,Lt.Xl)(u,f,t,A),isBorderless:!!n,isMobile:!!i,frameWindow:l,onArticleCardClick:o,onImageClick:a,conversationHasScrolled:d&&!p,"data-testid":"conversation"})})})})),Cn=({part:e})=>(0,g.jsx)(Ht.ES,{"data-testid":"conversation-part-date-divider",role:"status",tabIndex:-1,children:(0,Lt.pk)(e.sentAt||e.createdAt)});var Sn=n(93346);const Tn=(0,i.Ng)(((e,t)=>{const n=(0,r.ed)(e),i=(0,s.JA)(n,null==t?void 0:t.conversation),o=(0,Sn.L9)(e,t.conversation.id);return{activeBot:i?(0,r.Lf)(e):null,animatingConversationPartId:o}}))((e=>{var t;const{conversation:n,activeBot:i,animatingConversationPartId:r,isFaded:s=!1,isBorderless:a=!1,canBeScrolled:l,newMessagesLastReadAt:c,ensureIsScrollableToTopPart:d,clientAreaHeight:p}=e,{parts:u}=n,h=u.length>0&&!a&&(0,Lt.K0)(u)&&!An(u[0],n),m=(0,o.useRef)({}),x=(0,o.useMemo)((()=>((e,t)=>{let n=e.filter((e=>void 0!==e&&!(0,Lt.er)(e)));const i=n.findIndex((e=>void 0!==t&&(0,Lt.TS)(e)===t));return-1!==i&&(n=n.filter(((e,t)=>{var n;return!(null!=(n=e.author)&&n.isAdmin&&t>i)}))),n})(u,r)),[u,r]),f=(0,o.useRef)(null),[v,y]=(0,o.useState)(0),b=null==(t=(0,wn.S)())?void 0:t.streamingAnimation;(0,o.useEffect)((()=>{if(d&&("scroll:smooth:fade"===b||"scroll:smooth"===b||"scroll"===b)){const e=f.current,t=m.current[jn(d)].current;if(e&&t){const n=e.getBoundingClientRect().bottom-t.getBoundingClientRect().bottom+t.getBoundingClientRect().height;y(p-n-20-12+e.getBoundingClientRect().height)}}}),[d,p,b]);const{keyboardNavigationProps:w,NavigableItem:j}=(()=>{const e=(0,o.useRef)({}),[t,n]=(0,o.useState)(null),i=(0,o.useCallback)((i=>{if(-1===["ArrowUp","ArrowDown","Home","End","Tab"].indexOf(i.key))return;const r="Tab"===i.key,s=r&&i.shiftKey,o=e.current,a=Object.keys(o);if(!a.length)return;let l=t?a.indexOf(t):-1;if(s&&0===l)return;if(r&&!i.shiftKey&&l===a.length-1)return;i.preventDefault(),-1===l&&("ArrowDown"===i.key||"Home"===i.key||s?l=0:("ArrowUp"===i.key||"End"===i.key||r)&&(l=a.length-1));let c=l;switch(i.key){case"ArrowUp":c=Math.max(0,l-1);break;case"ArrowDown":c=Math.min(a.length-1,l+1);break;case"Tab":c=s?0:a.length-1;break;case"Home":c=0;break;case"End":c=a.length-1}if(c>=0&&c<a.length){const e=a[c],t=o[e];t&&(t.focus(),n(e))}}),[t]),r=(0,o.useCallback)((t=>n=>{if(n)e.current[t]=n;else{const n={};Object.keys(e.current).forEach((i=>{i!==t&&(n[i]=e.current[i])})),e.current=n}}),[]),s=(0,o.useCallback)((e=>({ref:r(e),onFocus:()=>n(e),tabIndex:0})),[r]);return{keyboardNavigationProps:{onKeyDown:i},NavigableItem:(0,o.useCallback)((e=>{const{elementId:t,children:n,role:i,ariaRoledescription:r}=e,a=s(t);return(0,o.createElement)("div",Object.assign({},a,{role:i||void 0,"aria-roledescription":r||void 0}),n)}),[s])}})();return(0,g.jsxs)(Ht.ND,Object.assign({style:{minHeight:v}},w,{"data-testid":"conversation-parts-wrapper",children:[(0,bn.Z)().conversationEmptyStateEnabled&&!u.length&&(0,g.jsx)(yn,{}),(0,g.jsxs)(Ht.Bp,{ref:f,shouldDisableScrollingAnimation:!l,isFaded:s,isBorderless:a,children:[h&&(0,g.jsx)(Cn,{part:u[0]}),x.map(((t,n)=>{const i=x[n-1],r=x[n+1],s=jn(t),l=!a&&(0,Lt.tK)(i,t),d=e.firstUnreadPartId&&(0,Lt.TS)(t)===e.firstUnreadPartId;m.current[s]||=(0,o.createRef)();const p=m.current[s];return(0,g.jsx)(pn,{part:t,parts:x,newMessagesLastReadAt:c,transitionRef:p,children:(0,g.jsxs)(g.Fragment,{children:[!!d&&(0,g.jsx)(Vt.Q.Item,{id:"divider",children:(0,g.jsx)(an,{})}),l&&(0,g.jsx)(Cn,{part:t}),(0,g.jsx)(j,{elementId:s,role:"none",children:(0,g.jsx)(kn,Object.assign({},e,{ref:p,part:t,nextPart:r,prevPart:i,index:n,parts:x}))})]})},s)})),(0,g.jsx)(sn,{conversation:n,isBorderless:a,activeBot:i})]})]}))}))},51165:(e,t,n)=>{"use strict";n.d(t,{A:()=>f});var i=n(71468),r=n(2404),s=n.n(r),o=n(96540),a=n(31218),l=n(69830),c=n(23043),d=n(96875),p=n(18873),u=n(49651),h=n(70745),g=n(60729),m=n(5351),x=n(74848);const f=(0,i.Ng)((e=>{const{composer:t}=e;return{composerContent:t.content}}))((function(e){const{conversation:t,composerContent:n,isBorderless:i,conversationSuggestions:r,onClick:f,onHeightChange:v,onSuggestionsShow:y,setComposerSuggestionsDismissed:b}=e,w=(0,o.useRef)(!1),j=(0,o.useRef)(!0),A=(0,g.Th)(),k=(0,m.A)().metaText,C=(0,o.useCallback)((()=>{const{uxStyle:e}=r;return"bubble"===(null==e?void 0:e.container)}),[r]),S=(0,o.useCallback)((()=>{const e=r&&r.suggestions.length;var t;e&&!w.current&&((0,l.A5)("received","composer_suggestions","messenger","",Object.assign({},r,{url:null==(t=(0,h.KQ)())?void 0:t.href})),w.current=!0);e&&y&&j.current&&(y(),j.current=!1),e||(j.current=!0)}),[r,w,j,y]);(0,o.useEffect)((()=>{S()}),[S]);const T=()=>{(0,l.A5)("dismissed","composer_suggestions","messenger","",{conversationSuggestions:r,composerContent:n,conversation_id:null==t?void 0:t.id}),b&&b()},_=(0,o.useCallback)((()=>{if(!r)return!1;const{suggestions:e}=r;if(!e.length||"quick_reply"!==e[0].type)return!0;const n=(0,p.iZ)(t);return s()(n,e)}),[r,t]),E=(0,o.useMemo)((()=>_()?r.suggestions:[]),[r,_]),[B,N]=(0,o.useState)(E);(0,o.useLayoutEffect)((()=>{N(E)}),[E]);const I=(0,o.useCallback)((async e=>{N([]),await f(e);const i={conversation_id:null==t?void 0:t.id,conversationSuggestions:r,composerContent:n,suggestion:e};(0,l.A5)("clicked",(e=>{switch(e){case"messenger_suggested_content":return"composer_smart_suggestions";case"predictive_answer":return"predictive_answer";default:return"composer_suggestions"}})(e.type),"messenger","",i)}),[n,null==t?void 0:t.id,r,f]);if(!r)return null;const{isInboundBotSuggestions:z,isTypeaheadSuggestions:M,uxStyle:R}=r,P=C(),O=null==R?void 0:R.alignButtons;return(0,x.jsxs)(c.mc,{className:"composer-suggestions-container",isBorderless:!!i,isTypeaheadSuggestions:!!M,suggestionsVisible:B.length>0,useGroupedUI:P,children:[(()=>{const{isTypeaheadSuggestions:e,welcomeParts:t,uxStyle:n}=r,i=_()?r.prompt:[],s=_()?r.suggestionParts:null;return C()&&null!=n&&n.welcomePartsWithSuggestions&&null!=t&&t.length?(0,x.jsx)(c._e,{foregroundColor:k,children:t.map((e=>(0,x.jsx)(a.A,{autoPlay:!1,blocks:e.body},e.id)))}):s?null:null!=i&&i.length?(0,x.jsx)(c.hE,{children:(0,x.jsx)(a.A,{autoPlay:!1,blocks:i})}):E.length&&e?(0,x.jsxs)(c.o8,{children:[(0,x.jsx)(c.R4,{onClick:T,children:(0,u.Tl)("dont_show_suggestions")}),(0,x.jsx)(c.$e,{onClick:T})]}):null})(),(0,x.jsx)(c.CJ,{children:(0,x.jsx)(d.A,{isInboundBotSuggestions:z,isTypeaheadSuggestions:M,suggestions:B,onSelect:I,onHeightChange:v,isBorderless:i,useNewConversationalUI:A,suggestionButtonsAlignment:O})})]})}))},85530:(e,t,n)=>{"use strict";n.d(t,{L:()=>a,e:()=>l});var i=n(96540),r=n(74848);const s=(0,i.createContext)(null);s.displayName="ConversationPartSourcesContext";const o={sources:void 0},a=()=>{const e=(0,i.useContext)(s);return e?e.sources:o.sources},l=({children:e,sources:t})=>(0,r.jsx)(s.Provider,{value:{sources:t},children:e})},93573:(e,t,n)=>{"use strict";n.d(t,{g:()=>r,v:()=>i});const i=(e,t,n=!1)=>{let i=e.slice(0,t);n&&(i=i.reverse());return[...i.filter((e=>e.avatar.square128)),...i.filter((e=>!e.avatar.square128))]},r=e=>{var t,n,i,r,s;return{imageUrl:(null==(t=e.avatar)?void 0:t.square128)||(null==(n=e.avatar)?void 0:n.imageUrl),initials:(null==(i=e.avatar)?void 0:i.initials)||e.initial||e.firstName[0],label:(null==(r=e.avatar)?void 0:r.label)||`Profile image for ${e.firstName}`,shape:(null==(s=e.avatar)?void 0:s.shape)||"circle"}}},69771:(e,t,n)=>{"use strict";n.d(t,{EU:()=>d,HO:()=>p,Nm:()=>c});var i=n(67098),r=n.n(i),s=n(75959),o=n.n(s);const a=e=>{const t=r()(e).replace("&nbsp;","").trim();return o().isSupportedUnicode(t)||o().isSupportedAscii(t)};var l=n(73669);const c=e=>"paragraph"===e.type&&a(e.text)||"html"===e.type&&a(e.content)||"rawContent"===e.type&&a(e.content),d=e=>!!e&&1===e.length&&((0,l.aN)(e[0])||c(e[0])),p=e=>d(e)&&(0,l.N5)(e[0])},17540:(e,t,n)=>{"use strict";n.d(t,{i:()=>r});var i=n(69830);function r({event:e,eventIdentifier:t,onClick:n}){!e||function(e){return function(){const e=-1!==navigator.userAgent.indexOf("Ghost Inspector"),t=window._DATADOG_SYNTHETICS_BROWSER,n=!1;return e||t||n}()||!1!==e.isTrusted}(e)?n(e):t&&(0,i.sq)("click_denied",{target:t},!0)}},23975:(e,t,n)=>{"use strict";n.d(t,{Fs:()=>f,Gf:()=>x,eg:()=>h,lx:()=>g,rL:()=>p});var i=n(62193),r=n.n(i),s=n(7309),o=n.n(s),a=n(60680),l=n.n(a),c=n(8375),d=n(1439);const p=e=>({text:e.target.value,cursorPosition:(0,c.Ey)(e.target)}),u=":";function h(){return{emojiTypeaheadState:{isActive:!1,suggestions:[],currentTypeaheadTerm:null}}}function g(e,t,n,i){const r=t-n.length-u.length,s=e.substring(0,Math.max(0,r))+e.substring(t),o=(0,c.f$)(s,i,r);return Object.assign({text:o,cursorPosition:r+i.length},{emojiTypeaheadState:{isActive:!1,suggestions:[],currentTypeaheadTerm:null}})}const m=(e,t)=>{const n=(0,d.Fu)({useFallback:!0}),i=new RegExp(`${u}(?<identifier>[^\\s${u}]{2,})(?<terminator>[${u}])?`,"gi");let s=null,a=null,c=null;for(;null!=(s=i.exec(e));){const{index:e,groups:n}=s;if(e>t)break;const{identifier:i,terminator:r}=n||{};if(r&&(c=r),t===e+u.length+i.length+(c?c.length:0)){a=i;break}}if(!a)return{emojiTypeaheadState:{isActive:!1,suggestions:[],currentTypeaheadTerm:null}};if(c){var p;const i=null==(p=o()(n,(e=>a===e.title)))?void 0:p.emoji;return i?g(e,t,`${a}${c}`,i):{emojiTypeaheadState:{isActive:!1,suggestions:[],currentTypeaheadTerm:null}}}const h=new RegExp(`^${l()(a)}`,"i"),m=n.filter((e=>h.test(e.title)));return{emojiTypeaheadState:{isActive:!r()(m),suggestions:m,currentTypeaheadTerm:a}}},x=e=>{try{return(e=>{const t=(0,c.Ey)(e.target),n=e.target.value;return m(n,t)})(e)}catch(e){return{emojiTypeaheadState:{isActive:!1,suggestions:[],currentTypeaheadTerm:null}}}},f=(e,t)=>{try{return m(e,t)}catch(e){return{emojiTypeaheadState:{isActive:!1,suggestions:[],currentTypeaheadTerm:null}}}}},85229:(e,t,n)=>{"use strict";n.d(t,{KJ:()=>o,Zc:()=>a,sy:()=>s});var i=n(73669),r=n(53074);const s=e=>{var t;return null==(t=(0,i.OO)(e.parts.filter((e=>!(0,r.A)(e.partType)))))?void 0:t.summaryText},o=e=>!(e.read||"whatsapp"===e.currentChannel),a=e=>e.parts.some((e=>{var t,n;return!(null!=(t=e.author)&&t.isAdmin||null!=(n=e.author)&&n.isBot)}))},86629:(e,t,n)=>{"use strict";n.d(t,{J2:()=>j,Jm:()=>_,K0:()=>p,LR:()=>A,TS:()=>C,Uc:()=>E,Xl:()=>k,er:()=>S,g4:()=>T,mz:()=>y,nR:()=>m,pk:()=>h,tK:()=>u,wH:()=>w});var i=n(29500),r=n(53074),s=n(49651),o=n(48179),a=n(26265);const l=e=>new Date-e,c=18e4,d=["january","february","march","april","may","june","july","august","september","october","november","december"],p=e=>"link"===e[0].messageType?!e.slice(1).every((t=>(0,i.ny)(t.createdAt,e[0].sentAt))):!1!==e[0].showCreatedAt&&!e.every((t=>(0,i.ny)(t.createdAt,e[0].createdAt))),u=(e,t)=>e&&!(0,i.ny)(t.createdAt,e.sentAt||e.createdAt),h=e=>(0,s.Tl)(`${d[e.getMonth()]}_date`,{date:e.getDate().toString()}),g=(e,t)=>{const n=((e,t)=>{let n=e.lastActiveAt;return n&&void 0!==n.getTime&&(n=new Date(n.getTime()),n.setMilliseconds(0)),t.find((t=>{var i,r;return(null==(i=t.author)?void 0:i.isAdmin)&&(null==(r=t.author)?void 0:r.id)===e.id&&n&&t.createdAt>=n}))})(e,t),i=e.isBot?6e4:1e4;return!n&&!!e.lastActiveAt&&l(e.lastActiveAt)<i},m=(e,t=!1)=>{if(t||"messenger"!==(null==e?void 0:e.currentChannel))return!1;const{parts:n=[],lastTypingAdmin:i}=e;if(i&&i.isBot){var r;if(null!=e&&e.footerNotice)return!1;const t=n[n.length-1];if(!i.hasAI){var s;if(!1===(null==e||null==(s=e.composerState)?void 0:s.workflowActive))return!1;return t&&t.author&&!t.author.isAdmin&&!t.author.isBot&&"failed"!==t.saveState&&g(i,n)}const o=t&&l(t.createdAt)>=800;if(t&&null!=(r=t.author)&&r.isBot&&!o)return!1;return n.some((e=>e.author&&!e.author.isBot&&!e.author.isAdmin))&&g(i,n)}return!!i&&g(i,n)},x=(e,t,n=18e4)=>t-e<=n,f=(e,t)=>(null==e?void 0:e.id)===(null==t?void 0:t.id)&&(null==e?void 0:e.isAdmin)===(null==t?void 0:t.isAdmin)||!0===(null==e?void 0:e.isSelf)&&!0===(null==t?void 0:t.isSelf)||!0===(null==e?void 0:e.isBot)&&!0===(null==t?void 0:t.isBot),v=(e,t)=>!(0,r.A)(e)&&!(0,r.A)(t),y=(e,t)=>!!t&&v(e.partType,t.partType)&&(0,i.ny)(e.createdAt,t.createdAt)&&f(e.author,t.author)&&x(e.createdAt,t.createdAt,c),b=(e,t)=>{var n;const r=!!t&&v(e.partType,t.partType)&&(s=e.partType,o=t.partType,"ticket_status_update"!==s&&"ticket_status_update"!==o)&&(0,i.ny)(e.createdAt,t.createdAt)&&f(e.author,t.author)&&((e,t)=>(null==e?void 0:e.container)===(null==t?void 0:t.container))(e.uxStyle,t.uxStyle);var s,o;return null!=(n=e.author)&&n.isAdmin?r:r&&x(e.createdAt,t.createdAt,36e5)},w=(e,t,n)=>{const i=!!n&&b(e,n),r=!!t&&b(t,e);return i||r},j=(e,t,n)=>{if(!w(e,t,n))return a.L3.standalone;const i=!!t&&w(e,t,void 0),r=!!n&&w(e,void 0,n);return!i&&r?a.L3.top:i&&!r?a.L3.bottom:i&&r?a.L3.middle:a.L3.standalone},A=(e,t,n,i,r)=>{if((e=>{var t;return null==(t=e.author)?void 0:t.isSelf})(e)||"video"===e.messageType)return!1;if(!n)return!y(e,t);return!!t?!f(e.author,t.author):!(i&&r&&(null==(s=e.author)?void 0:s.id)===r.id);var s},k=(e,t,n,i,r=!1)=>{var s,a,l,c;const d=t.length>0&&(0,o.A)(t).id===e.id,p="comment"===e.partType||"message"===e.partType||"attribute_collector"===e.partType||"bot_intro"===e.partType,u="failed"===e.saveState,h="saving"===e.saveState;if(u)return!0;return!!(((null==n||null==(s=n.uiFlags)?void 0:s.showLastPartMeta)??!0)||null!=(a=e.author)&&a.isBot)&&(!!h||!!d&&((null==(l=e.author)||!l.isAdmin||!i)&&(!((null==(c=e.author)||!c.isAdmin)&&r&&p)&&p)))},C=e=>e.clientId||e.id,S=e=>"quick_reply"===e.partType&&(!e.body||0===e.body.length),T=e=>!(e&&e.body&&e.body[0])||"paragraph"===e.body[0].type&&e.body[0].text&&""===e.body[0].text.trim(),_=e=>e.filter((e=>void 0!==e&&!S(e)&&!T(e))),E=(e,t)=>{const n=(e=>e.findLastIndex((e=>{var t;return"user"===(null==(t=e.author)?void 0:t.type)})))(e);if(-1===n)return 0;const i=e.findIndex((e=>e.id===t.id));return i>n?i-n:0}},84864:(e,t,n)=>{"use strict";n.d(t,{B:()=>a,O:()=>l});var i=n(38221),r=n.n(i),s=n(7350),o=n.n(s);const a=(...e)=>{const t=o()(...e);return function(e){return e.persist(),t(e)}},l=(...e)=>{const t=r()(...e);return function(e){return e.persist(),t(e)}}},82525:(e,t,n)=>{"use strict";n.d(t,{q:()=>l});var i=n(9814),r=n(2292),s=n(96540),o=n(79986),a=n(47335);function l(e){const t=(0,o.jL)(),n=(0,a.A)("checklistsReminders");(0,s.useEffect)((()=>{n&&e&&((e.status!==r.vb.New||e.hasEverBeenNotified)&&!e.shouldRenotify||e.hasUpdatedNotificationDetails||t((0,i.lP)(e.id,e.checklistProgressId)))}),[n,t,e])}},34179:(e,t,n)=>{"use strict";n.d(t,{A:()=>c,S:()=>l});var i=n(70400),r=n(79986),s=n(98099),o=n(72938),a=n(96540);const l=()=>{var e;const[t]=(0,a.useState)((0,i.useMatch)(`/${o.Ij.id}/conversation/:conversationId`)),n=null==t||null==(e=t.params)?void 0:e.conversationId;return(0,r.GV)((e=>(0,s.VN)(e,n)))},c=l},68297:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var i=n(96540);function r(e,t){const n=(0,i.useRef)(null);function r(){n.current&&clearInterval(n.current)}(0,i.useEffect)((()=>(r(),n.current=setInterval(e,t),r)),[e,t])}},51965:(e,t,n)=>{"use strict";n.d(t,{M:()=>s});var i=n(79986),r=n(51509);const s=()=>(0,i.GV)(r.c)},38424:(e,t,n)=>{"use strict";n.d(t,{z:()=>s});var i=n(96540);const r=e=>{e&&(e.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"}),e.focus())},s=(e,t,n=0,s=1)=>{const o=(0,i.useRef)({}),[a,l]=(0,i.useState)(n),c=t=>{switch(t.key){case"ArrowDown":t.preventDefault(),l((t=>{const n=t+s;return n<e?(r(o.current[n]),n):t}));break;case"ArrowRight":t.preventDefault(),l((t=>{const n=Math.min(t+1,e-1);return r(o.current[n]),n}));break;case"ArrowUp":t.preventDefault(),l((e=>{const t=e-s;return t>=0?(r(o.current[t]),t):e}));break;case"ArrowLeft":t.preventDefault(),l((e=>{const t=Math.max(e-1,0);return r(o.current[t]),t}))}};(0,i.useEffect)((()=>{l(n)}),t);return e=>({ref:t=>{t&&(o.current[e]=t)},tabIndex:e===a?0:-1,onKeyDown:c,onClick:()=>l(e)})}},96117:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var i=n(96540),r=n(42706);function s(e,t,n){const s=(0,i.useContext)(r.t);(0,i.useEffect)((()=>{if(!n)return null==s||s.document.addEventListener("mouseup",i),()=>{null==s||s.document.removeEventListener("mouseup",i)};function i(n){e.some((e=>{var t;return null==(t=e.current)?void 0:t.contains(n.target)}))||t()}}),[e,t,s,n])}},29647:(e,t,n)=>{"use strict";n.r(t),n.d(t,{appNodeId:()=>dy,default:()=>hy,styleNodeId:()=>py});var i=n(5338),r=n(71468),s=n(70400),o=n(52555),a=n(96983),l=n(25777),c=n(76662),d=n(8375),p=n(72938),u=n(82884),h=n(79986),g=n(14919),m=n(37046),x=n(74848);const f=()=>{const e=(0,h.GV)(g.BU);return(0,m.z)()?null:e&&"/"!==e?(0,x.jsx)(s.Navigate,{to:e,replace:!0}):(0,x.jsx)(s.Navigate,{to:"/messages",replace:!0})};var v=n(96540),y=n(71844);const b=()=>{const e=(0,s.useNavigate)(),t=(0,h.GV)(g.BU),n=(0,h.GV)(g.Ae);return(0,v.useEffect)((()=>{const i=setTimeout((()=>{n||e(t,{replace:!0})}),0);return()=>clearTimeout(i)}),[e,t,n]),(0,x.jsx)("div",{children:(0,x.jsx)(y.A,{})})};var w=n(86923);const j=300,A={type:"fade",direction:"none",time:150},k={type:"none",direction:"none",time:0},C={type:"slide",direction:"forward",time:j},S={type:"slide",direction:"back",time:j};const T=(0,w.Ay)("div",{target:"e11qurlh2"})({name:"1i1zgvg",styles:"display:flex;flex-direction:column;flex-grow:1;overflow:hidden"}),_=(0,w.Ay)("div",{target:"e11qurlh1"})({name:"1k0vitj",styles:"display:flex;flex-direction:column;flex:1;overflow:hidden;position:relative"}),E=(0,w.Ay)("div",{target:"e11qurlh0"})("display:flex;flex-direction:column;flex-grow:1;overflow:hidden;z-index:2;&.fade-enter ",T.className,"{opacity:0;}&.fade-exit ",T.className,"{opacity:1;}&.fade-exit,&.slide-exit,&.sheet-exit.up,&.sheet-enter.down,&.none-exit{position:absolute;display:flex;flex-direction:column;flex-grow:1;top:0;left:0;right:0;bottom:0;overflow:hidden;z-index:1;}&.fade-enter-active ",T.className,"{opacity:1;transition:opacity ",150,"ms;}&.fade-exit-active ",T.className,"{opacity:0;transition:opacity ",150,"ms;}&.slide-enter ",T.className,"{opacity:0;}&.slide-enter-active ",T.className,"{opacity:1;transition:opacity ",150,"ms;transition-delay:",150,"ms;}&.slide-exit ",T.className,"{opacity:1;}&.slide-exit-active ",T.className,"{opacity:0;transition:opacity ",150,"ms;}&.slide-enter.forward ",_.className,"{transform:translateX(20px);}&.slide-enter.back ",_.className,"{transform:translateX(-20px);}&.slide-enter.slide-enter-active ",_.className,"{transform:translateX(0);transition:transform ",150,"ms;transition-delay:",150,"ms;}&.slide-exit ",_.className,"{transform:translateX(0px);}&.slide-exit-active.forward ",_.className,"{transform:translateX(-20px);transition:transform ",150,"ms;}&.slide-exit-active.back ",_.className,"{transform:translateX(20px);transition:transform ",150,"ms;}&.sheet-enter.up,&.sheet-enter-appear.up{position:relative;transform:translateY(100%);}&.sheet-enter-active.up{transform:translateY(0%);transition:transform ",450,"ms;}&.sheet-exit.down,&.sheet-exit-appear.down{position:relative;transform:translateY(0%);}&.sheet-exit-active.down{transform:translateY(100%);transition:transform ",450,"ms;}"),B=(0,v.createContext)(null);B.displayName="HeaderContext";const N=()=>{const e=(0,v.useContext)(B);if(!e)throw new Error("useHeaderContext must be used within a HeaderContext.Provider");return e},I=({initialWhiteBackground:e,initialHeight:t,defaultWhiteBackground:n})=>{const[i,r]=(0,v.useState)(e),[s,o]=(0,v.useState)(t);return(0,v.useMemo)((()=>({whiteBackground:i,setWhiteBackground:r,defaultWhiteBackground:n,height:s,setHeight:o})),[i,r,n,s,o])},z=(0,v.createContext)(null);z.displayName="MessengerDynamicHeightContext";const M=()=>{const e=(0,v.useContext)(z);if(!e)throw new Error("useMessengerDynamicHeight must be used within a MessengerDynamicHeightProvider");return e};var R=n(183),P=n(32836),O=n(70951);const L=({transition:e,transitionKey:t,children:n})=>{const i=(0,v.useRef)({});i.current[t]||=(0,v.createRef)();const r=i.current[t],s=N(),o=(0,v.useMemo)((()=>Object.assign({},s,{setHeight:P.K,setWhiteBackground:P.K})),[s]),a=M();return(0,x.jsx)(R.F,{component:null,childFactory:t=>(0,v.cloneElement)(t,{ariaHidden:!0,classNames:`${e.direction} ${e.type}`,timeout:e.time}),children:(0,x.jsx)(R.B1,{timeout:0,unmountOnExit:!0,nodeRef:r,children:t=>(0,x.jsx)(O.u.Provider,{value:{transition:e,state:t},children:(0,x.jsx)(B.Provider,{value:"exiting"===t||"exited"===t?o:s,children:(0,x.jsx)(z.Provider,{value:"exiting"===t||"exited"===t?P.K:a,children:(0,x.jsx)(E,{ref:r,children:n})})})})},t)})},H=()=>{const[e]=(0,v.useState)((0,s.useOutlet)());return e},D=({getTransition:e})=>{const t=(0,s.useLocation)(),[n,i]=(0,v.useState)(t),[r,o]=(0,v.useState)(t);(0,v.useEffect)((()=>{t.pathname!==n.pathname&&(i(t),o(n))}),[t,n]);const a=e(r,n);return(0,x.jsx)(L,{transition:a,transitionKey:n.pathname,children:(0,x.jsx)(H,{})})},V=({header:e,children:t})=>(0,x.jsxs)(T,{children:[null!==e&&e,(0,x.jsx)(_,{children:t})]});const F=(0,w.Ay)("div",{target:"e1ch7n1d3"})({name:"1r9kleo",styles:"overflow-y:auto;overflow-x:hidden;min-height:100%"}),q=(0,w.Ay)("div",{target:"e1ch7n1d2"})("display:flex;flex-direction:column;",(({unifiedStyling:e})=>(0,w.AH)("gap:",e?"10px":"12px",";"))," margin-top:",(({homeBackgroundType:e})=>(e=>{switch(e){case"colors":case"solid":return"-125px";case"image":return"-55px";default:return"-34px"}})(e)),";"),G=(0,w.Ay)("div",{target:"e1ch7n1d1"})({name:"jxxlxm",styles:"height:159px"});var U={name:"pbbd9q",styles:"padding-bottom:0px"};const $=(0,w.Ay)("div",{target:"e1ch7n1d0"})("display:flex;flex-direction:column;box-sizing:border-box;padding:",(({theme:e})=>`0px ${e.globalHorizontalPadding}px`),";min-height:100%;",(({isIntercomLinkEnabled:e})=>e&&U),";");var W=n(81323),K=n(47452),Y=n(32485),Z=n.n(Y),J=n(5821);class HomeScreenMessengerCard extends v.PureComponent{getClassName(){return Z()({"intercom-home-screen-messenger-card":!0,[`intercom-home-screen-messenger-card-${this.props.index}`]:!0})}render(){const{cardUri:e,isFetched:t,index:n}=this.props;return t&&(0,x.jsx)("div",{className:this.getClassName(),children:(0,x.jsx)(J.Ay,{cardUri:e,homeScreenIndex:n})})}}var Q=n(14072),X=n(44458);const ee=(0,w.Ay)("div",{target:"e4hvvep3"})({name:"1nsqd2r",styles:"display:flex;flex-direction:column;gap:8px;padding:8px;font-size:14px;line-height:21px"}),te=(0,w.Ay)("button",{target:"e4hvvep2"})("display:flex;justify-content:space-between;align-items:center;width:100%;height:40px;box-sizing:border-box;padding:10px 12px;font-weight:600;background:",(0,w.w4)("containerNeutral"),";border-radius:8px;color:",(0,w.w4)("textDefault"),";transition:background 250ms;&:hover{color:",(({theme:e})=>e.isPrimaryColorLight?e.textDefault:e.primaryColor),";background:",(({theme:e})=>e.isPrimaryColorLight?e.containerEmphasisNeutral:(0,Q.vf)(e.primaryColor,.1)),";}",(({useDarkBackground:e,theme:t})=>!e&&(0,w.AH)("background:",t.containerBaseNeutral,";&:hover{background:none;}")),";"),ne=(0,w.Ay)("div",{target:"e4hvvep1"})("line-height:1.5;color:",(0,w.w4)("textMuted"),";"),ie=(0,w.Ay)("div",{target:"e4hvvep0"})("display:flex;align-items:center;justify-content:space-between;margin:0 12px 4px;color:",(0,w.w4)("textMuted"),";padding-top:4px;",X.Z.className,"{width:28px;height:28px;}",(({showDivider:e,theme:t})=>e&&(0,w.AH)("padding-top:12px;border-top:1px solid ",t.borderEmphasisNeutral,";")),";");var re=n(64845),se=n(93656),oe=n(38762),ae=n(40172);var le={name:"2b8jyz",styles:"flex-direction:row-reverse"};const ce=(0,w.Ay)("div",{target:"e85jzrc1"})("display:flex;flex:0 0 auto;align-items:",(({alignItems:e})=>e),";margin-right:",(({marginRight:e})=>e),";white-space:nowrap;width:fit-content;overflow:hidden;line-height:1;",(({theme:e})=>e.isRtlLocale&&le),";",(({useCutout:e,useAppColorForAvatarBorder:t,borderWidth:n,borderPrimaryColor:i,avatarSize:r,avatarPixelsToShow:s,cutoutSize:o,theme:a})=>e?(0,w.AH)(pe.className,":not(:first-of-type) ",X.Z.className,"{mask:",function(e,t,n){const i=e/2+1;return`radial-gradient(circle at ${e/2-t+n}px, transparent ${i}px, white ${i+1}px)`}(r,s,o),";}"):(0,w.AH)(X.Z.className,"{border:",n,"px solid ",i?a.primaryColor:t?a.appSecondaryColor:a.borderNeutral,";}")),";");var de={name:"1dk0v5d",styles:"z-index:2"};const pe=(0,w.Ay)("div",{target:"e85jzrc0"})("display:inline-block;z-index:1;",(({front:e})=>e&&de),";&:not(:first-of-type){/* @noflip */margin-left:",(0,w.xk)("marginLeft"),"px;}");var ue=n(55073);const he=(0,v.createContext)(null);he.displayName="AvatarStackContext";const ge=()=>{const e=(0,v.useContext)(he);if(!e)throw new Error("AvatarStack compound components cannot be rendered outside the AvatarStack component");return e},me=({front:e=!1,children:t})=>{const{avatarPixelsToShow:n,avatarSize:i}=ge(),r=n-i;return(0,x.jsx)(pe,{front:e,marginLeft:r,children:t})},xe=({avatarPixelsToShow:e=44,avatarSize:t=52,useAppColorForAvatarBorder:n=!1,marginRight:i="6px",borderWidth:r=2,borderPrimaryColor:s=!1,useCutout:o=!1,cutoutSize:a=0,alignItems:l="center",children:c})=>{const d=(0,v.useMemo)((()=>({avatarPixelsToShow:e,avatarSize:t})),[e,t]);return(0,x.jsx)(ce,{marginRight:i,useAppColorForAvatarBorder:n,borderWidth:r,borderPrimaryColor:s,useCutout:o,avatarSize:t,avatarPixelsToShow:e,cutoutSize:a,alignItems:l,"data-testid":"avatar-stack",children:(0,x.jsx)(he.Provider,{value:d,children:(0,x.jsx)(ue.m.Provider,{value:t,children:c})})})},fe=me;var ve=n(91889),ye=n(93573);const be=["admins","maxAdmins","solidBackground"];const we=e=>{let{admins:t,maxAdmins:n=6,solidBackground:i}=e,r=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(-1!==t.indexOf(i))continue;n[i]=e[i]}return n}(e,be);const s=(0,h.GV)(W.u5),o=t||s;return(0,x.jsx)(xe,Object.assign({},r,{children:(0,ye.v)(o,n,!0).map(((e,t)=>(0,x.jsx)(fe,{children:(0,x.jsx)(ve.l,{solidBackground:i&&o.length>1,admin:e,size:r.avatarSize})},t)))}))};var je=n(69830),Ae=n(84328);const ke={};function Ce({object:e="",place:t="",context:n=Ae.oZ,metadata:i=ke,sendMetricCondition:r=!0}){const s=(0,h.jL)();(0,v.useEffect)((()=>{r&&s(((r,s)=>{const{user:o}=s();(0,je.Jr)(o,"viewed",e,t,n,i)}))}),[e,t,n,r,s])}function Se(){const e=(0,s.useNavigate)(),t=(0,s.useLocation)(),n=(0,g.wR)(t.pathname),i=(0,v.useCallback)(((t,n)=>{e(`/${t}${n?`?${n}`:""}`)}),[e]),r=(0,h.GV)(g.V$)&&(n.id===p.Zh.id||n.id===p.kG.id);return(0,v.useMemo)((()=>({showSpace:i,currentSpace:n,isCompactHomeShowing:r})),[i,n,r])}var Te=n(57296),_e=n(41817),Ee=n(39502),Be=n(49651);const Ne=({index:e,suggestions:t,metadata:n={}})=>{const i=(0,h.jL)(),{showSpace:r}=Se(),s=(0,h.GV)(W.Jh),o=(0,h.GV)(Ee.wc),a=(0,h.GV)(g.j7),l=(null==t?void 0:t.length)||0,c=null==t?void 0:t.map((({id:e})=>e)),d=!(null==t||!t.length),u=!d&&!s;(0,v.useEffect)((()=>{!a&&o&&i((0,_e.I8)())}),[i,o,a]);return Ce({object:Ae.zU,place:Ae.mM,context:Ae.Ey,metadata:{home_screen_index:e,article_suggestions:Object.assign({loaded:!!t,articles_count:l,articles_shown:c},n)},sendMetricCondition:!0}),Ce({object:Ae.pi,place:Ae.oq,context:Ae.G,metadata:Object.assign({articles_count:l,articles_shown:c},n),sendMetricCondition:l>0}),(0,x.jsx)(re.A,{noPadding:!0,isEntireCardClickable:u,className:"intercom-home-screen-search-browse-card",children:(0,x.jsxs)(ee,{children:[(0,x.jsxs)(te,{useDarkBackground:!u,onClick:()=>{i((0,_e.lm)({object:Ae.ef,place:Ae.mM,context:Ae.Ey})),r(p.ZL.id,"fromHome=true")},children:[(0,x.jsx)("span",{children:(0,Be.Tl)("search_for_help")}),(0,x.jsx)(ae.Ay,{type:"Search",size:16,color:"linkColor"})]}),d?(0,x.jsx)(se.A,{noDivider:!0,children:null==t?void 0:t.map(((e,t)=>(0,x.jsx)(oe.A,{"data-testid":"search-browse-item",size:"tiny",rightIcon:"RightChevronColorable",rightIconColor:"linkColor",hoverBackground:!0,rounded:!0,onClick:()=>{return r=e,s=t,i((0,_e.lm)({object:Ae.eu,place:Ae.oq,context:Ae.G,metadata:Object.assign({article_id:r.id,position:s},n)})),void i((0,Te.n$)(r.id,{},!0));var r,s},children:(0,x.jsx)(ne,{children:e.title})},t)))}):null,s&&(0,x.jsxs)(ie,{showDivider:d,children:[(0,x.jsx)("span",{children:(0,Be.Tl)("the_team_can_help_if_needed")}),(0,x.jsx)(we,{avatarSize:24,maxAdmins:3,avatarPixelsToShow:12,useAppColorForAvatarBorder:!1})]})]})})},Ie=(0,w.Ay)("div",{target:"e10s8q3e0"})();var ze=n(31416),Me=n(52203);const Re=({visible:e,onRetry:t})=>(0,x.jsx)(Ie,{children:(0,x.jsx)(Me.A,{duration:200,animationKey:"error-message",children:e?(0,x.jsx)(ze.A,{inline:!0,onRetry:t,children:(0,Be.Tl)("couldnt_load_apps")}):null})});var Pe=n(56449),Oe=n.n(Pe),Le=n(54979);const He=(0,w.Ay)("div",{target:"e2j9h0w9"})({name:"bjn8wh",styles:"position:relative"}),De=(0,w.Ay)("div",{target:"e2j9h0w8"})("height:",(({height:e})=>`${e}px`),";width:100%;position:fixed;top:0%;left:0;transform:translateZ(0);z-index:-1;",(({backgroundType:e,gradientColors:t})=>"colors"===e&&Oe()(t)&&(0,w.AH)("background-image:",t&&2===(null==t?void 0:t.length)?`linear-gradient(117.67deg, ${t[0]}, ${t[1]})`:"",";background-image:",t&&3===(null==t?void 0:t.length)?`linear-gradient(117.67deg, ${t[0]}, ${t[1]}, ${t[2]})`:"",";")),";",(({backgroundType:e,theme:t})=>"solid"===e&&(0,w.AH)("background-color:",t.homeHeaderBackgroundColor,";")),";",(({imageUrl:e})=>e&&(0,w.AH)("background-image:url(",e,");background-size:",e.endsWith(".gif")?"cover":"100%",";background-position:",e.endsWith(".gif")?"center":"top left",";")),";"),Ve=(0,w.Ay)("canvas",{target:"e2j9h0w7"})({name:"w1atjl",styles:"width:100%;height:100%"}),Fe=(0,w.Ay)("div",{target:"e2j9h0w6"})("padding-top:32px;padding-right:20px;padding-left:20px;box-sizing:border-box;background-repeat:no-repeat;position:relative;",(({theme:e,opacity:t})=>(0,w.AH)("color:",e.headerTitleColor,";opacity:",t,";"))," ",(({size:e,theme:t})=>e&&(0,w.AH)("padding-bottom:",((e,t)=>{switch(e){case"medium":return t?"80px":"70px";case"long":return t?"150px":"140px";default:return t?"60px":"50px"}})(e,t.isUnifiedStyling),";")),";");var qe={name:"aetk3e",styles:"height:80px"};const Ge=(0,w.Ay)("div",{target:"e2j9h0w5"})("position:absolute;bottom:0;left:0;height:140px;width:100%;opacity:1;z-index:0;/* @noflip */background:linear-gradient(180deg, rgba(255, 255, 255, 0) 0%, #ffffff 100%);",(({short:e})=>e&&qe),";");var Ue={name:"9vhnwp",styles:"img{max-width:100%;object-fit:scale-down;}"},$e={name:"108qp7n",styles:"margin-bottom:-20px"};const We=(0,w.Ay)("div",{target:"e2j9h0w4"})("font-size:25px;font-weight:bold;margin-top:4px;overflow:hidden;img{max-height:32px;max-width:100%;}",(e=>e.logoOnly&&$e)," ",(({showCloseButton:e})=>e&&Ue),";"),Ke=(0,w.Ay)(Le.A,{target:"e2j9h0w3"})("color:",(0,w.w4)("introductionTextColor"),";opacity:1;",(({useMutedText:e,theme:t})=>e&&(0,w.AH)("color:",t.greetingTextColor,";"))," ",(({backgroundType:e,textColorType:t,useMutedText:n,theme:i})=>"solid"!==e&&(0,w.AH)("color:","dark"===t?i.textDefault:i.textOnInverse,";text-shadow:0px 0px 30px ","dark"===t?i.headerTextShadowLight:i.headerTextShadowDark,";opacity:",n?Ze(e,t):1,";")),";"),Ye=(0,w.Ay)("div",{target:"e2j9h0w2"})("display:flex;flex-direction:row;justify-content:space-between;align-items:center;",(({unifiedStyling:e})=>(0,w.AH)("margin-bottom:",e?"70px":"100px",";"))," height:40px;",(({reserveSpaceOnRight:e})=>e&&(0,w.AH)(We.className,"{margin-right:40px;}",Qe.className,"{margin-left:0px;}")),";"),Ze=(e,t)=>{switch(e){case"image":return"dark"===t?.4:.6;case"colors":return"dark"===t?.6:.7;default:return 1}},Je=(0,w.Ay)("div",{target:"e2j9h0w1"})((({useSmallerFont:e,unifiedStyling:t})=>{const n=t||e?"28px":"32px",i=t||e?"34px":"38px",r=t?"600":"700";return(0,w.AH)("font-size:",n,";line-height:",i,";*{overflow-wrap:break-word;font-weight:",r,";}")}),";"),Qe=(0,w.Ay)("div",{target:"e2j9h0w0"})((({withSpaceForCloseButton:e,scrollbarVisible:t})=>e&&(0,w.AH)("margin-right:",t?"24px":"42px",";margin-left:10px;")),";"),Xe=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,et=210,tt=130,nt=1e3/60-3,it=2*Math.PI;class GlowParticle{constructor(e,t,n,i){this.x=void 0,this.y=void 0,this.radius=void 0,this.rgb=void 0,this.vx=void 0,this.vy=void 0,this.firstColor=void 0,this.secondColor=void 0,this.x=e,this.y=t,this.radius=n,this.firstColor=`rgba(${i.r}, ${i.g} ,${i.b}, 1)`,this.secondColor=`rgba(${i.r}, ${i.g} ,${i.b}, 0)`,this.vx=.2*Math.random(),this.vy=.2*Math.random()}update(e,t){this.x+=this.vx,this.y+=this.vy,this.x<=0?(this.vx*=-1,this.x+=1):this.x>=e&&(this.vx*=-1,this.x-=1),this.y<=0?(this.vy*=-1,this.y+=1):this.y>=t&&(this.vy*=-1,this.y-=1)}draw(e){e.beginPath();const t=Math.floor(this.x),n=Math.floor(this.y),i=e.createRadialGradient(t,n,.01*this.radius,t,n,this.radius);i.addColorStop(0,this.firstColor),i.addColorStop(1,this.secondColor),e.fillStyle=i,e.arc(t,n,this.radius,0,it,!1),e.fill(),e.closePath()}}const rt=({colors:e})=>{const t=(0,v.useRef)(null),[n]=(0,v.useState)((()=>{const t=e.map((e=>{const t=Xe.exec(e.trim());return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}));const n=Math.min(et,tt),i=.8*n,r=.6*n,s=[];let o=0;for(let e=0;e<16;e++){const n=new GlowParticle(Math.random()*et,Math.random()*tt,Math.random()*(i-r)+r,t[o]||{r:0,g:0,b:0});++o>=t.length&&(o=0),s[e]=n}return s})());return(0,v.useEffect)((()=>{const e=t.current;if(!e)return;const i=e.getContext("2d");if(!i)return;i.globalCompositeOperation="saturation";let r,s=(new Date).getTime()-nt;const o=()=>{const e=(new Date).getTime();e-s>=nt&&((()=>{i.clearRect(0,0,et,tt);for(const e of n)e.draw(i),e.update(et,tt)})(),s=e),r=window.parent.requestAnimationFrame(o)};return o(),()=>{cancelAnimationFrame(r)}}),[t,n]),(0,x.jsx)(Ve,{ref:t,width:et,height:tt})};var st=n(44674),ot=n(60729);function at({title:e,subtitle:t,logo:n,showAvatars:i=!0,children:r,opacity:s=1,background:o,textColorType:a,closeButtonEnabled:l,scrollbarVisible:c}){const[{height:d},p]=(0,st.A)(),u=!!(e&&e.trim().length>16)||!!(t&&t.trim().length>16),h=(0,ot.M5)(),g="colors"===(null==o?void 0:o.type)&&(null==o?void 0:o.animated),m=!("image"!==(null==o?void 0:o.type)||null==o||!o.imageUrl);return(0,x.jsxs)(He,{children:[(0,x.jsxs)(De,{height:d,backgroundType:null==o?void 0:o.type,gradientColors:null==o?void 0:o.gradient,fadeToWhite:null==o?void 0:o.fadeToWhite,imageUrl:m?o.imageUrl:void 0,children:[g&&null!=o&&o.gradient?(0,x.jsx)(rt,{colors:o.gradient}):null,(null==o?void 0:o.fadeToWhite)&&(0,x.jsx)(Ge,{short:m})]}),(0,x.jsxs)(Fe,{opacity:s,ref:p,size:null!=o&&o.fadeToWhite?m?"medium":"long":"short",children:[(0,x.jsxs)(Ye,{hasLogo:!!n,showCloseButton:l,reserveSpaceOnRight:i||l,unifiedStyling:h,children:[n&&(0,x.jsx)(We,{logoOnly:!(e||t),showCloseButton:l,children:(0,x.jsx)("img",{src:n,alt:"logo"})}),i&&(0,x.jsx)(Qe,{withSpaceForCloseButton:l,"data-testid":"home-header-avatars",scrollbarVisible:c,children:(0,x.jsx)(we,{solidBackground:!0,avatarSize:40,useCutout:!0,cutoutSize:1,maxAdmins:3,avatarPixelsToShow:38,useAppColorForAvatarBorder:!0})})]}),(0,x.jsxs)(Je,{useSmallerFont:u,unifiedStyling:h,children:[e&&(0,x.jsx)(Ke,{"data-testid":"title",text:e,tagName:"p",useMutedText:!!t,backgroundType:null==o?void 0:o.type,textColorType:a}),t&&(0,x.jsx)(Ke,{"data-testid":"subtitle",text:t,tagName:"p",useMutedText:!1,backgroundType:null==o?void 0:o.type,textColorType:a})]}),r]})]})}var lt=n(96808);const ct=(0,w.Ay)("div",{target:"e1b44tca0"})({name:"t26g63",styles:"margin:auto;width:fit-content"});var dt=n(17905);const pt=(0,w.Ay)("div",{target:"etajtt47"})({name:"hxbng4",styles:"font-weight:600;font-size:14px;line-height:21px;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;white-space:normal;margin-bottom:4px"}),ut=(0,w.Ay)("div",{target:"etajtt46"})("display:flex;flex-direction:column;box-sizing:border-box;cursor:pointer;transition:box-shadow 150ms;background-color:",(0,w.w4)("containerBaseNeutral"),";color:",(0,w.w4)("textDefault"),";",(({unifiedStyling:e,theme:t})=>(0,w.AH)("border-radius:",e?"12px":"10px",";box-shadow:",e?t.unifiedCardBoxShadow:t.homeCardBoxShadow,";border:",e?"1px solid rgb(240, 240, 240)":"none",";"))," ",dt.jt.className,"{background-color:transparent;}",(({theme:e})=>(0,w.AH)("&:hover{",pt.className,"{color:",e.isPrimaryColorLight?e.textDefault:e.primaryColor,";}}"))," ",(({theme:e})=>e.isPrimaryColorLight&&(0,w.AH)("&:hover{box-shadow:",e.homeCardLightModeHoverBoxShadow,";}")),";"),ht=(0,w.Ay)("div",{target:"etajtt45"})({name:"kimquz",styles:"height:140px;display:flex;flex-direction:column;img{width:100%;height:100%;object-fit:cover;overflow:hidden;border-radius:10px 10px 0px 0px;}"}),gt=(0,w.Ay)("div",{target:"etajtt44"})({name:"1r1l02z",styles:"flex:1;display:flex;flex-direction:column;padding:16px 20px"}),mt=(0,w.Ay)("div",{target:"etajtt43"})({name:"pbqhtn",styles:"display:flex;align-items:center;padding-top:12px"}),xt=(0,w.Ay)("div",{target:"etajtt42"})({name:"1t91kdm",styles:"flex:1;display:flex;flex-direction:column"}),ft=(0,w.Ay)("div",{target:"etajtt41"})("display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;font-size:14px;line-height:21px;color:",(0,w.w4)("textDefault"),";"),vt=(0,w.Ay)("div",{target:"etajtt40"})({name:"rh860e",styles:"margin-left:20px;svg{margin-top:20px;min-width:auto;}"});var yt=n(10377),bt=n(80607);function wt(e){return(t,n)=>{const{session:i}=n();return t({type:bt.GGM}),yt.Ay.fetchNewsItemDetails(i,e).then((e=>{t(function(e){return{type:bt.cgs,newsItem:e}}(e))})).catch((()=>{t(function(e){return{type:bt.D8v,newsItemId:e}}(e))}))}}function jt(e,t){return async(n,i)=>{const{session:r}=i();return yt.Ay.recordNewsItemReaction(r,e,t).then((i=>{i&&n(function(e,t){return{type:bt.cRm,newsItemId:e,reactionIndex:t}}(e,t))}))}}const At=(0,w.Ay)("div",{target:"e1w83g171"})({name:"cl7urv",styles:"display:flex;flex-wrap:wrap;gap:8px"}),kt=(0,w.Ay)("div",{target:"e1w83g170"})("display:flex;flex-direction:row;align-items:center;font-weight:400;font-size:14px;line-height:22px;color:",(0,w.w4)("linkColor"),";padding:0px 6px 0px 6px;background:",(0,w.w4)("labelBackgroundColor"),";border:0px;border-radius:10px;");function Ct({newsItem:e,preview:t}){let n=e.labels||[];if(0===n.length)return null;if(t&&n.length>2){const[e,...t]=n;n=[e],t.length>0&&n.push({id:-1,name:(0,Be.Tl)("extra_labels_count",{labels_count:String(t.length)})})}return(0,x.jsx)(At,{children:n.map((e=>(0,x.jsx)(kt,{children:e.name},e.id)))})}var St=n(48365);function Tt({newsItem:e,isUnread:t,renderingContext:n}){const i=(0,s.useNavigate)(),r=(0,h.jL)(),o=(0,ot.M5)(),a=(0,v.useCallback)((()=>{r(function(e){return{type:bt.Pd4,newsItem:e}}(e)),i(`/news/details/${e.id}`,{state:{navigatingFrom:n}})}),[i,r,e,n]);return(0,x.jsxs)(ut,{isUnread:t,onClick:a,"data-testid":"news-item-card",unifiedStyling:o,children:[e.coverImageUrl&&(0,x.jsx)(ht,{children:(0,x.jsx)("img",{src:e.coverImageUrl,alt:e.title})}),(0,x.jsxs)(gt,{children:[(0,x.jsx)(Ct,{newsItem:e,preview:!0}),(0,x.jsxs)(mt,{children:[(0,x.jsxs)(xt,{children:[(0,x.jsx)(pt,{children:e.title}),(0,x.jsx)(ft,{children:(0,x.jsx)(St.y,{text:e.description,tagName:"div",className:"intercom-block-paragraph"})})]}),(0,x.jsx)(vt,{children:(0,x.jsx)(ae.Ay,{size:16,type:"RightChevronColorable",color:"linkColor"})})]})]})]})}var _t=n(72374);function Et(e,t){return t&&e.publishedAt&&t.getTime()>=e.publishedAt.getTime()}var Bt=n(28957);function Nt(){const e=(0,h.jL)(),t=(0,h.GV)(_t.Tm),n=(0,h.GV)(_t.Xg),i=(0,h.GV)(_t.RT);return(0,v.useEffect)((()=>{!i&&n&&e((0,Bt.L2)())}),[i,n,e]),{loading:i,newsItems:t}}function It(){const{loading:e,newsItems:t}=Nt(),n=(0,h.GV)(_t.AL),i=(0,h.GV)(_t.DF)||0,r=void 0!==i&&i>0;if(!(e||t&&0!==t.length))return null;if(e&&(!t||0===t.length))return(0,x.jsx)(ct,{children:(0,x.jsx)(y.A,{inline:!0})});if(t){const e=t[0],i=r&&!Et(e,n);return(0,x.jsx)(Tt,{newsItem:e,isUnread:i,renderingContext:Ae.vU})}return null}function zt(){const e=(0,h.GV)(_t.Tm),t=e&&e.length>0&&e[0];return Ce({object:Ae.a6,place:Ae.mM,context:Ae.vU,metadata:{news_item_id:null==t?void 0:t.id},sendMetricCondition:!!t}),(0,x.jsx)(It,{})}var Mt=n(94560),Rt=n(26265);const Pt=({primaryAvatar:e,secondAvatar:t,thirdAvatar:n,facePileStyle:i="default",size:r=64})=>{const s=r,o=.75*s,a=o/12,l=.5*s,c=n||t,d=n?t:null;return"greeting"===i&&!d&&c?(0,x.jsxs)(xe,{borderWidth:1,marginRight:"0",alignItems:"flex-end",children:[(0,x.jsx)(fe,{children:(0,x.jsx)(ue.m.Provider,{value:s,children:e})}),(0,x.jsx)(fe,{front:!0,children:(0,x.jsx)(ue.m.Provider,{value:l,children:c})})]}):(0,x.jsxs)(xe,{borderWidth:a,marginRight:"0",children:[d?(0,x.jsx)(fe,{children:(0,x.jsx)(ue.m.Provider,{value:o,children:d})}):null,(0,x.jsx)(fe,{front:!0,children:(0,x.jsx)(ue.m.Provider,{value:s,children:e})}),c?(0,x.jsx)(fe,{children:(0,x.jsx)(ue.m.Provider,{value:o,children:c})}):null]})},Ot=({size:e="large"})=>{const t=(0,h.GV)(W.Lf),{activeAdmins:n=[]}=(0,h.GV)(W.rp),i=(0,h.GV)(W._D),r=(0,ye.v)(n||[],2,!0);return(0,x.jsx)(Pt,{size:"large"===e?64:32,primaryAvatar:(0,x.jsx)(ve.l,{admin:t.participant}),secondAvatar:i&&r[0]?(0,x.jsx)(ve.l,{admin:r[0]}):null,thirdAvatar:i&&r[1]?(0,x.jsx)(ve.l,{admin:r[1]}):null})};const Lt=(0,w.Ay)("div",{target:"e15cg9301"})({name:"1yfrhj8",styles:"display:flex;flex-direction:row;align-items:center;gap:8px;margin:-3px 0"}),Ht=(0,w.Ay)("div",{target:"e15cg9300"})("color:",(0,w.w4)("grey500"),";font-size:14px;");const Dt=(0,w.Ay)("span",{target:"ehy464x2"})(),Vt=(0,w.Ay)("span",{target:"ehy464x1"})();var Ft={name:"1u3r55",styles:"padding:10px 26px 10px 24px"};const qt=(0,w.Ay)(oe.A,{target:"ehy464x0"})(Vt.className," path{fill:",(0,w.w4)("linkColor"),";}&:hover{color:",(0,w.w4)("linkColor"),";}",(({theme:e})=>e.isMobileSize&&Ft),";"),Gt=({children:e})=>(0,x.jsx)(Vt,{children:e}),Ut=({type:e})=>(0,x.jsx)(Dt,{children:(0,x.jsx)(ae.Ay,{type:e||"RightChevronColorable",color:"grey500"})});function $t({children:e,left:t,onClick:n,rightIcon:i,right:r,truncate:s}){return(0,x.jsx)(qt,{size:"small",left:(0,x.jsx)(Gt,{children:t}),right:r||(0,x.jsx)(Ut,{type:i}),hoverBackground:!0,onClick:n,truncate:s,children:e})}const Wt=({title:e,subtitle:t,onClick:n,right:i,rightIcon:r})=>(0,x.jsx)(re.A,{noPadding:!0,isEntireCardClickable:!0,onClick:n,children:(0,x.jsxs)(oe.A,{right:i,rightIcon:r,rightIconColor:"linkColor",children:[(0,x.jsx)(re.A.Title,{children:e}),(0,x.jsx)(Ht,{children:t})]})}),Kt=({title:e,onClick:t,icon:n})=>(0,x.jsx)($t,{onClick:t,left:(0,x.jsx)(ae.Ay,{type:n,color:"linkColor",size:16}),rightIcon:"RightChevronColorable",children:e}),Yt=({title:e,icon:t,onClick:n})=>{const i=-1!==[Rt.Bn.bot,Rt.Bn.fin,Rt.Bn.facepile].indexOf(t);return(0,x.jsx)(Kt,{title:e,onClick:n,icon:i?"AskQuestion":"ComposerSend"})},Zt=()=>{const e=(0,h.jL)(),t=(0,h.GV)(g.V$),n=(0,h.GV)(K.He),i=(0,h.GV)(W.Lf),r=()=>{(0,je.A5)("clicked","new_conversation","messenger","home"),e((0,Mt.p6)())},s=(0,v.useMemo)((()=>{var e,t;return null!=n&&n.action?{title:n.action.label,subtitle:n.action.subtitle,icon_type:(null==(e=n.action.avatar_details)?void 0:e.type)??n.action.icon??("AskQuestion"===n.action.custom_icon?Rt.Bn.bot:Rt.Bn.teammate),avatars:null==(t=n.action.avatar_details)?void 0:t.avatars,icon:n.action.custom_icon}:{title:(0,Be.Tl)("send_us_a_message"),subtitle:(0,Be.Tl)("send_us_a_message_subtitle"),icon_type:Rt.Bn.teammate}}),[n]);if(t)return(0,x.jsx)(Yt,{title:s.title,onClick:r,icon:s.icon_type});if(s.icon_type===Rt.Bn.bot)return(0,x.jsx)(Wt,{title:s.title||(0,Be.Tl)("send_us_a_message"),subtitle:s.subtitle,onClick:r,rightIcon:"AskQuestion"});if(s.icon_type===Rt.Bn.fin){const e=(null==i?void 0:i.participant)&&(0,x.jsxs)(Lt,{children:[(0,x.jsx)(ve.l,{size:24,admin:i.participant}),(0,x.jsx)(ae.Ay,{type:"RightChevronColorable",color:"linkColor",size:16})]});return(0,x.jsx)(Wt,{title:s.title||(0,Be.Tl)("send_us_a_message"),subtitle:s.subtitle,onClick:r,right:e})}if(s.icon_type===Rt.Bn.facepile&&"RightChevronColorable"===s.icon){const e=(null==i?void 0:i.participant)&&(0,x.jsxs)(Lt,{children:[(0,x.jsx)(Ot,{size:"small"}),(0,x.jsx)(ae.Ay,{type:"RightChevronColorable",color:"linkColor",size:16})]});return(0,x.jsx)(Wt,{title:s.title||(0,Be.Tl)("send_us_a_message"),subtitle:s.subtitle,onClick:r,right:e})}if(s.icon_type===Rt.Bn.facepile&&"RightChevronColorable"!==s.icon){const e=(null==i?void 0:i.participant)&&(0,x.jsx)(Ot,{size:"small"});return(0,x.jsx)(Wt,{title:s.title||(0,Be.Tl)("send_us_a_message"),subtitle:s.subtitle,onClick:r,right:e})}return(0,x.jsx)(Wt,{title:s.title||(0,Be.Tl)("send_us_a_message"),subtitle:s.subtitle,onClick:r,rightIcon:"NewConversation"})};var Jt=n(1200),Qt=n(95970),Xt=n(85229);const en=(0,w.Ay)("div",{target:"e18wzgio6"})("overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:14px;font-weight:",(e=>e.unread?600:400),";"),tn=(0,w.Ay)("div",{target:"e18wzgio5"})({name:"hl0pzu",styles:"display:flex;flex-direction:column;cursor:pointer"}),nn=(0,w.Ay)("span",{target:"e18wzgio4"})({name:"ym8ki1",styles:"display:flex;max-width:calc(100% - 20px);align-items:center"}),rn=(0,w.Ay)("span",{target:"e18wzgio3"})("overflow:hidden;text-overflow:ellipsis;margin-right:3px;white-space:nowrap;font-weight:",(e=>e.unread?600:400),";margin-left:4px;color:",(0,w.w4)("grey500"),";"),sn=(0,w.Ay)("div",{target:"e18wzgio2"})({name:"t6mohh",styles:"font-weight:400;font-size:14px;color:#666666;display:flex;white-space:break-spaces;div{white-space:nowrap;}"}),on=(0,w.Ay)("div",{target:"e18wzgio1"})({name:"epecso",styles:"overflow:hidden;text-overflow:ellipsis;margin-right:4px"});var an={name:"1najnlf",styles:"padding:18px 26px 18px 16px"},ln={name:"fc2hic",styles:"padding:14px 16px 14px 8px"},cn={name:"1tk44vi",styles:"padding:16px 20px 16px 20px"},dn={name:"lel7ab",styles:"padding-top:8px;padding-bottom:8px;margin-top:0px"};const pn=(0,w.Ay)(oe.A,{target:"e18wzgio0"})("position:relative;padding-right:23px;padding-left:23px;svg{min-height:15px;}",(({displayAsConversational:e})=>e&&dn)," ",(({inHomescreenCard:e})=>e&&cn)," ",(({displayAsCompact:e})=>e&&ln)," ",(({displayAsCompact:e,theme:t})=>t.isMobileSize&&e&&an)," &:hover ",en.className,"{",(({unread:e,theme:t,displayAsConversational:n})=>(0,w.AH)({color:n?`${t.textDefault}`:e?`${t.linkColor}`:`${t.textDefault}`},"")),";}",X.Z.className,",",X.Z.className," img{cursor:pointer;",(({displayAsCompact:e})=>(0,w.AH)({width:(e?32:40)+"px",height:(e?32:40)+"px"},"")),";}");var un=n(29500),hn=n(45892);const gn=({unread:e=!1,ticket:t,lastMessage:n,lastPartCreatedAt:i,assigneeName:r,assignedAdmins:s,onClick:o,displayAsCompact:a,displayAsConversational:l,hoverBackground:c=!0,showUnreadBadge:d=!0,showDivider:p=!1,inHomescreenCard:u=!1})=>{const h=e&&d?"UnreadIndicator":"RightChevronColorable",g=e&&d?void 0:"linkColor";return(0,x.jsx)(pn,{"data-testid":"conversation-list-item",unread:e,displayAsCompact:a,displayAsConversational:l,size:a?"tiny":"default",align:"start",rightIcon:h,rightIconColor:a?"grey500":g,left:s&&s[0]&&((null==s?void 0:s.length)>1?(0,x.jsx)(hn.A,{admins:s}):(0,x.jsx)(ve.l,{admin:s[0],size:a?32:36,solidBackground:"squircle"!==s[0].avatar.shape})),divider:p,inHomescreenCard:u,hoverBackground:c,useGlobalHorizontalPadding:!0,onClick:o,children:(0,x.jsxs)(tn,{children:[t&&(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)(nn,{children:[(0,x.jsx)(ae.Ay,{type:"TicketSmall",color:"grey500"}),(0,x.jsx)(rn,{unread:e,children:t.name})]})}),n&&(0,x.jsx)(en,{unread:e,children:(0,x.jsx)(Le.A,{text:n})}),r&&(0,x.jsxs)(sn,{children:[(0,x.jsx)(on,{children:r}),i&&(0,x.jsxs)("div",{children:["• ",`${(0,un.iw)(i)}`]})]})]})})},mn=({conversation:e,onClick:t,displayAsCompact:n,displayAsConversational:i,hoverBackground:r,showUnreadBadge:s,showDivider:o=!0,inHomescreenCard:a=!1})=>{const{assigneeName:l,assignedAdmins:c}=(e=>{const{name:t,activeAdmins:n=[]}=(0,h.GV)(W.rp),i=(0,h.GV)(W.ed);if(!e||"unassigned"===e.uxStyle)return{assigneeName:t,assignedAdmins:n};const{lastParticipatingAdmin:r}=e;if(r&&((e.uxStyle?"bot"===e.uxStyle:i)||!r.isBot))return{assigneeName:r.firstName,assignedAdmins:[r]};const s=e.parts[0];if(!s)return{assigneeName:t,assignedAdmins:n};const o=s.teamAuthor;return o?{assigneeName:o.name,assignedAdmins:o.admins}:{assigneeName:t,assignedAdmins:n}})(e),d="lastPartCreatedAt"in e?e.lastPartCreatedAt:void 0;return(0,x.jsx)(gn,{ticket:e.ticket,assigneeName:l,assignedAdmins:c,lastMessage:(0,Xt.sy)(e),lastPartCreatedAt:d,unread:(0,Xt.KJ)(e),showUnreadBadge:s,onClick:t,displayAsCompact:n,displayAsConversational:i,hoverBackground:r,showDivider:o,inHomescreenCard:a})};var xn=n(39586);var fn={name:"13a3csp",styles:"&&{padding-bottom:4px;}"};const vn=(0,w.Ay)(re.A.Title,{target:"eksjkn92"})((({smallBottomPadding:e})=>e&&fn),";"),yn=(0,w.Ay)(re.A,{target:"eksjkn91"})((({theme:e,fullCardClickable:t,unread:n,pointer:i,displayAsCompact:r,displayAsConversational:s})=>(0,w.AH)(t?`\n      &:hover ${vn.className} {\n        color: ${n?e.textDefault:`${e.linkColor}`};\n        ${i&&"cursor: pointer;"}\n      }`:""," ",r&&"\n      && {\n        padding: 0;\n      }\n    "," ",s&&"\n      && {\n        padding-top: 12px;\n        padding-bottom: 12px;\n      }\n    ",";")),";");var bn={name:"1m5g76d",styles:"&&{margin:0;}"},wn={name:"1yjqrpx",styles:"padding-bottom:12px"};const jn=(0,w.Ay)(se.A,{target:"eksjkn90"})((({displayAsConversational:e})=>e?wn:(0,w.AH)("&& ",xn.ck.className,":first-of-type{margin-top:-8px;}"))," ",(({displayAsCompact:e})=>e&&bn),";"),An=({conversations:e,onClick:t,unread:n,displayAsCompact:i=!1,showUnreadBadge:r,conversationsToShow:s=1,title:o=(0,Be.Tl)("your_recent_message"),displayAsConversational:a=!1})=>{const l=1===s;return(0,x.jsxs)(yn,{unread:n,pointer:!0,onClick:l?()=>{const n=e[0];t(null==n?void 0:n.id,n.ticket)}:void 0,displayAsCompact:i,displayAsConversational:a,isEntireCardClickable:!i,"data-testid":"recent-conversations",fullCardClickable:l,tabIndex:-1,children:[i?null:(0,x.jsx)(vn,{noPadding:!1,smallBottomPadding:!!a,children:o}),(0,x.jsx)(jn,{displayAsCompact:i,displayAsConversational:a,children:e.slice(0,s).map((e=>(0,x.jsx)(mn,{conversation:e,onClick:()=>t(e.id,e.ticket),displayAsCompact:i,displayAsConversational:a,hoverBackground:i||a,showUnreadBadge:r,showDivider:!1,inHomescreenCard:!a},e.id)))})]})},kn=()=>{const e=(0,h.jL)(),t=(0,h.GV)(K.DT),n=(0,h.GV)(K.Yn),i=(0,h.GV)(g.V$),r=t.map((e=>e.id)),s=(0,h.GV)(g.UT);Ce({object:Ae.HZ,place:Ae.mM,context:Ae.Ey,metadata:{conversation_ids:r},sendMetricCondition:(null==t?void 0:t.length)>0});return 0===(null==t?void 0:t.length)?null:(0,x.jsx)(An,{conversations:t,hasMoreConversations:n,onClick:(t,n)=>{((e,t)=>{(0,je.A5)("clicked","conversation","messenger","home",{status:null==t?void 0:t.status,ticket_type_id:null==t?void 0:t.ticketTypeId,conversation_id:e})})(t,n),e((0,Jt.QL)(yt.Ay,t,{requestOrigin:"Home - Recent Conversations Click"})),e((0,Qt.p)(t))},unread:(0,Xt.KJ)(t&&t[0]),showUnreadBadge:!s,displayAsCompact:i})};var Cn={name:"16ceglb",styles:"font-weight:600"};const Sn=(0,w.Ay)("div",{target:"e8gr99g1"})((({bold:e})=>e&&Cn),";"),Tn=(0,w.Ay)("a",{target:"e8gr99g0"})("cursor:pointer;*{cursor:pointer!important;}&,&:visited{color:",(0,w.w4)("textDefault"),";}&:hover ",Sn.className,"{color:",(0,w.w4)("linkColor"),";}"),_n=({link:e})=>(0,x.jsx)(Tn,{href:e.href,target:"_blank",children:(0,x.jsx)($t,{left:(0,x.jsx)(ae.Ay,{type:"ExternalLink",color:"linkColor",size:16}),children:(0,x.jsx)(Sn,{children:e.label})})}),En=({boldLabel:e=!1,links:t,linkSize:n="tiny",listPadding:i=8})=>{const r=t.length>0;return(0,x.jsx)(re.A,{noPadding:!0,isEntireCardClickable:!r,children:(0,x.jsx)(se.A,{padding:i,children:t.map(((t,i)=>(0,x.jsx)(Tn,{href:t.href,target:"_blank",children:(0,x.jsxs)(oe.A,{size:n,rounded:!0,hoverBackground:r,rightIcon:"ExternalLink",rightIconColor:"linkColor",children:[(0,x.jsx)(Sn,{bold:e,"data-testid":"link-label",children:t.label}),t.subLabel&&(0,x.jsx)(Sn,{"data-testid":"link-sublabel",children:t.subLabel})]})},i)))})})};var Bn=n(72977);var Nn={name:"zjik7",styles:"display:flex"};const In=(0,w.Ay)("div",{target:"e1d02mrs0"})("display:none;z-index:",(0,Bn.fE)(3),";padding:10px;border-radius:10px;align-items:center;justify-content:center;cursor:pointer;background-color:",(({background:e})=>e),";transition:background-color 150ms;",(({theme:e})=>(0,w.AH)("&:hover{background-color:",e.headerButtonHoverBackgroundColor,";}"))," i{display:inline;}",(({enabled:e})=>e&&Nn)," ",(({isOnHomeHeader:e,theme:t})=>e&&(0,w.AH)("position:fixed;top:32px;right:20px;&:hover{background-color:",(0,Q.vf)(t.grey950,.2),";}"))," ",(({rightMargin:e,isOnHomeHeader:t})=>e&&t&&(0,w.AH)("right:",e,"px;")),";");var zn=n(64234),Mn=n(70745);const Rn=/^https?:\/\/via.intercom.(com|io|test)\/msgr\//;var Pn=n(24817);function On(){const e=(0,zn.IS)(),t=!(null==(n=(0,Mn.KQ)())||!n.href.toLowerCase().match(Rn));var n;const i=(0,m.z)(),r=(0,h.GV)((e=>(0,Pn.A)(e)));return!i&&(!t&&(e||!r||!1))}var Ln=n(5351);const Hn=({onHomeHeader:e,onWhiteBackground:t,enabled:n,parallaxOpacity:i=1,rightMargin:r})=>{const s=(0,h.jL)(),o=On()||!!n,a=(0,Ln.A)(),l=(0,h.GV)(K.Ch),{textColorType:c="dark"}=(0,h.GV)(K.qF)??{},d="solid"===(null==l?void 0:l.type),p="light"===c?"white":"black",u=e||!1,g=d?a.homeHeaderBackgroundColorIsLight:"black"===p;return(0,x.jsx)(In,{onClick:()=>{s((0,Mt.Mu)(!0))},tabIndex:o?0:-1,"aria-hidden":!o,"aria-label":(0,Be.Tl)("close"),enabled:o,isOnHomeHeader:u,background:(()=>{if(!e)return"";return`rgba(0, 0, 0, ${Math.abs(.2*(i-1))})`})(),rightMargin:r,children:(0,x.jsx)(ae.Ay,{type:"CloseIcon",size:16,color:e?g&&1-i<.5?"iconDefault":"iconOnInverse":a.isUnifiedStyling||!t&&!a.isSecondaryColorWhite?"headerButtonColor":"linkColor"})})};var Dn=n(31218);const Vn=(0,w.Ay)("div",{target:"e1kboq666"})("padding:16px 20px;border-radius:10px;cursor:pointer;&:hover h2{color:",(0,w.w4)("linkColor"),";}"),Fn=(0,w.Ay)("div",{target:"e1kboq665"})({name:"1066lcq",styles:"display:flex;justify-content:space-between;align-items:center"}),qn=(0,w.Ay)("h2",{target:"e1kboq664"})("font-size:14px;font-weight:600;line-height:21px;color:",(0,w.w4)("textDefault"),";"),Gn=(0,w.Ay)("div",{target:"e1kboq663"})({name:"cn3xcj",styles:"margin-bottom:12px"}),Un=(0,w.Ay)("div",{target:"e1kboq662"})("font-size:14px;font-weight:400;line-height:20px;color:",(0,w.w4)("textDefault"),";"),$n=(0,w.Ay)("span",{target:"e1kboq661"})({name:"16ceglb",styles:"font-weight:600"}),Wn=(0,w.Ay)("div",{target:"e1kboq660"})({name:"1r5gb7q",styles:"display:inline-block"});var Kn=n(24762),Yn=n(79145),Zn=n(9814),Jn=n(2292),Qn=n(95752);const Xn=({title:e,checklistTasks:t,completedTasks:n,estimatedTimeRemaining:i,onClick:r,nextStepTitle:s,checklistStatus:o})=>{const a=n>0?(0,Be.Tl)("checklist_card_next_step"):(0,Be.Tl)("checklist_card_first_step"),l=o===Jn.vb.New;return(0,x.jsxs)(re.A,{as:Vn,onClick:r,children:[(0,x.jsxs)(Fn,{children:[(0,x.jsx)(qn,{children:(0,x.jsx)(Dn.A,{blocks:e})}),(0,x.jsx)(ae.Ay,{type:l?"UnreadIndicator":"RightChevronColorable",color:l?void 0:"linkColor"})]}),(0,x.jsx)(Gn,{children:(0,x.jsx)(Kn.A,{checklistTasks:t,completedChecklistTasks:n,estimatedTimeRemaining:i,condensed:!0,prefillProgressIfEmpty:!0})}),(0,x.jsxs)(Un,{children:[(0,x.jsxs)($n,{children:[a,": "]}),(0,x.jsx)(Wn,{children:(0,x.jsx)(Dn.A,{blocks:s})})]})]})},ei=()=>{const e=(0,h.jL)(),t=(0,h.GV)(Yn.V9),n=(0,Qn.Sg)(t),i=(0,Qn.zE)(n),r=(0,Qn.fp)(n),s=(0,Qn.M2)(r),o=r.reduce(((e,t)=>e+t.estimatedTime),0);return t&&s?(0,x.jsx)(Xn,{checklistTasks:n.length,completedTasks:i.length,estimatedTimeRemaining:o,nextStepTitle:s.titleBlocks,title:t.titleBlocks,onClick:()=>{t&&e((0,Zn.tB)(t.checklistProgressId))},checklistStatus:t.status}):null};var ti=n(38221),ni=n.n(ti),ii=n(56213);function ri(e,t,i=100){const r=(0,v.useRef)(null);(0,v.useEffect)((()=>{(async()=>{const e=await(async()=>(0,ii.cT)()?ResizeObserver:await n.e(8096).then(n.t.bind(n,7829,23)).then((e=>e.default)))();r.current=new e(ni()(t,i))})()}),[r,t,i]),(0,v.useEffect)((()=>{var t;if(e)return null==r||null==(t=r.current)||t.observe(e),()=>{var e;return null==r||null==(e=r.current)?void 0:e.disconnect()}}),[r,e])}var si=n(49017);function oi(){const e=(0,h.jL)(),t=(0,v.useCallback)((()=>e((0,si.yM)())),[e]),n=(0,h.GV)(W.Er),{slots:i,isFetched:r,isFailed:s}=(0,h.GV)(K.af);return{fetchHomeContent:t,slots:i,isFetched:r&&n,isFailed:s}}const ai=(0,w.Ay)("div",{target:"ed7ym44"})({name:"1fttcpj",styles:"display:flex;flex-direction:column"}),li=(0,w.Ay)("div",{target:"ed7ym43"})("max-width:250px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:",(e=>e.unread?600:400),";"),ci=(0,w.Ay)("div",{target:"ed7ym42"})("color:",(0,w.w4)("grey500"),";max-width:250px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;"),di=(0,w.Ay)("div",{target:"ed7ym41"})("margin:0 auto;border-radius:50%;display:inline-flex;vertical-align:middle;position:relative;width:40px;height:40px;text-align:center;justify-content:center;align-items:center;",(({theme:e,color:t})=>t&&(0,w.AH)("background-color:",(0,Q.vf)(e[t],.13),";")),";");var pi={name:"5byad5",styles:"padding-top:8px;padding-left:20px;padding-right:20px;padding-bottom:8px"};const ui=(0,w.Ay)(oe.A,{target:"ed7ym40"})("&:hover ",ai.className,"{color:",(0,w.w4)("textDefault"),";}padding-left:23px;padding-right:23px;",(({homeScreen:e})=>e&&pi),";");var hi=n(88204);const gi=["unread","title","publicTicketId","typeName","status","statusLabel","onClick","homeScreen","shouldHideUnreadBadge","useGlobalHorizontalPadding"];const mi=e=>{let{unread:t=!1,title:n,publicTicketId:i,typeName:r,status:s,statusLabel:o,onClick:a,homeScreen:l=!1,shouldHideUnreadBadge:c,useGlobalHorizontalPadding:d=!1}=e,p=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(-1!==t.indexOf(i))continue;n[i]=e[i]}return n}(e,gi);const u=t&&!c?"UnreadIndicator":"RightChevronColorable",h=t&&!c?void 0:"linkColor",g=n||r,m=o||(0,hi.JN)(s),f=i?`#${i} • ${m}`:m,v=(0,hi.qY)(s);return(0,x.jsx)(ui,Object.assign({"data-testid":"ticket-list-item",left:(0,x.jsx)(di,{color:v,children:(0,x.jsx)(ae.Ay,{type:(0,hi.cR)(s),color:v})}),rightIcon:u,rightIconColor:h,onClick:a,hoverBackground:!0,homeScreen:l,useGlobalHorizontalPadding:d},p,{children:(0,x.jsxs)(ai,{children:[(0,x.jsx)(li,{unread:t,children:g}),(0,x.jsx)(ci,{children:f})]})}))};const xi=(0,w.Ay)(re.A.Title,{target:"e1rs3ksu1"})({name:"1f7m605",styles:"padding-bottom:4px"}),fi=(0,w.Ay)(re.A,{target:"e1rs3ksu0"})("padding-bottom:26px;",(({displayAsConversational:e})=>e&&"\n    padding-top: 12px;\n    padding-bottom: 28px;\n  "),";");var vi=n(21342);const yi=({unresolvedTickets:e,handleTicketClick:t,shouldShowHomescreenCard:n,shouldHideUnreadBadge:i,displayAsConversational:r=!1})=>{const s=e.length>1?(0,Be.Tl)("recent_tickets"):(0,Be.Tl)("recent_ticket");return(0,x.jsx)(x.Fragment,{children:n?(0,x.jsxs)(fi,{"data-testid":"recent-tickets",displayAsConversational:r,children:[(0,x.jsx)(xi,{children:s}),(0,x.jsx)(se.A,{noDivider:!0,children:e.map((e=>(0,x.jsx)(mi,{title:e.name,publicTicketId:e.publicTicketId,typeName:e.ticketTypeName,status:e.status,statusLabel:e.statusLabel,unread:!1===e.read,onClick:()=>t(e.id),homeScreen:!0,shouldHideUnreadBadge:i},e.id)))})]}):null})},bi=({shouldHideUnreadBadge:e,displayAsConversational:t})=>{const n=(0,s.useNavigate)(),i=(0,h.GV)(vi.ir)||[],r=(0,h.GV)(g.UT)&&i&&i.length>0;return(0,x.jsx)(yi,{unresolvedTickets:i,handleTicketClick:e=>{n(`/tickets/details/${e}`,{state:{navigatingFrom:Ae.vU}})},shouldShowHomescreenCard:r,shouldHideUnreadBadge:e,displayAsConversational:t})};var wi=n(79183);const ji={app:"App",activity:"Activity",bounced:"Bounced","button-pill":"ButtonPill","click-element":"ClickElement",company:"Company","contact-book":"ContactBook",coupon:"Coupon",creditcard:"CreditCard","email-filled":"EmailFilled",event:"Event","large-right-arrow":"LargeRightArrow",insights:"Insights",locked:"Locked",phone:"Phone",person:"PersonType",wrench:"Wrench","slipping-away":"SlippingAway",stars:"Stars"},Ai=({link:e})=>{const{showCreateTicket:t}=(0,wi.A)();return(0,x.jsx)($t,{onClick:()=>{return n=e.ticket_type_id,(0,je.A5)("clicked","ticketlink","messenger","home",{ticket_type_id:n}),void t(n,"conversation");var n},left:(0,x.jsx)(ae.Ay,{type:ji[e.icon],color:"linkColor",size:16}),children:e.ticket_type_name})},ki=({ticketLinks:e,cardTitle:t})=>{const{showCreateTicket:n}=(0,wi.A)();return(0,x.jsx)(re.A,{title:t,children:(0,x.jsx)(se.A,{noDivider:!0,padding:8,children:e.map((e=>(0,x.jsx)(oe.A,{onClick:()=>{return t=e.ticket_type_id,(0,je.A5)("clicked","ticket_link","messenger","home",{ticket_type_id:t}),void n(t,"conversation");var t},rightIcon:ji[e.icon],rightIconColor:"linkColor",size:"tiny",truncate:!0,children:e.ticket_type_name},e.ticket_type_id)))})})};var Ci=n(26865);const Si=()=>(0,x.jsx)(G,{children:(0,x.jsx)(y.A,{})}),Ti=({logoUrl:e,showAvatars:t,slots:n,isFetched:i,isFailed:r,onRetry:s,onScroll:o,onHeaderHeightChange:a,headerOpacity:l,closeButtonOpacity:c,background:d,textColorType:p,showCloseButton:u,title:h,subtitle:g})=>{const{scrollbarVisible:m,ref:f,handleResize:y}=function(){const e=(0,v.useRef)(null),[t,n]=(0,v.useState)(!1),i=(0,v.useCallback)((()=>{const t=e.current;if(t){const e=t.scrollHeight>t.clientHeight;n(e)}}),[e]);return ri(e.current,i),{scrollbarVisible:t,ref:e,handleResize:i}}();(0,v.useEffect)((()=>{y()}),[y,n]);const{homeHeaderBackgroundColorIsLight:b,globalHorizontalPadding:w}=(0,Ln.A)(),j=(0,ot.M5)();return i||r?(0,x.jsx)(F,{ref:f,className:"intercom-home-screen",onScroll:e=>{let t=0;e.currentTarget&&(t=e.currentTarget.scrollTop),o(Math.max(0,t))},children:(0,x.jsxs)($,{isIntercomLinkEnabled:!0,children:[(0,x.jsx)(lt.A,{onHeightChange:a,children:(0,x.jsx)(at,{title:h,subtitle:g,logo:e,showAvatars:t,opacity:l,background:d,textColorType:p,closeButtonEnabled:u,scrollbarVisible:m})}),(0,x.jsxs)(q,{homeBackgroundType:null!=d&&d.fadeToWhite?null==d?void 0:d.type:null,unifiedStyling:j,children:[n.map(((e,t)=>{switch(e.type){case"recent_conversation":return(0,x.jsx)(kn,{},"recent-conversation-card");case"recent_tickets":return(0,x.jsx)(bi,{shouldHideUnreadBadge:!0},"recent-tickets");case"ticket_links":return(0,x.jsx)(ki,{ticketLinks:e.links,cardTitle:e.card_title},"ticket-links");case"new_conversation":return(0,x.jsx)(Zt,{},"conversation-card");case"help_center":return(0,x.jsx)(Ne,{index:t,suggestions:e.suggested_articles,metadata:e.suggested_articles_metadata},"help-card");case"news_items":return(0,x.jsx)(zt,{},"news-items");case"checklists":return(0,x.jsx)(ei,{},"checklists");case"messenger_app":return(0,x.jsx)(HomeScreenMessengerCard,{cardUri:e.uri,index:t,isFetched:!0},"messenger-app-"+t);case"external_links":return(0,x.jsx)(En,{links:e.links},`external-links-${t}`);default:return null}})),(0,x.jsx)(Re,{visible:r,onRetry:s})]}),(0,x.jsx)(Hn,{parallaxOpacity:c,onWhiteBackground:b,rightMargin:w,onHomeHeader:!0})]})}):(0,x.jsx)(Si,{})},_i=()=>{const[e,t]=(0,v.useState)(1),{setHeight:n,height:i}=N(),r=(0,h.GV)(K.Ch),{fetchHomeContent:s,slots:o,isFetched:a,isFailed:l}=oi(),c=On(),d=(0,h.GV)(K.wu),p=(0,h.GV)(Ci.A);(0,v.useEffect)((()=>{d&&p&&s()}),[s,d,p]);const{logoUrl:u,showAvatars:g,greeting:m,introduction:f,textColorType:y}=(0,h.GV)(K.qF),b=(0,h.GV)(W._D),w=((e,t)=>1-Math.min(Math.abs(e/(t-100)),1))(e,i);return(0,x.jsx)(Ti,{slots:o,title:null==m?void 0:m.content,subtitle:null==f?void 0:f.content,logoUrl:u,showAvatars:g,accessToTeammateEnabled:b,isFetched:a,isFailed:l,onRetry:s,onScroll:e=>{t(e)},onHeaderHeightChange:e=>{n(e)},headerOpacity:w,closeButtonOpacity:w,background:r,textColorType:y,showCloseButton:c})};const Ei=(0,w.Ay)("div",{target:"e12mr2z27"})("display:flex;flex-direction:column;background-color:",(0,w.w4)("containerBaseNeutral"),";max-height:674px;"),Bi=(0,w.Ay)("div",{target:"e12mr2z26"})("margin-top:8px;margin-bottom:8px;overflow-y:auto;",xn.MN.className,"{margin-right:16px;}"),Ni=(0,w.Ay)("div",{target:"e12mr2z25"})("border-top:1px solid ",(0,w.w4)("elevation2"),";margin-top:auto;");var Ii={name:"f9bxyi",styles:"padding-left:18px"},zi={name:"jab4lt",styles:"justify-content:end"};const Mi=(0,w.Ay)("div",{target:"e12mr2z24"})("display:flex;flex-direction:row;align-items:center;padding:8px 10px;border-bottom:",(0,w.w4)("elevation2")," solid 1px;justify-content:space-between;",(({onlyCloseButtonVisible:e})=>e&&zi)," ",(({theme:e})=>e.isMobileSize&&Ii),";");var Ri={name:"1d3w5wq",styles:"width:100%"};const Pi=(0,w.Ay)("div",{target:"e12mr2z23"})("display:flex;align-items:center;justify-content:space-between;",(({fullWidth:e})=>e&&Ri),";");var Oi={name:"2pg1ps",styles:"font-size:18px"};const Li=(0,w.Ay)("div",{target:"e12mr2z22"})("line-height:19px;padding:6px;font-weight:600;overflow:hidden;",(({theme:e})=>e.isMobileSize&&Oi)," word-wrap:break-word;"),Hi=(0,w.Ay)("div",{target:"e12mr2z21"})({name:"eykqtd",styles:"flex:none"}),Di=(0,w.Ay)("div",{target:"e12mr2z20"})({name:"plc89f",styles:"margin:8px auto 0;display:table"});var Vi=n(98023),Fi=n.n(Vi);const qi=(0,w.Ay)("span",{target:"eobnxxl2"})("background:",(0,w.w4)("badgeRed"),";display:flex;justify-content:center;font-size:11px;color:",(0,w.w4)("textOnInverse"),";font-weight:700;border-radius:9px;width:fit-content;min-width:16px;height:16px;box-sizing:border-box;line-height:16px;padding:0 4px;"),Gi=(0,w.Ay)("span",{target:"eobnxxl1"})("background:",(0,w.w4)("badgeRed"),";display:block;width:8px;height:8px;border-radius:50%;"),Ui=(0,w.Ay)("span",{target:"eobnxxl0"})("background:",(0,w.w4)("badgeRed"),";display:flex;justify-content:center;font-size:11px;color:",(0,w.w4)("textOnInverse"),";font-weight:700;border-radius:9px;width:fit-content;min-width:16px;height:16px;box-sizing:border-box;line-height:16px;padding:0 4px;position:absolute;top:-4px;right:-4px;");const $i=function({children:e,className:t=""}){if(e){const n=Fi()(e)&&e>99?"99+":e;return(0,x.jsx)(qi,{"data-testid":"active-notifications",className:t,children:n})}return(0,x.jsx)(Gi,{"data-testid":"passive-notifications"})},Wi=({item:e})=>{const t=e.iconComponent.active,{showSpace:n}=Se(),i=e.activeNotificationCount>0||e.hasPassiveNotifications;return(0,x.jsx)($t,{left:(0,x.jsx)(t,{viewBox:"0 0 24 24",height:"16",width:"16"}),rightIcon:"RightChevronColorable",right:i&&(0,x.jsx)($i,{children:e.activeNotificationCount>0?e.activeNotificationCount:void 0}),onClick:()=>{n(e.id,"fromHome=true")},children:e.title})};function Ki(){const e=(0,h.GV)(g.$P).filter((e=>e.id!==p.Zh.id)),{fetchHomeContent:t,slots:n,isFetched:i,isFailed:r}=oi(),s=On(),o=!!n.find((e=>"recent_conversation"===e.type)),a=n.filter((e=>"recent_conversation"!==e.type));(0,v.useEffect)((()=>{t()}),[t]);const{greeting:l,showAvatars:c,compact:{showHeader:d}}=(0,h.GV)(K.qF);return i||r?(0,x.jsx)(Yi,{spaces:e,greeting:l,slots:a,showAvatars:c,hasRecentConversationSlot:o,showHeader:d,isCloseButtonVisible:s}):(0,x.jsx)(Di,{children:(0,x.jsx)(y.A,{})})}const Yi=({spaces:e,greeting:t,slots:n=[],showAvatars:i=!0,hasRecentConversationSlot:r,showHeader:s,isCloseButtonVisible:o})=>{const a=s||o;return(0,x.jsxs)(Ei,{children:[a?(0,x.jsx)(Zi,{onlyCloseButtonVisible:!s,greeting:t,isCloseButtonVisible:o,showAvatars:i}):null,(0,x.jsx)(Bi,{children:(0,x.jsxs)(se.A,{noDivider:!0,children:[e.map((e=>(0,x.jsx)(Wi,{item:e},e.id))),n.map((e=>(e=>{switch(e.type){case"new_conversation":return(0,x.jsx)(Zt,{},e.type);case"external_links":return(0,x.jsx)(_n,{link:e.links[0]},e.type);case"ticket_links":return(0,x.jsx)(Ai,{link:e.links[0]},e.type);default:return null}})(e)))]})}),r&&(0,x.jsx)(Ni,{children:(0,x.jsx)(kn,{})})]})},Zi=({onlyCloseButtonVisible:e,greeting:t,isCloseButtonVisible:n,showAvatars:i})=>(0,x.jsxs)(Mi,{"data-testid":"compactHeader",onlyCloseButtonVisible:e,children:[t&&(0,x.jsx)(Li,{children:t.content}),(0,x.jsxs)(Pi,{fullWidth:i&&n&&!t,children:[i&&(0,x.jsx)(Hi,{"data-testid":"compactAvatars",children:(0,x.jsx)(we,{avatarSize:28,avatarPixelsToShow:24,maxAdmins:3})}),n&&(0,x.jsx)(Hn,{enabled:n,onWhiteBackground:!0})]})]});const Ji=(0,w.Ay)("span",{target:"eu4j8zh3"})(),Qi=(0,w.Ay)("div",{target:"eu4j8zh2"})("align-items:flex-end;display:block;flex-shrink:0;z-index:1;",(({isFadingOut:e})=>e&&(0,w.AH)("@keyframes non-linear-fade-out{0%{opacity:1;}50%{opacity:1;}100%{opacity:0;}}&.exit{opacity:1;}&.exit-active{animation:non-linear-fade-out ",2*A.time,"ms;opacity:0;}&.exit-done{opacity:0;}"))," .powered-by-enter{opacity:0;}.powered-by-enter-active{opacity:1;transition:opacity ",A.time,"ms ease-out;}.powered-by-exit{opacity:1;}",(({showOnSpaces:e,removeVerticalMargin:t})=>(0,w.AH)("margin:",e||t?"0":"11","px auto;"))," ",(({showOnSpaces:e,isFadingOut:t,theme:n})=>e&&!t&&(0,w.AH)("height:",32,";background:",n.containerBaseNeutral,";&:hover{background:",n.weRunOnIntercomBackgroundHover,";}"))," ",(({underConstruction:e})=>e&&(0,w.AH)("background-image:url(","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAGCAIAAAAOtlpdAAAANElEQVQoz2P4etGEEnRxi0lHFdXQ8slQYxkGoZsochbt3ES+s2jqJjKdRWs3keMsOrgJiAB4ItlirqqJGgAAAABJRU5ErkJggg==",");background-repeat:repeat-x;background-size:25px 3px;margin-left:-16px;margin-right:-16px;")),";");var Xi={name:"1wnowod",styles:"display:flex;align-items:center;justify-content:center"},er={name:"wz1gv9",styles:"text-align:center;width:100%"};const tr=(0,w.Ay)("a",{target:"eu4j8zh1"})("display:inline-block;",(({showOnSpaces:e})=>(0,w.AH)("font-size:13px;border-radius:16px;padding:",e?"8":"0","px ",e?"0":"16","px;"))," transition:all 80ms;",(({foregroundColor:e})=>(0,w.AH)("color:",e,"!important;")),";",(({showOnSpaces:e,theme:t})=>!e&&(0,w.AH)("&:hover{color:",t.textDefault,"!important;}"))," ",(({showOnSpaces:e})=>e&&er)," ",(({displayAsCompact:e})=>e&&Xi),";"),nr=(0,w.Ay)("div",{target:"eu4j8zh0"})();var ir=n(79148);const rr=()=>{const{pathname:e}=(0,s.useLocation)(),t=-1!==e.indexOf("conversation/"),n=e.startsWith(`/${p.ND.id}/details`),i=e.startsWith(`/${p.Ij.id}/tickets`)||e.startsWith(`/${p.rK.id}/details`),r=e.startsWith(`/${p.Ul.id}/${u.TA.checklists}`),o=(0,h.GV)(Yn.J3),a=e.startsWith(`/${p.Zh.id}/sheet`),l=(0,h.GV)(ir._9),c=(0,h.GV)(Ee.qZ),d=!(0,h.GV)(g.j7)&&c;return!(t||n||i||l||a||(0,g.ke)(e)||r&&o||d)},sr=({children:e})=>{const t=M(),n=(0,h.GV)(W.km),i=rr()&&n;(0,v.useEffect)((()=>()=>{t(void 0)}),[t]);return(0,x.jsx)(lt.A,{style:{width:"100%"},onHeightChange:e=>{if(t&&e){t(i?e+32:e)}},children:e})},or=()=>(0,h.GV)(g.V$)?(0,x.jsx)(sr,{children:(0,x.jsx)(Ki,{})}):(0,x.jsx)(_i,{}),ar=()=>(0,x.jsx)(V,{header:null,children:(0,x.jsx)(or,{})});var lr=n(14644),cr=n(97132),dr=n(94870);const pr=(0,w.Ay)("div",{target:"e17mqux90"})("z-index:",(0,w.w4)("messengerSheetZIndex"),";position:fixed;bottom:0;left:0;right:0;top:0;display:flex;flex-direction:column;background:none;");var ur=n(13555);const hr=(0,w.Ay)(lt.A,{target:"e1q8fpwq4"})({name:"1d3w5wq",styles:"width:100%"}),gr=(0,w.Ay)("nav",{target:"e1q8fpwq3"})("z-index:1;display:flex;flex-direction:column;padding:8px 13px;color:",(0,w.w4)("headerTextColor"),";button{height:fit-content;min-height:auto;min-width:fit-content;padding:10px;gap:4px;}",(({showBorder:e,theme:t})=>e&&(0,w.AH)("border-bottom:",t.isUnifiedStyling?`1px solid ${t.elevation2}`:"1px solid rgba(0, 0, 0, 0.1)",";")),";"),mr=(0,w.Ay)("div",{target:"e1q8fpwq2"})("display:flex;flex-grow:1;flex-direction:row;align-items:center;justify-content:space-between;gap:2px;min-height:48px;font-size:18px;color:",(0,w.w4)("headerTitleColor"),";",(({whiteBackground:e,theme:t})=>e&&(0,w.AH)("color:","dark"===t.themeMode?t.textOnInverse:t.textDefault,";")),";");var xr={name:"11g4mt0",styles:"font-size:16px"};const fr=(0,w.Ay)("h1",{target:"e1q8fpwq1"})("padding:8px 4px;font-weight:600;text-align:center;font-size:18px;overflow:hidden;text-overflow:ellipsis;display:flex;gap:8px;align-items:center;",(({smallText:e})=>e&&xr),";");var vr={name:"1yvcaec",styles:"padding-right:4px"};const yr=(0,w.Ay)("div",{target:"e1q8fpwq0"})("display:flex;flex:1;justify-content:",(({align:e})=>"right"===e?"flex-end":"flex-start"),";",(({align:e})=>"right"!==e&&vr),"&:first-child:empty{min-width:8px;}");var br=n(83140),wr=n(12129),jr=n(71982);function Ar(e){const t=(0,h.jL)(),n=(0,h.GV)(jr.l);return(0,zn.IS)()?null:(0,x.jsx)(_r.Button,{iconType:n?"CollapseIcon":"ExpandIcon","data-testid":"toggle-expansion",iconSize:16,onClick:()=>t((0,wr.D)(!n,e.object,e.place)),"aria-label":n?(0,Be.Tl)("expanded_mode_disable"):(0,Be.Tl)("expanded_mode_enable")})}var kr=n(40085);const Cr=(0,v.forwardRef)(((e,t)=>{const{round:n=!1}=e,i=n?"100%":10;return(0,x.jsx)(br.A,Object.assign({ref:t,variant:"header",iconSize:16,padding:8,borderRadius:i},e))})),Sr=({onBack:e,chevronDirection:t="left",round:n=!1})=>(0,x.jsx)(Cr,{onClick:e,"aria-label":"go back","data-testid":"go-back",round:n,children:(0,x.jsx)(ae.In,{type:"left"===t?"ThinLeftArrowIcon":"ThinDownArrowIcon",size:16,flipInRtl:!0})}),Tr=fr,_r={Content:({children:e,whiteBackground:t=!1,showBorder:n=!1})=>{const i=(0,Ln.A)(),{whiteBackground:r,setWhiteBackground:s,setHeight:o}=N(),a=(0,v.useRef)(r);a.current=r,(0,v.useEffect)((()=>{(null==a?void 0:a.current)!==t&&s(t)}),[t,a,s]);const l=t?Object.assign({},i,{appSecondaryColor:i.containerBaseNeutral,headerButtonHoverBackgroundColor:i.headerButtonHoverBackgroundColorOnForcedWhiteBackground,headerTextColor:i.grey500,headerTitleColor:i.textDefault,headerButtonColor:i.linkColor}):i;return(0,x.jsx)(kr.T.Provider,{value:l,children:(0,x.jsx)(hr,{onHeightChange:e=>o(e),children:(0,x.jsx)(gr,{showBorder:n,children:e})})})},ButtonSpacer:yr,Button:Cr,Title:Tr,BackButton:Sr,TitleArea:({onBack:e,title:t,children:n,showExpandButton:i,smallText:r,leftButtonArea:s,rightButtonArea:o,backDirection:a="left"})=>{const l=(0,zn.IS)(),c=On(),{whiteBackground:d}=N(),p=(0,ot.M5)();return(0,x.jsxs)(mr,{whiteBackground:d,children:[(0,x.jsxs)(yr,{"data-testid":"header-left-area",children:[e&&(0,x.jsx)(Sr,{onBack:e,chevronDirection:a}),s]}),n||null,!n&&(0,x.jsx)(Tr,{smallText:!!r,children:t}),(0,x.jsxs)(yr,{align:"right","data-testid":"header-right-area",children:[o,i&&!l&&(0,x.jsx)(Ar,{}),c&&(0,x.jsx)(Hn,{onWhiteBackground:!p&&d})]})]})}},Er=({title:e,onBack:t,showExpandButton:n,whiteBackground:i,isSubView:r,backDirection:s="left",showBorder:o=!1})=>((0,ot.M5)()&&(i=!1,o=!0),(0,x.jsx)(_r.Content,{whiteBackground:i,showBorder:o,children:(0,x.jsx)(_r.TitleArea,{onBack:t,showExpandButton:n,title:e,smallText:r,backDirection:s})}));var Br=n(72853);const Nr=(0,w.Ay)("div",{target:"e1n2vqdo0"})((({headerHeight:e,heightChangeDuration:t,whiteBackground:n,theme:i})=>(0,w.AH)("transition:min-height ",t,"ms ease-out,max-height ",t,"ms ease-out,background-color ",t,"ms ease-in-out;min-height:",e,"px;max-height:",e,"px;background-color:",n?"transparent":i.secondaryColor,";position:absolute;top:0;right:0;left:0;")),";");function Ir(){const{whiteBackground:e,height:t}=N();return(0,x.jsx)(Nr,{headerHeight:Math.max(t,64),heightChangeDuration:Br.qZ,whiteBackground:e||!1})}function zr(e){return(0,x.jsx)(Er,{onBack:e.onBackClick,title:e.sheetTitle||"",whiteBackground:!0})}const Mr=(0,w.Ay)("div",{target:"etflgg20"})("z-index:",(0,w.w4)("messengerSheetLoaderZIndex"),";position:absolute;top:0;left:0;right:0;height:2px;background:",(0,w.w4)("appColor"),";",(({transform:e})=>(0,w.AH)("transform:",e,";"))," ",(({transition:e})=>(0,w.AH)("transition:",e,";"))," ",(({opacity:e})=>(0,w.AH)("opacity:",e,";")),";");function Rr(e,t){var n,i,r;return"number"!=typeof t&&(t=e>=0&&e<.2?.1:e>=.2&&e<.5?.04:e>=.5&&e<.8?.02:e>=.8&&e<.99?.005:0),n=e+t,i=0,r=.994,e=Math.min(r,Math.max(n,i))}class ProgressBar extends v.PureComponent{constructor(...e){super(...e),this.incrementInterval=void 0,this.state={percent:0,opacity:1,withTransition:!1}}componentDidMount(){this.props.isLoading&&this.startTrickleWork()}componentDidUpdate(e){const{isLoading:t}=e;this.props.isLoading&&!t&&(this.resetBar(),this.startTrickleWork()),t&&!this.props.isLoading&&this.finishLoading()}componentWillUnmount(){this.clearInterval()}startTrickleWork(){const{trickleSpeed:e}=this.props;this.clearInterval(),this.incrementInterval=setInterval((()=>{this.setState({percent:Rr(this.state.percent),withTransition:!0})}),e)}finishLoading(){const{speed:e}=this.props;this.setState({percent:1,withTransition:!0}),setTimeout((()=>{this.setState({opacity:0})}),e)}resetBar(){this.setState({percent:0,opacity:1,withTransition:!1})}clearInterval(){this.incrementInterval&&clearInterval(this.incrementInterval)}getTransform(){const{percent:e}=this.state;return`translate3d(${t=e,(100*(-1+t)).toFixed(2)}%,0,0)`;var t}getTransition(){const{withTransition:e}=this.state,{speed:t,easing:n}=this.props;return e?`all ${t}ms ${n}`:"none"}render(){return(0,x.jsx)(Mr,{transform:this.getTransform(),transition:this.getTransition(),opacity:this.state.opacity})}}ProgressBar.defaultProps={trickleSpeed:200,speed:200,easing:"linear",isLoading:!1};var Pr={name:"1im0r96",styles:"overflow-y:scroll"};const Or=(0,w.Ay)("div",{target:"eihbrxe1"})("position:relative;flex:1;outline-offset:-5px;",(({theme:e})=>e.isMobileSize&&Pr),";"),Lr=(0,w.Ay)("iframe",{target:"eihbrxe0"})({name:"ytsxkx",styles:"position:absolute;width:100%;height:100%;outline-offset:-5px"}),Hr=n(76141),Dr=(e={})=>{const t=window.crossOriginIsolated||!1,n=new URLSearchParams(Object.assign({},e,{cross_origin_isolated:t.toString()})).toString();return`${Hr.sheets_proxy_path}?${n}`};class MessengerSheetProxy extends v.Component{constructor(...e){super(...e),this.frameNode=void 0,this.sheetProxyNode=void 0,this.timeout=void 0,this.state={loadFrame:!1}}componentDidMount(){this.timeout=setTimeout((()=>{this.setState({loadFrame:!0},(()=>{this.setupSheetFrame()})),this.sheetProxyNode&&this.sheetProxyNode.focus()}),this.props.transitionTimeout)}setupSheetFrame(){var e;if(!this.state.loadFrame)return;const{startNavigation:t,receiveSheetMessage:n}=this.props;t(),this.frameNode&&(null==(e=this.frameNode.ownerDocument.defaultView)||e.addEventListener("message",n,!1))}componentWillUnmount(){var e;this.timeout&&clearTimeout(this.timeout);const{setProxyLoadedStatus:t}=this.props;t(!1),this.frameNode&&(null==(e=this.frameNode.ownerDocument.defaultView)||e.removeEventListener("message",this.props.receiveSheetMessage))}render(){const{onFrameLoad:e,isNavigating:t}=this.props;return(0,x.jsxs)(Or,{tabIndex:0,ref:e=>this.sheetProxyNode=e,children:[(0,x.jsx)(ProgressBar,{isLoading:t}),this.state.loadFrame?(0,x.jsx)(Lr,{ref:e=>this.frameNode=e,name:"intercom-messenger-sheet-proxy",sandbox:"allow-scripts allow-forms allow-same-origin allow-popups allow-popups-to-escape-sandbox allow-downloads",src:Dr(),onLoad:e,allowFullScreen:!0,allow:"microphone *; camera *; autoplay *; display-capture *",title:"Messenger app"}):null]})}}var Vr=n(719),Fr=n(31837),qr=n(51543),Gr=n(13194);class MessengerSheetBody extends v.PureComponent{constructor(...e){super(...e),this.node=void 0,this.form=void 0,this.focusTrap=null,this.state={isSubmitted:!1},this.handleEscape=e=>{(0,d.nx)(e)&&this.handleCloseSheet()},this.handleCloseSheet=()=>{this.props.closeSheet();const e=(0,qr.fx)();e&&(e(),(0,qr.x6)(null))},this.setFormRef=e=>{this.form=e},this.submitForm=()=>{if(!this.form)return null;this.form.submit(),this.setState({isSubmitted:!0})},this.handleIframeLoad=()=>{this.props.setProxyLoadedStatus(!0);const{isSheetsDataLoaded:e,isProxyLoaded:t}=this.props;setTimeout((()=>{e&&t||(0,Gr.l2)("Sheet failed to load after 30 seconds.")}),3e4)}}componentDidMount(){if(this.props.frameWindow&&(0,d.q2)(this.props.frameWindow,"keydown",this.handleEscape),this.node){const e=()=>(0,Fr.tW)();this.focusTrap=new Vr.A({document:this.node,firstElement:e,lastElement:e})}}componentDidUpdate(){this.shouldSubmitForm()&&this.submitForm()}componentWillUnmount(){this.props.frameWindow&&(0,d.f)(this.props.frameWindow,"keydown",this.handleEscape),this.focusTrap&&this.focusTrap.restore()}shouldSubmitForm(){const{isSheetsDataLoaded:e,isProxyLoaded:t}=this.props;return!this.state.isSubmitted&&e&&t}renderSheetForm(){const{url:e,sheetsData:t}=this.props;return t?(0,x.jsx)("form",{ref:this.setFormRef,action:e,method:"post",style:{margin:"0"},target:"intercom-messenger-sheet",children:(0,x.jsx)("input",{type:"hidden",name:"intercom_data",value:t,readOnly:!0})}):null}render(){const{sheetTitle:e}=this.props;return(0,x.jsxs)(pr,{ref:e=>this.node=e,children:[(0,x.jsx)(zr,{onBackClick:this.handleCloseSheet,sheetTitle:e}),(0,x.jsx)(MessengerSheetProxy,{isNavigating:this.props.isNavigating,onFrameLoad:this.handleIframeLoad,startNavigation:this.props.startNavigation,receiveSheetMessage:this.props.receiveSheetMessage,setProxyLoadedStatus:this.props.setProxyLoadedStatus,transitionTimeout:this.props.transitionTimeout}),this.renderSheetForm(),(0,x.jsx)(ur.C,{"aria-label":(0,Be.Tl)("close"),onClick:this.handleCloseSheet})]})}}var Ur=n(42706);class MessengerSheet extends v.PureComponent{constructor(...e){super(...e),this.context=void 0}render(){const{isSheetsDataLoaded:e,isProxyLoaded:t,isOpen:n,isNavigating:i,url:r,closeSheet:s,sheetsData:o,startNavigation:a,setProxyLoadedStatus:l,sheetTitle:c,receiveSheetMessage:d}=this.props,p={isSheetsDataLoaded:e,isProxyLoaded:t,isNavigating:i,url:r,sheetsData:o,closeSheet:s,setProxyLoadedStatus:l,sheetTitle:c,startNavigation:a,receiveSheetMessage:d,transitionTimeout:300,frameWindow:this.context};return n?(0,x.jsx)(MessengerSheetBody,Object.assign({},p),"sheet"):null}}MessengerSheet.contextType=Ur.t;var $r=n(51537);const Wr=(0,cr.j8)({isSheetsDataLoaded:$r.d,isProxyLoaded:$r.Lm,isOpen:$r.IP,url:$r.Uh,sheetsData:$r.b0,sourceCard:$r.XS,isNavigating:$r.aW,sheetTitle:$r.$I});const Kr=(0,r.Ng)(Wr,(function(e){const t=dr.wv.bind(null,yt.Ay),n=dr.SQ.bind(null,yt.Ay);return(0,lr.zH)({startNavigation:dr.J,finishNavigation:dr.gl,closeSheet:dr.QK,submitSheet:n,setProxyLoadedStatus:dr.Gn,setSheetTitle:dr.iu,receiveSheetMessage:t},e)}))(MessengerSheet),Yr=()=>(0,x.jsx)(V,{header:null,children:(0,x.jsx)(Kr,{})});var Zr=n(7350),Jr=n.n(Zr);const Qr=(0,w.Ay)("div",{target:"e1m6yto50"})({name:"xhp8uo",styles:"display:flex;position:relative;flex:1 1 auto;min-width:100%;overflow:hidden"});var Xr=n(81170),es=n(20681),ts=n.n(es),ns=n(1020),is=n(51165);const rs=(0,w.Ay)("div",{target:"e17wp0pa1"})("display:grid;color:",(0,w.w4)("grey500"),";padding:20px;gap:4px;font-size:13px;line-height:19.5px;text-align:center;"),ss=(0,w.Ay)("div",{target:"e17wp0pa0"})({name:"1u4pyxi",styles:"text-align:center;display:flex;align-items:center;justify-content:center;gap:6px"}),os=(e,t,n)=>({initials:t.initials,label:t.label,shape:t.shape,imageUrl:n.type===Rt.Bn.logo?t.imageUrl:t.square128,showStatus:e}),as=({avatarSize:e,avatarGroup:t,cutoutSize:n=0,displayActiveIndicator:i=!1,facePileStyle:r="default"})=>{if(null==t||!t.avatars)return null;if(t.type===Rt.Bn.facepile&&t.avatars.length>0){const[n,s,o]=t.avatars;return(0,x.jsx)(Pt,{size:e,facePileStyle:r,primaryAvatar:(0,x.jsx)(ue.e,Object.assign({},os(i,n,t))),secondAvatar:s&&(0,x.jsx)(ue.e,Object.assign({},os(i,s,t))),thirdAvatar:o&&(0,x.jsx)(ue.e,Object.assign({},os(i,o,t)))})}return(0,x.jsx)(xe,{useCutout:!0,cutoutSize:n,avatarPixelsToShow:e-4,avatarSize:e,marginRight:"0",children:t.avatars.map(((n,r)=>(0,x.jsx)(fe,{children:(0,x.jsx)(ue.e,Object.assign({solidBackground:t.avatars.length>1},os(i,n,t),{size:e}))},r)))})},ls=({footerNotice:e,setFooterNoticeHeight:t=()=>{}})=>{const n=(0,v.useRef)(null),i=(0,v.useCallback)((()=>{n.current&&t(n.current.offsetHeight)}),[n,t]);return ri(n.current,i,0),(0,v.useEffect)((()=>{i()}),[i]),(0,x.jsxs)(rs,{ref:n,children:[(0,x.jsxs)(ss,{children:[(0,x.jsx)(as,{avatarSize:16,cutoutSize:1,avatarGroup:e.avatarGroup,displayActiveIndicator:!1,facePileStyle:"default"}),e.title]}),e.subtitle&&(0,x.jsx)("p",{children:e.subtitle})]})},cs=(0,w.Ay)("div",{target:"eidngzh0"})("left:0;right:0;z-index:3;",(({bottomSpace:e})=>e&&(0,w.AH)("position:absolute;bottom:",e,"px;"))," &.enter{transform:translateY(55px) scale(0.8);}&.enter-active{transform:translateY(0) scale(1);transition:transform 150ms ease-in-out;}&.exit{transform:translateY(0) scale(1);}&.exit-active{transform:translateY(55px) scale(0.8);transition:transform 150ms ease-in-out;}"),ds=(0,v.createContext)({newFooterHeight:0,setNewFooterHeight:()=>{}});function ps({children:e}){const[t,n]=(0,v.useState)(0);return(0,x.jsx)(ds.Provider,{value:{newFooterHeight:t,setNewFooterHeight:n},children:e})}const us=({isComposerEnabled:e,isConversationEnded:t,show:n=!0,children:i})=>{const r=(0,v.useRef)(null),{newFooterHeight:s}=(0,v.useContext)(ds);let o;if(t){o=106+30}else o=e?s+12:30;return(0,x.jsx)(R.B1,{in:n,classNames:"",nodeRef:r,timeout:150,unmountOnExit:!0,children:(0,x.jsx)(cs,{ref:r,bottomSpace:o,children:i})})};var hs=n(99459);const gs=(0,w.Ay)("div",{target:"eml9w7g0"})("border-radius:0 0 6px 6px;display:flex;flex-direction:column;gap:8px;align-items:center;padding-bottom:8px;margin-top:-",20,"px;z-index:3;transition:translate 300ms;",(({theme:e,isIntercomLinkEnabled:t})=>e.isMobileBrowser&&t&&(0,w.AH)("&:focus-within:not(:has(button:focus-within)){translate:0 ",26,"px;}")),";");const ms=(0,w.Ay)("div",{target:"eqx2a4a2"})("display:flex;flex-direction:column;flex:1;overflow:hidden;-webkit-overflow-scrolling:touch;.intercom-conversation-body-header{position:relative;display:flex;flex-direction:column;flex-grow:0;overflow:hidden;}.intercom-conversation-body-main-group{position:relative;display:flex;flex-direction:column;flex-grow:1;overflow:hidden;padding-bottom:",20,"px;}"),xs=(0,w.Ay)("div",{target:"eqx2a4a1"})({name:"9mli0n",styles:"position:sticky;z-index:3;top:0;padding:14px;padding-bottom:0;text-align:center"}),fs=(0,w.Ay)("div",{target:"eqx2a4a0"})({name:"1yjx7km",styles:"padding:20px"});const vs=(0,w.Ay)("div",{target:"e1nw6qnr1"})({name:"zigog8",styles:"display:flex;flex-direction:column;align-items:center"}),ys=(0,w.Ay)(br.A,{target:"e1nw6qnr0"})("transition:transform 150ms;&:hover{transform:scale(1.1);background:",(0,w.w4)("containerBaseNeutral"),";}"),bs=({onClick:e,notificationCount:t})=>(0,x.jsx)(vs,{children:(0,x.jsx)(ys,{variant:"primary_light",iconType:"ChevronDown",borderRadius:24,padding:"8px",onClick:e,className:"intercom-conversation-body-bottom-button","aria-label":"Scroll to bottom",children:t>0&&(0,x.jsx)(Ui,{"aria-label":"Scroll badge",children:t>99?"99+":t})})});var ws=n(83285);const js=["name"];function As(e){let{name:t}=e,n=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(-1!==t.indexOf(i))continue;n[i]=e[i]}return n}(e,js);return(0,x.jsx)(ks,{children:(0,x.jsx)(Cs,Object.assign({},n,{children:(0,x.jsxs)(Ss,{children:[(0,x.jsx)(Ts,{children:(0,x.jsx)(ws.A,{})}),(0,x.jsx)(_s,{children:t})]})}))})}const ks=(0,w.Ay)("div",{target:"efz1axl4"})({name:"zl1inp",styles:"display:flex;justify-content:center"}),Cs=(0,w.Ay)(s.Link,{target:"efz1axl3"})("display:flex;align-items:center;padding:0 16px;height:40px;width:fit-content;box-shadow:0px 2px 8px ",(0,w.w4)("elevation2"),";min-width:86px;max-width:326px;justify-content:center;line-height:16px;font-size:13px;font-family:",(0,w.w4)("fontSansSerif"),";font-weight:600;border-radius:20px;background-color:",(0,w.w4)("containerBaseNeutral"),";transition:all 120ms;cursor:pointer;border:1px solid ",(0,w.w4)("lightBorder"),";&:link{background-color:",(0,w.w4)("containerBaseNeutral"),";}&:hover{box-shadow:0px 2px 8px rgba(0, 0, 0, 0.1);color:inherit;}&:active{border-color:",(0,w.w4)("buttonBackgroundColorActive"),";box-shadow:0px 4px 12px rgba(0, 0, 0, 0.1);transform:translateY(2px);}"),Ss=(0,w.Ay)("div",{target:"efz1axl2"})("display:flex;align-items:center;color:",(0,w.w4)("linkColor"),";"),Ts=(0,w.Ay)("span",{target:"efz1axl1"})({name:"nkt64x",styles:"margin-right:10px"}),_s=(0,w.Ay)("span",{target:"efz1axl0"})({name:"1g7g7c1",styles:"max-width:300px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis"});var Es=n(79630),Bs=n(86629),Ns=n(56341);var Is={name:"1azpx8r",styles:"margin-bottom:20px"};const zs=(0,w.Ay)("ul",{target:"e1753f488"})("list-style-type:none;display:flex;gap:3px;margin-top:'20px';",(({inline:e})=>!e&&Is),";"),Ms=(0,w.Ay)("div",{target:"e1753f487"})({name:"1d3w5wq",styles:"width:100%"});var Rs={name:"ihsmyf",styles:"border-top-right-radius:50px;border-bottom-right-radius:50px"},Ps={name:"1ewu4nf",styles:"border-top-left-radius:50px;border-bottom-left-radius:50px"};const Os=(0,w.Ay)("div",{target:"e1753f486"})("height:4px;width:100%;background-color:",(({theme:e})=>e.borderEmphasisNeutral),";margin-bottom:8px;",(({colored:e,color:t,theme:n})=>e&&(0,w.AH)("background-color:",n[t],";"))," ",(({roundedSide:e})=>"left"===e?Ps:"right"===e?Rs:null),";"),Ls=(0,w.Ay)("li",{target:"e1753f485"})("width:auto;flex-basis:0;flex-grow:1;",(({isCurrent:e})=>e&&(0,w.AH)("font-weight:",e?"600":"400",";"))," font-size:14px;line-height:21px;text-align:center;",(({diminished:e,theme:t})=>e&&(0,w.AH)("color:",t.iconMuted,";")),";");var Hs={name:"pp0jbi",styles:"font-size:16px;line-height:24px;font-weight:600"};const Ds=(0,w.Ay)(Ns._,{target:"e1753f484"})("text-align:center;margin-bottom:15px;font-weight:400;",(({big:e})=>e&&Hs),";"),Vs=(0,w.Ay)("div",{target:"e1753f483"})({name:"10q28bl",styles:"width:auto;margin-bottom:10px"}),Fs=(0,w.Ay)("div",{target:"e1753f482"})({name:"oxkz62",styles:"display:flex;justify-content:center;padding:0"}),qs=(0,w.Ay)("div",{target:"e1753f481"})("text-align:center;font-size:14px;line-height:21px;font-weight:600;margin-bottom:4px;color:",(({color:e})=>(0,w.w4)(e)),";"),Gs=(0,w.Ay)("div",{target:"e1753f480"})({name:"jgi69c",styles:"font-size:14px;margin-bottom:18px;display:flex;justify-content:center;svg{margin-right:8px;}"});var Us,$s,Ws,Ks;function Ys(){return Ys=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ys.apply(null,arguments)}const Zs=e=>v.createElement("svg",Ys({xmlns:"http://www.w3.org/2000/svg",width:12,height:13,fill:"none",viewBox:"0 0 12 13"},e),Us||(Us=v.createElement("path",{fill:"#000",d:"M6 4.333c.553 0 1.096.155 1.568.447.471.293.854.711 1.105 1.21a3.06 3.06 0 0 1-.246 3.16L6 7.367zm5.186-1.575.401.508c.097.072.069.23-.055.318l-1.529 1.122c-.07.097-.23.068-.316-.056l-.401-.508c-.097-.072-.069-.23.055-.318l1.581-1.113c.062-.044.22-.015.264.047"})),$s||($s=v.createElement("rect",{width:4.286,height:1.3,x:3.857,fill:"#000",rx:.5})),Ws||(Ws=v.createElement("path",{fill:"#000",fillRule:"evenodd",d:"M6 11.7c2.367 0 4.286-1.94 4.286-4.333S8.366 3.033 6 3.033c-2.367 0-4.286 1.94-4.286 4.334S3.633 11.7 6 11.7M6 13c3.077 0 5.571-2.522 5.571-5.633S9.077 1.733 6 1.733.428 4.255.428 7.367C.428 10.477 2.923 13 6 13",clipRule:"evenodd"})),Ks||(Ks=v.createElement("path",{fill:"#000",fillRule:"evenodd",d:"M6.429.867V2.6h-.857V.867z",clipRule:"evenodd"}))),Js={[Rt.S5.submitted]:"timelineBlue",[Rt.S5.inProgress]:"timelineBlue",[Rt.S5.waiting]:"timelineOrange",[Rt.S5.resolved]:"timelineGreen"};function Qs({history:e,assignee:t,estimatedResolution:n,inline:i=!1}){const r=t=>0===t?"left":t===e.length-1?"right":null,s=e.find((e=>e.isCurrent)),o=s?e.indexOf(s):0;return(0,x.jsxs)(Ms,{children:[i?null:(0,x.jsx)(Fs,{children:(0,x.jsx)(Vs,{children:t?(0,x.jsx)(ve.l,{size:64,admin:t}):(0,x.jsx)(we,{solidBackground:!0,avatarSize:50,maxAdmins:3,avatarPixelsToShow:20})})}),(0,x.jsx)(qs,{color:Js[null==s?void 0:s.type],"data-testid":"status-info",children:`${null==s?void 0:s.title} ${(null==s?void 0:s.relativeTime)&&"• "+(null==s?void 0:s.relativeTime)}`}),i&&n?null:(0,x.jsx)(Ds,{"data-testid":"ticket-detail",children:null==s?void 0:s.detail}),n?(0,x.jsxs)(Gs,{children:[(0,x.jsx)(Zs,{})," ",n]}):null,(0,x.jsx)(zs,{inline:i,children:e.map(((e,t)=>{const n=t<=o;return(0,x.jsx)(Ls,{"data-testid":e.isCurrent?"current-status":`${e.type}-status`,diminished:o!==t,isCurrent:!!e.isCurrent,children:(0,x.jsx)(Os,{colored:n,color:Js[null==s?void 0:s.type],roundedSide:r(t)})},e.type)}))})]})}const Xs=(0,w.Ay)(Ns._,{target:"e1yk4gt43"})("text-align:center;color:",(0,w.w4)("grey500"),";margin-bottom:'12px';"),eo=(0,w.Ay)("div",{target:"e1yk4gt42"})("border:1px solid ",(0,w.w4)("borderEmphasisNeutral"),";border-radius:10px;padding:16px 13px 0px;box-shadow:0px 2px 8px ",(0,w.w4)("elevation2"),";border-color:",(0,w.w4)("borderEmphasisNeutral"),";"),to=(0,w.Ay)("div",{target:"e1yk4gt41"})({name:"1v63wx3",styles:"font-size:16px;display:flex;justify-content:center;align-items:center;margin-bottom:4px;line-height:24px;font-weight:600;svg{margin-right:8px;}"}),no=(0,w.Ay)(s.Link,{target:"e1yk4gt40"})("margin-top:16px;display:flex;padding:16px 0;border-top:1px solid ",(0,w.w4)("borderEmphasisNeutral"),";width:100%;text-align:center;font-size:14px;font-weight:400;align-items:center;justify-content:center;color:",(0,w.w4)("linkColor"),"!important;svg{margin-right:9px;}");var io=n(57492);function ro({ticket:e}){return(0,x.jsxs)("div",{children:[(0,x.jsx)(Xs,{children:e.inlineStatusHeaderText||(0,Be.Tl)("your_ticket")}),(0,x.jsxs)(eo,{children:[(0,x.jsx)(to,{children:e.name}),(0,x.jsx)(Qs,{history:e.history,currentStatus:e.status,estimatedResolution:e.sla,inline:!0}),(0,x.jsxs)(no,{to:(0,io.sq)(e.id),children:[(0,x.jsx)(ws.A,{}),(0,Be.Tl)("tickets_view_ticket")]})]})]})}const so=(0,w.Ay)("div",{target:"e13fyoou5"})("margin:24px 24px 0px 24px;display:flex;flex-flow:row nowrap;justify-content:space-between;align-items:center;max-width:100%;position:relative;border-radius:10px;border:1px solid rgba(0, 0, 0, 0.08);color:",(0,w.w4)("grey500"),";padding:16px 20px;/* @noflip */text-align:left;"),oo=(0,w.Ay)("span",{target:"e13fyoou4"})({name:"1ahwr0k",styles:"font-size:14px;line-height:21px;font-weight:400;white-space:pre-wrap;word-wrap:break-word;max-width:90%;a,a:visited,a:hover,a:active{color:inherit;text-decoration:underline;}"}),ao=(0,w.Ay)("div",{target:"e13fyoou3"})({name:"v1s1f3",styles:"margin-left:12px"}),lo=(0,w.Ay)("div",{target:"e13fyoou2"})("margin:",(({theme:e})=>e.globalHorizontalPadding),"px ",(({theme:e})=>e.globalHorizontalPadding),"px 0px;display:flex;flex-flow:row nowrap;justify-content:flex-start;align-items:flex-start;max-width:100%;position:relative;border-radius:20px;border:1px solid rgba(0, 0, 0, 0.1);color:",(0,w.w4)("textDefault"),";background-color:",(0,w.w4)("containerBaseNeutral"),";padding:12px 16px;"),co=(0,w.Ay)("span",{target:"e13fyoou1"})({name:"xdfy9j",styles:"font-size:13px;line-height:19px;font-weight:400;white-space:pre-wrap;word-wrap:break-word;a,a:visited,a:hover,a:active{color:inherit;text-decoration:underline;}"}),po=(0,w.Ay)("div",{target:"e13fyoou0"})({name:"3motwv",styles:"margin-right:8px;margin-top:2px"}),uo=({textContent:e,isUnifiedStyling:t})=>t?(0,x.jsxs)(lo,{role:"complementary",tabIndex:0,children:[(0,x.jsx)(po,{children:(0,x.jsx)(ae.Ay,{type:"Info",color:"linkColor"})}),(0,x.jsx)(co,{"data-testid":"special-notice-text",children:(0,x.jsx)(St.y,{text:e,tagName:"div",className:"intercom-block-paragraph",align:"left",noMargin:!0})})]}):(0,x.jsxs)(so,{role:"complementary",tabIndex:0,children:[(0,x.jsx)(oo,{"data-testid":"special-notice-text",children:(0,x.jsx)(St.y,{text:e,tagName:"div",className:"intercom-block-paragraph",align:"left",noMargin:!0})}),(0,x.jsx)(ao,{children:(0,x.jsx)(ae.Ay,{type:"Info",color:"specialNoticeIcon"})})]});var ho=n(16645);const go=(e,{threshold:t=50,debounceTime:n=500})=>{const[i,r]=(0,v.useState)(!0);return(0,v.useEffect)((()=>{const i=e.current,s=()=>{if(!i)return;const{scrollTop:e,scrollHeight:n,clientHeight:s}=i;r(e+s>=n-t)},o=ni()(s,n),a=Jr()(s,100,{leading:!0,trailing:!0});return i&&(i.addEventListener("scroll",o),i.addEventListener("wheel",a),o()),()=>{i&&(i.removeEventListener("scroll",o),i.removeEventListener("wheel",a))}}),[e,t,n]),i};var mo=n(46531);function xo(e){const[t,n]=(0,v.useState)(!1);return(0,v.useEffect)((()=>{const i=e.current,r=()=>{if(!i)return;const e=((null==i?void 0:i.scrollTop)??0)>0;e!==t&&n(e)};return null==i||i.addEventListener("scroll",r),()=>{null==i||i.removeEventListener("scroll",r)}}),[e,t]),t}let fo=function(e){return e.Visible="visible",e.Hidden="hidden",e.Unknown="unknown",e}({});const vo=(0,v.createContext)(null);vo.displayName="ConversationHeroContext";const yo=({initialConversationHeroVisible:e})=>{const[t,n]=(0,v.useState)(e);return(0,v.useMemo)((()=>({conversationHeroVisible:t,setConversationHeroVisible:n})),[t,n])};function bo(e){const{conversationHeroVisible:t}=(()=>{const e=(0,v.useContext)(vo);if(!e)throw new Error("useConversationHeroContext must be used within a ConversationHeroContext.Provider");return e})(),{whiteBackground:n}=N(),i=(0,ot.M5)(),r=xo(e);return!!i||!!n&&(r||!t)}var wo=n(93346),jo=n(90933);const Ao=(0,w.Ay)("div",{target:"e7p3sj51"})({name:"1jocp2f",styles:"display:flex;flex-direction:column;align-items:center;padding:0px 20px"}),ko=(0,w.Ay)("div",{target:"e7p3sj50"})("cursor:pointer;color:",(0,w.w4)("grey500"),";background-color:",(0,w.w4)("containerBaseNeutral"),";border-radius:50vh;box-shadow:0px 2px 8px 0px rgba(0, 0, 0, 0.08);border:1px solid rgba(0, 0, 0, 0.05);padding:10px;gap:6px;font-size:13px;line-height:19.5px;text-align:center;display:flex;align-items:center;justify-content:center;transition:transform ",150,"ms;&:hover{transform:scale(1.02);}"),Co=({onClick:e,avatarGroup:t,title:n})=>(0,x.jsx)(Ao,{"data-testid":"FloatingNotice",children:(0,x.jsxs)(ko,{onClick:e,children:[(0,x.jsx)(as,{avatarSize:16,cutoutSize:1,avatarGroup:t,displayActiveIndicator:!1,facePileStyle:"default"}),n]})});var So=n(75285);const To=(0,w.Ay)("p",{target:"ejd6b4u0"})("display:flex;flex-direction:column;align-items:center;gap:6px;font-size:14px;text-wrap:balance;color:",(0,w.w4)("headerTextColor"),";padding:16px 20px 0px;text-align:center;line-height:21px;"),_o=({text:e})=>(0,x.jsx)(To,{role:"complementary",tabIndex:0,children:e});var Eo=n(20169);const Bo=({conversation:e,conversationSuggestions:t,onSuggestionClicked:n,setComposerSuggestionsDismissed:i,onRetry:r,onReactionSelect:s,onArticleCardClick:o})=>{var a,l;const c=(0,Ur.x)(),{isFetching:d,isUpdating:p,parts:u,ticket:g,ticketId:m,readAt:f}=e,b=d&&!p,{name:w,isIntercomLinkEnabled:j}=(0,h.GV)(W.rp),A=(0,ot.M5)(),k=!!(0,h.GV)((t=>(0,wo.L9)(t,null==e?void 0:e.id))),C=e.teamIntro,S=e.specialNotice,T=0===(0,v.useMemo)((()=>(0,Bs.Jm)(u).length),[u]),_={conversation:e,setComposerSuggestionsDismissed:i,onClick:n,onHeightChange:()=>{}},E=e.footerNotice,B=(j||t||E)&&!k,N=!e.id,I=(0,v.useMemo)((()=>T&&e.ticket?Object.assign({},e,{parts:e.parts.filter((e=>"ticket_status_update"!==e.partType))}):e),[e,T]),{anchor:z,setAnchor:M,canScroll:R}=(0,ho.r)(),[P,O]=(0,v.useState)(f||void 0),L=(0,v.useMemo)((()=>u.filter((t=>{if("ticket_status_update"===t.partType){var n;const i=(0,So.kU)(null==(n=e.ticket)?void 0:n.readAt);return P&&t.createdAt>P&&(!i||t.createdAt>i)}var i,r;return P&&P<t.createdAt&&(null==(i=t.author)?void 0:i.type)&&"user"!==(null==(r=t.author)?void 0:r.type)&&"quick_reply"!==t.partType&&"merged_primary_conversation"!==t.partType}))),[u,null==(a=e.ticket)?void 0:a.readAt,P]),H=()=>{M(L[0]?{type:"item",id:"divider"}:{type:"bottom"}),O(new Date)},D=ts()(u,(e=>void 0!==e.tokenSequenceIndex)),[V,F]=(0,v.useState)(!1);(0,v.useLayoutEffect)((()=>{b||z||V||(N||(L[0]?M({type:"item",id:"divider",initialBehavior:"instant"}):M({type:"bottom",initialBehavior:"instant"})),V||F(!0))}),[b,V,F,L,z,M,N]);const q=(0,jo.zN)(e)&&!t.composerDisabled,G=(0,v.useRef)(null),U=go(G,{debounceTime:200}),$=!U&&"bottom"!==(null==z?void 0:z.type),[K,Y]=(0,v.useState)(0),Z=(({scrollViewRef:e,isComposerEnabled:t,footerNoticeHeight:n,didInitialScroll:i,anchor:r})=>{let s=n;t&&(s-=20);const o=go(e,{threshold:s,debounceTime:50});return i&&!o&&"bottom"!==(null==r?void 0:r.type)})({scrollViewRef:G,isComposerEnabled:q,footerNoticeHeight:K,didInitialScroll:V,anchor:z}),[J,Q]=(0,v.useState)(null);(0,v.useEffect)((()=>{if(D&&0===D.tokenSequenceIndex){if(U&&("item"!==(null==z?void 0:z.type)||"item"===(null==z?void 0:z.type)&&(null==z?void 0:z.id)!==D.id&&(null==z?void 0:z.id)!==D.clientId)){const e=ts()(u,(e=>{var t;return"user"===(null==(t=e.author)?void 0:t.type)}));Q(e||D),M({type:"item",id:(0,Bs.TS)(D)})}}}),[D,z,M,U,u]),(e=>{const t=(0,h.jL)(),n=(0,v.useCallback)((e=>{t((0,Jt.QL)(yt.Ay,e,{requestOrigin:"Conversation Body Fetch for Prevent Replies"}))}),[t]),{preventEndUserReplies:i,preventEndUserRepliesTimestamp:r,id:s}=e;(0,v.useEffect)((()=>{let e=null;if(i){let t=-1;r&&!isNaN(r)&&(t=Math.min(1e3*r+500-Date.now(),2147483647)),t>0&&(e=setTimeout((()=>{n(s)}),t))}return()=>{e&&clearTimeout(e)}}),[s,i,r,n])})(e);const X=bo(G);(0,v.useEffect)((()=>($&&O(new Date),()=>{})),[$]),(0,v.useEffect)((()=>{var e;const t=u[u.length-1];t&&(null==(e=t.author)?void 0:e.isSelf)&&!!P&&t.createdAt>P&&!(0,ii.rr)()&&M({type:"bottom"})}),[u,M,P]);const[ee,te]=(0,v.useState)(u.length),[ne,ie]=(0,v.useState)(L[0]?(0,Bs.TS)(L[0]):null);(0,v.useEffect)((()=>{const e=L[0]?(0,Bs.TS)(L[0]):null;u.length>ee&&(ie(U?null:e),te(u.length))}),[U,ee,u.length,L]);const{isMobileLandscape:re}=(()=>{const[e,t]=(0,v.useState)({isMobileSize:(0,zn.IS)(),isMobileLandscape:(0,zn.rx)()}),n=(0,v.useCallback)((()=>{t({isMobileSize:(0,zn.IS)(),isMobileLandscape:(0,zn.rx)()})}),[t]);return(0,v.useLayoutEffect)((()=>(window.parent.addEventListener("resize",n),()=>{window.parent.removeEventListener("resize",n)})),[n]),e})(),se=E&&!re;return(0,x.jsxs)(ms,{className:"intercom-conversation-body",children:[X&&(0,x.jsx)(mo.p,{}),(0,x.jsxs)(ho.Q.Content,{ref:G,onWheel:e=>{(0,Es.Xr)(e)},tabIndex:0,"aria-live":"assertive","aria-atomic":"false",role:"alert",children:[!b&&!T&&g&&m&&(0,x.jsx)(xs,{children:(0,x.jsx)(As,{to:(0,io.sq)(m),name:g.name})}),(0,x.jsx)("div",{className:"intercom-conversation-body-header",children:!b&&!(0,Eo.Z)().headerDisabled&&(0,x.jsxs)(x.Fragment,{children:[C&&(0,x.jsx)(_o,{text:C}),S&&(0,x.jsx)(uo,{textContent:S,isUnifiedStyling:A}),T&&g&&(0,x.jsx)(fs,{children:(0,x.jsx)(ro,{ticket:g})})]})}),(0,x.jsx)("div",{className:"intercom-conversation-body-main-group",children:b?(0,x.jsx)(y.A,{}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(hs.A,{errorText:"Something went wrong loading the conversation",align:"center",style:{marginTop:"20px",flex:1},children:(0,x.jsx)(ns.A,{appName:w,conversation:I,scrolledToBottom:U,canBeScrolled:R,frameWindow:c,onRetry:r,onReactionSelect:s,onArticleCardClick:o,firstUnreadPartId:ne,newMessagesLastReadAt:P,ensureIsScrollableToTopPart:J,clientAreaHeight:(null==(l=G.current)?void 0:l.clientHeight)??596})}),B&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(hs.A,{errorText:"Something went wrong loading the suggestions",align:"center",style:{marginBottom:"10px"},children:t&&(0,x.jsx)(is.A,Object.assign({},_,{conversationSuggestions:t}))}),E&&(0,x.jsx)(ls,{footerNotice:E,setFooterNoticeHeight:Y})]})]})})]}),(0,x.jsx)(us,{show:se?Z:$,isComposerEnabled:q,isConversationEnded:e.preventEndUserReplies,children:se?(0,x.jsx)(Co,{onClick:()=>H(),avatarGroup:E.avatarGroup,title:E.title}):(0,x.jsx)(bs,{onClick:()=>H(),notificationCount:L.length})})]})};var No=n(36215),Io=n(28381),zo=n(98099),Mo=n(18873),Ro=n(63156),Po=n(86655),Oo=n(5209);const Lo=({displayAsCompact:e})=>(0,x.jsx)(Oo.C,{displayAsCompact:e,focusable:"false","aria-hidden":"true",viewBox:"0 0 16 16",children:(0,x.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 1.92C0 0.859616 0.859611 0 1.92 0H14.08C15.1404 0 16 0.859611 16 1.92V14.08C16 15.1404 15.1404 16 14.08 16H1.92C0.859616 16 0 15.1404 0 14.08V1.92ZM8.02667 2.66667C7.65845 2.66667 7.36 2.96514 7.36 3.33333V8.54645C7.36 8.98101 7.71232 9.33333 8.14688 9.33333C8.44869 9.33333 8.69333 9.08869 8.69333 8.78688V3.33333C8.69333 2.96514 8.39488 2.66667 8.02667 2.66667ZM4 3.97333C4 3.60514 4.29847 3.30667 4.66667 3.30667C5.03486 3.30667 5.33333 3.60514 5.33333 3.97333V8.09355C5.33333 8.39536 5.08868 8.64 4.78689 8.64C4.3523 8.64 4 8.28768 4 7.85312V3.97333ZM10.72 3.97333C10.72 3.60514 11.0185 3.30667 11.3867 3.30667C11.7549 3.30667 12.0533 3.60514 12.0533 3.97333V8.09355C12.0533 8.39536 11.8087 8.64 11.5069 8.64C11.0723 8.64 10.72 8.28768 10.72 7.85312V3.97333ZM5.29535 10.7499C4.72752 10.6566 4.43612 10.6086 4.23185 10.7879C4.04791 10.9494 3.99797 11.2771 4.12032 11.5198C4.93205 13.1302 6.53451 13.8667 8.05333 13.8667C9.57216 13.8667 11.1746 13.1302 11.9863 11.5198C12.1087 11.2771 12.0588 10.9494 11.8748 10.7879C11.6706 10.6087 11.3791 10.6566 10.8113 10.7499C10.2383 10.8441 9.38384 10.9846 8.05333 10.9846C6.72283 10.9846 5.86837 10.8441 5.29535 10.7499Z",fill:"currentColor"})});function Ho({icon:e,displayAsCompact:t}){return"fin"===e?(0,x.jsx)(Lo,{displayAsCompact:t}):(0,x.jsx)(Po.A,{displayAsCompact:t})}const Do=(e,t)=>{const n=new URL(e),i=new URLSearchParams(n.search);return((e,t)=>{if(e.has("user_id")||e.set("user_id",t.userId||""),e.has("powered_by_app_id")||e.set("powered_by_app_id",t.appId||""),e.has("company")||e.set("company",t.appName),e.has("solution")||e.set("solution",t.intercomLinkSolution||""),e.has("utm_medium")||e.set("utm_medium","messenger"),e.has("utm_campaign")||e.set("utm_campaign","intercom-link"),!e.has("utm_content")){let n="4+";(t.location||t.currentView)&&(n+=`${t.location||t.currentView}+`),n+=t.isDeveloperWorkspace?"developer-workspace":"we-run-on-intercom",e.set("utm_content",n)}var n,i;e.has("utm_source")||e.set("utm_source",(0,ii.rr)()?"mobile-web":"desktop-web"),e.has("utm_referrer")||e.set("utm_referrer",encodeURI((null==(n=window)||null==(n=n.parent)||null==(n=n.location)?void 0:n.origin)+(null==(i=window)||null==(i=i.parent)||null==(i=i.location)?void 0:i.pathname)))})(i,t),n.search=i.toString(),n.toString()},Vo=(0,v.forwardRef)((function(e,t){const n=(0,h.GV)(g.V$),i=e.poweredBy,{userId:r,appName:s,intercomLinkSolution:o,appId:a,currentView:l="conversation",isDeveloperWorkspace:c,showOnSpaces:d,className:p,removeVerticalMargin:u=!1,isFadingOut:m}=e,f=(0,v.useCallback)((()=>Do((null==i?void 0:i.linkUrl)||"https://www.intercom.com/intercom-link",{userId:r,appId:a,appName:s,intercomLinkSolution:o,currentView:l,isDeveloperWorkspace:c})),[i,r,a,s,o,l,c]),y=(0,Ln.A)(),b=y.metaText,w=y.intercomLinkHoverDark;return(0,x.jsx)(Qi,{underConstruction:c,showOnSpaces:d,"data-testid":"intercom-link",ref:t,className:p,removeVerticalMargin:u,isFadingOut:m,children:(0,x.jsx)(nr,{children:i&&(0,x.jsx)(R.B1,{in:!!i,timeout:150,classNames:"powered-by",children:(0,x.jsxs)(tr,{foregroundColor:b,hoverColor:w,href:f(),onClick:()=>{const e=c?"developer_workspace":"we_run_on_intercom";(0,je.A5)("clicked",e,"messenger",l,{})},target:"_blank",showOnSpaces:d,displayAsCompact:n,children:[(0,x.jsx)(Ho,{icon:i.icon,displayAsCompact:n}),(0,x.jsx)(Ji,{id:"intercom-link-text","data-testid":"intercom-link-text",children:c?"Development Workspace":(null==i?void 0:i.text)||""})]})})})})}));var Fo=n(34179);(0,Be.Tl)("powered_by_intercom");const qo=(0,v.forwardRef)(((e,t)=>{const n=(0,h.GV)((e=>{var t;return null==(t=e.session)?void 0:t.appId})),i=(0,h.GV)((e=>{var t;return null==(t=e.user)?void 0:t.id})),r=(0,h.GV)((e=>{var t;return(null==e||null==(t=e.app)?void 0:t.name)||""})),s=(0,h.GV)((e=>{var t;return null==e||null==(t=e.app)?void 0:t.isDeveloperWorkspace})),o=function(){const e=(0,Fo.A)(),t=(0,h.GV)(W.rp);if(!(0,Eo.Z)().poweredByDisabled)return null!=e&&e.poweredBy?e.poweredBy:null!=t&&t.poweredBy?t.poweredBy:void 0}();return(0,x.jsx)(Vo,Object.assign({ref:t,poweredBy:o,appId:n,appName:r,userId:i,isDeveloperWorkspace:s},e))})),Go=qo;const Uo=(0,w.Ay)("div",{target:"e6876yz1"})({name:"22wb76",styles:"border-radius:0 0 6px 6px;z-index:3"}),$o=(0,w.Ay)(Go,{target:"e6876yz0"})({name:"ti75j2",styles:"margin:0"});const Wo=(0,w.Ay)("div",{target:"e1xe1m622"})("padding-bottom:2px;border-top:1px solid ",(0,w.w4)("composerBorder"),";background-color:",(0,w.w4)("containerBaseNeutral"),";box-shadow:none;border-color:",(0,w.w4)("lightBorder"),";"),Ko=(0,w.Ay)("div",{target:"e1xe1m621"})({name:"98unkj",styles:"padding-bottom:22px;text-align:center;display:flex;justify-content:center"}),Yo=(0,w.Ay)("div",{target:"e1xe1m620"})((({theme:e})=>(0,w.AH)("color:",e.isPrimaryColorLight?(0,Q.e$)(e.metaText,15):e.metaText,";"))," margin:24px auto 12px;text-align:center;font-size:14px;padding-top:0px;line-height:21px;color:",(0,w.w4)("grey500"),";");var Zo=n(38330),Jo=n(49444),Qo=n(27362),Xo=n(84443);function ea({styleVariant:e="primary",metricsContext:t,metadata:n={}}){const i=(0,h.jL)(),{showSpace:r}=Se(),s=(0,h.GV)(W.Ei),o=(0,h.GV)(W.ed),a=(0,h.GV)(W._D),l=(0,h.GV)(W.TB),c=(0,h.GV)(Jo.ow),d=l&&!c,u=(0,h.GV)(ir._9),{isStandalone:g}=(0,h.GV)(ir.hb),m=(0,h.GV)(Zo.hH),f=(0,h.GV)(Xo.$),v=()=>d?(0,Be.Tl)("messages_browse_articles_btn"):null!=u&&u.relatedConversationId?(0,Be.Tl)("continue_the_conversation"):m?m.text:o||!a?(0,Be.Tl)("ask_a_question"):(0,Be.Tl)("send_us_a_message");if(!s)return null;const y=d?"ArticleOpenBook":m?m.icon||"NewConversation":o||!a?"AskQuestion":"NewConversation";return(0,x.jsxs)(Qo.A,{onClick:()=>{if(d)r(p.ZL.id);else if(null!=u&&u.relatedConversationId)i((0,Jt.QL)(yt.Ay,u.relatedConversationId,{requestOrigin:"Article Related Conversation Click"})),i((0,Qt.p)(u.relatedConversationId));else{let e;!u||null!=f&&f.snapshotId||(e={partType:"article_link",messageType:"link",body:[{type:"link",title:u.title,linkType:"educate.article",articleId:u.id,description:u.description,url:u.url,author:u.author}],createdAt:new Date,sentAt:new Date,isMessage:!0}),i((0,Mt.p6)({articleUrl:null==u?void 0:u.url,articleID:null==u?void 0:u.id,articleIsStandalone:g,articleLinkPart:e})),(0,je.A5)("clicked","new_conversation","messenger",t,n)}},borderRadius:10,variant:e,"data-testid":"send-a-message-button","arai-label":v(),children:[v(),(0,x.jsx)(ae.In,{type:y,flipInRtl:"NewConversation"===y||"ComposerSend"===y})]})}const ta=({allowNewConversation:e,inboundConversationsDisabled:t,conversationEndedButton:n})=>{var i;const r=(0,h.jL)(),s=(null==n?void 0:n.title)||(0,Be.Tl)("conversation_has_ended"),o=null==n||null==(i=n.metadata)?void 0:i.merged_into_conversation_id,a=e&&!t&&o;return(0,x.jsxs)(Wo,{children:[(0,x.jsx)(Yo,{children:s}),a&&(0,x.jsx)(Ko,{children:n?(0,x.jsx)(br.A,{iconType:n.icon,onClick:()=>{"merged_into_conversation"===(null==n?void 0:n.reason)&&o&&(r((0,Jt.QL)(yt.Ay,o,{requestOrigin:"Conversation Ended Button"})),r((0,Qt.p)(o)))},variant:"secondary",children:n.text}):(0,x.jsx)(ea,{styleVariant:"primary_light"})})]})};var na=n(32589);const ia=(0,w.Ay)("a",{target:"e1quee1w1"})("display:inline-block;height:40px;font-size:14px;line-height:40px;pointer-events:auto;cursor:pointer;border-radius:40px;text-align:center;transition:all 120ms;padding:0 24px;span{padding-left:10px;white-space:nowrap;font-weight:600;}",(({variant:e,theme:t})=>"default"===e&&(0,w.AH)("background-color:",t.buttonBackgroundColor,"!important;color:",t.buttonTextColor,"!important;transition:color 0.3s,background-color 0.3s;&:hover{background-color:",t.buttonBackgroundColorHover,"!important;}&:active{background-color:",t.buttonBackgroundColorActive,"!important;}"))," ",(({variant:e,theme:t})=>"default"===e&&t.isPrimaryColorLight&&(0,w.AH)("border:1px solid ",t.borderEmphasisNeutral,";")),";"),ra=(0,w.Ay)("div",{target:"e1quee1w0"})({name:"8irbms",styles:"display:inline-flex;align-items:center"});class ContinueOnWhatsappButton extends v.PureComponent{constructor(...e){super(...e),this.handleContinueOnWhatsppClick=()=>(this.continueOnWhatsappMetric(),!0),this.continueOnWhatsappMetric=()=>{(0,je.A5)("clicked","continue_on_whatsapp","messenger",this.props.metricsContext,this.props.metadata)}}render(){const{IconComponent:e}=this.props;return(0,x.jsx)(ia,{href:"https://wa.me",target:"_blank",variant:"default",className:"continue-on-whatsapp-button",onClick:this.handleContinueOnWhatsppClick,children:(0,x.jsxs)(ra,{children:[(0,x.jsx)(e,{variant:"default"}),(0,x.jsx)("span",{children:(0,Be.Tl)("continue_on_whatsapp")})]})})}}ContinueOnWhatsappButton.defaultProps={IconComponent:function({variant:e}){return(0,x.jsx)(na.M,{focusable:"false","aria-hidden":"true",viewBox:"0 0 15 16",variant:e,children:(0,x.jsx)("g",{transform:"translate(-24.000000, -12.000000)",children:(0,x.jsx)("path",{d:"M25.4036262,27.3409362 C24.4176893,27.8509036 23.8195834,27.3951055 24.0683403,26.3201996 L25.0887779,21.910776 C25.2131242,21.3734618 25.7510472,20.8884231 26.3078778,20.8254187 L32.503417,20.1244045 C34.151155,19.9379658 34.1569707,19.6389088 32.503417,19.4549971 L26.3078778,18.7659164 C25.7589338,18.7048617 25.2129433,18.217839 25.0887779,17.6798715 L24.0683403,13.2586546 C23.8198614,12.1820783 24.408944,11.7182276 25.4036262,12.2327184 L38.22304,18.8634497 C39.208977,19.373417 39.2177223,20.1957141 38.22304,20.7102049 L25.4036262,27.3409362 Z"})})})},metadata:{}};const sa=(0,w.Ay)("div",{target:"e2smsy12"})("padding-bottom:2px;border-top:1px solid ",(0,w.w4)("composerBorder"),";background-color:",(0,w.w4)("containerBaseNeutral"),";box-shadow:rgba(0, 0, 0, 0.08) 0px 0px 20px 0px;"),oa=(0,w.Ay)("div",{target:"e2smsy11"})({name:"8vudpi",styles:"padding-bottom:22px;text-align:center"}),aa=(0,w.Ay)("div",{target:"e2smsy10"})((({theme:e})=>(0,w.AH)("color:",e.isPrimaryColorLight?(0,Q.e$)(e.metaText,15):e.metaText,";"))," margin:16px auto;text-align:center;font-size:13px;padding-top:4px;");class WhatsappSwitchedFooter extends v.Component{constructor(...e){super(...e),this.composer=void 0}render(){return(0,x.jsxs)(sa,{ref:e=>this.composer=e,children:[(0,x.jsx)(aa,{children:(0,Be.Tl)("can_continue_whatsapp")}),(0,x.jsx)(oa,{children:(0,x.jsx)(ContinueOnWhatsappButton,{metricsContext:"whatsapp"})})]})}}const la=(0,w.Ay)("div",{target:"e1jolh732"})("height:120px;background-color:",(0,w.w4)("inputBackground"),";border-radius:0 0 6px 6px;text-align:center;overflow:hidden;"),ca=(0,w.Ay)("div",{target:"e1jolh731"})("margin-top:20px;font-size:14px;line-height:150%;color:",(0,w.w4)("textColor"),";"),da=(0,w.Ay)("div",{target:"e1jolh730"})({name:"zbsgha",styles:"margin:8px 0 32px 0;display:flex;justify-content:center"});function pa({info:e,onJoinConversationClick:t}){const[n,i]=(0,v.useState)(!1);return(0,x.jsxs)(la,{children:[(0,x.jsx)(ca,{children:e}),(0,x.jsx)(da,{children:n?(0,x.jsx)(y.A,{}):(0,x.jsx)(Qo.A,{iconType:"NewConversation",onClick:()=>{i(!0),t()},borderRadius:10,"data-testid":"send-a-message-button",children:(0,Be.Tl)("join_conversation")})})]})}var ua=n(47335);function ha({name:e,children:t}){const n=(0,ua.A)(e);return"function"==typeof t?(0,x.jsx)(x.Fragment,{children:t(n)}):n?(0,x.jsx)(x.Fragment,{children:t}):null}var ga=n(18603);const ma=({linkUrl:e="http://zapier.com/privacy",linkLabel:t="Privacy Policy"})=>(0,x.jsx)(ga.v,{href:e,onClick:()=>{(0,je.A5)("clicked","privacy_policy","messenger","conversation",{})},target:"_blank","aria-label":e,children:(0,x.jsx)("span",{children:t})});const xa=function(e,t){const[n,i]=(0,v.useState)(!1),r=(0,v.useCallback)((()=>i(!0)),[]),s=(0,v.useCallback)((()=>i(!1)),[]);return(0,v.useEffect)((()=>{const t=e.current;return t&&(t.addEventListener("focusin",r),t.addEventListener("focusout",s)),()=>{t&&(t.removeEventListener("focusin",r),t.removeEventListener("focusout",s))}}),[e,r,s]),(0,v.useEffect)((()=>{t(n)}),[n,t]),n},fa=({isIntercomLinkEnabled:e,children:t})=>{const n=(0,v.useRef)(null),{setNewFooterHeight:i}=(0,v.useContext)(ds),r=xa(n,(e=>{s()})),s=()=>{if(n.current){var e;let t=(null==(e=n.current)?void 0:e.offsetHeight)||0;r&&(0,ii.rr)()&&(t-=26),i(t)}};return ri(n.current,s,0),(0,x.jsx)(gs,{isIntercomLinkEnabled:e,ref:n,"data-testid":"footer-container",children:t})};var va=n(14472),ya=n(91067);const ba=({conversation:e,shouldShowUpfrontEmailComposer:t,onJoinConversationClick:n,onReactionSelect:i,allowNewConversation:r,accessToTeammateEnabledAfterBot:s,composerDisabled:o})=>{var a,l;const c=(0,h.jL)(),d=(0,v.useRef)(null),p=(0,h.GV)(W.km),u=(0,h.GV)(zo.Vk),g=(0,h.GV)(W.a3),m=(null==e||null==(a=e.composerState)?void 0:a.placeholder)||(0,Be.Tl)("message_placeholder"),f=(0,h.GV)(W.MK),y=!(void 0===e.id||e.composerState.customBotActive),b=(0,h.GV)(W.xw),w=(0,h.GV)(W.ed),j=null!=e&&e.uxStyle?"bot"===e.uxStyle:w,A=(0,ua.A)("disableFinImageReading"),k=j&&A,C=(0,h.GV)(W.Bf)&&(0,ii.I1)()&&!k,S=(0,h.GV)(Mo.cE)&&!t,T=(0,ya.y)(),_=(0,v.useMemo)((()=>{if(o)return!0;const{parts:t,id:n}=e,i=t.filter((e=>"bot_intro"!==e.partType&&"article_link"!==e.partType&&"failed"!==e.saveState));return(!i||0!==i.length)&&!n}),[o,e]),E="whatsapp"===e.currentChannel,B=!!e.id&&!!u&&e.id===u,[N,I]=(0,v.useState)((null==e?void 0:e.defaultMessage)||No.A.loadDraft((null==e?void 0:e.id)||No.A.NEW_CONVERSATION_DRAFT_ID)||""),z=(0,h.GV)(W.Nl),M=(0,v.useCallback)((t=>{S&&(""===t.trim()?c((0,Io.mN)(null,null==e?void 0:e.id)):c((0,Io.bU)(t,null==e?void 0:e.id)))}),[null==e?void 0:e.id,c,S]),R=(0,v.useCallback)((t=>{I(t),c((0,Jt.GO)(null==e?void 0:e.id,t,new Date)),M(t)}),[null==e?void 0:e.id,c,M]),P=(0,jo.dF)(e),O=P&&P.reactionsReply&&"text"!==P.replyType;if(E)return(0,x.jsx)(Uo,{children:(0,x.jsx)(WhatsappSwitchedFooter,{})});if(O){const{reactionsReply:e}=P,{reactionSet:t,reactionIndex:n}=e;return(0,x.jsx)(Uo,{children:(0,x.jsx)(Ro.A,{reactionSet:t,reactionIndex:n,onReactionSelect:i})})}if(e.preventEndUserReplies)return(0,x.jsx)(Uo,{children:(0,x.jsx)(ta,{allowNewConversation:r,accessToTeammateEnabledAfterBot:s,inboundConversationsDisabled:e.inboundConversationsDisabled,conversationEndedButton:e.conversationEndedButton})});if(null!=(l=e.ticket)&&null!=(l=l.sharing)&&l.canJoin){var L;const t=null==(L=e.ticket)?void 0:L.sharing;return null!=t&&t.info?(0,x.jsx)(Uo,{children:(0,x.jsx)(pa,{info:t.info,onJoinConversationClick:n})}):null}const H={draftKey:(null==e?void 0:e.id)||No.A.NEW_CONVERSATION_DRAFT_ID,placeholder:m,disabled:_,autoFocus:!(0,ii.rr)()&&!B&&((null==T?void 0:T.composerShouldFocus)??!0),onSubmit:(t,n,i,r)=>{const s={clientId:(0,Xr.l)(),createdAt:new Date,body:t,file:n};c((0,Jt.yk)(yt.Ay,e.id,s,!1,e.id===u,e.lastParticipatingAdmin,g,i,r))},onChange:R,onTyping:()=>{o||c((0,Jt.xA)(null==e?void 0:e.id))}},D=(0,jo.wX)(e);return D?(0,x.jsx)(gs,{isIntercomLinkEnabled:p,children:p&&!z?(0,x.jsx)($o,{ref:d,intercomLinkSolution:e.intercomLinkSolution}):(0,x.jsx)("div",{})}):(0,x.jsxs)(fa,{isIntercomLinkEnabled:p,children:[!D&&(t?(0,x.jsx)(va.n,Object.assign({initialText:null==e?void 0:e.defaultMessage},H)):(0,x.jsx)(va.K,Object.assign({initialValue:null==e?void 0:e.defaultMessage,composerContent:N,forceShowSubmitButton:k,allowedActions:{emojis:!(0,ii.rr)(),gifs:!(0,ii.rr)()&&f&&!k,uploads:C?{allowMultipleUploads:y,allowedAttachmentExtensions:b}:void 0}},H))),p&&!z?(0,x.jsx)($o,{ref:d,intercomLinkSolution:e.intercomLinkSolution}):(0,x.jsx)("div",{}),!D&&!z&&(0,x.jsx)(ha,{name:"customerPrivacyPolicy",children:(0,x.jsx)(ma,{})})]})};var wa=n(22989),ja=n(7186),Aa=n(22973);const ka=e=>{if(e.length<=1)return!1;const t=[];for(const n in e)t.push(e[n].kind);return t.indexOf("string")>=0&&t.indexOf("file")>=0};var Ca=n(73669),Sa=n(5945),Ta=n(23043);const _a="cubic-bezier(0.23, 1, 0.32, 1)",Ea=320,Ba=230,Na=w.i7`
  0% {
    opacity: 0;
    transform: translateX(8px);
  }
  100% {
    opacity: 1;
    transform: translateX(0);
  }
`,Ia=w.i7`
  0% {
    opacity: 1;
    transform: translateX(0);
  }
  100% {
    opacity: 0;
    transform: translateX(8px);
  }
`,za=w.i7`
  0% {
    opacity: 0;
  }
  100% {
    opacity: 1;
  }
`,Ma=w.i7`
  0% {
    opacity: 1;
  }
  100% {
    opacity: 0;
  }
`,Ra=w.i7`
  0% {
    opacity: 0;
    transform: translateY(15px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
`,Pa=w.i7`
  0% {
    opacity: 1;
    transform: translateY(0);
  }
  100% {
    opacity: 0;
    transform: translateY(15px);
  }
`,Oa=(0,w.Ay)("div",{target:"elmmg9z0"})("display:flex;flex-direction:column;flex:1;max-width:100%;",Sa.Bp.className,"{",(({transition:e})=>"none"!==(null==e?void 0:e.transition.type)||"entered"!==(null==e?void 0:e.state)&&"entering"!==(null==e?void 0:e.state)?(0,w.AH)("opacity:1;transform:translateX(0);animation-name:",Na,";animation-duration:",Ea,"ms;animation-timing-function:",_a,";animation-delay:",Ba,"ms;animation-fill-mode:backwards;"):null),";}",Sa.ND.className,":after{animation-name:",za,";animation-duration:",Ea,"ms;animation-timing-function:",_a,";animation-delay:",Ba,"ms;animation-fill-mode:backwards;}",nr.className,"{",(({transition:e})=>"none"!==(null==e?void 0:e.transition.type)&&"fade"!==(null==e?void 0:e.transition.type)||"entered"!==(null==e?void 0:e.state)&&"entering"!==(null==e?void 0:e.state)?(0,w.AH)("opacity:1;transform:translateY(0);animation-name:",Ra,";animation-duration:",Ea,"ms;animation-timing-function:",_a,";animation-delay:",230,"ms;animation-fill-mode:both;"):null),";}",Uo.className,",",Ta.mc.className,"{opacity:1;transform:translateY(0);animation-name:",Ra,";animation-duration:",Ea,"ms;animation-timing-function:",_a,";animation-delay:",230,"ms;animation-fill-mode:both;}.intercom-messenger-from-inline-article-view &.intercom-messenger-body-view-enter,.intercom-messenger-from-browse-mode &.intercom-messenger-body-view-enter{",Sa.Bp.className,"{animation-delay:",Ba,"ms;}",Sa.ND.className,":after{animation-delay:",Ba,"ms;}",nr.className,",",Uo.className,",",Ta.mc.className,"{animation-delay:",250,"ms;}}&.intercom-messenger-body-view-enter{z-index:",(0,Bn.fE)(),";}&.intercom-messenger-body-view-exit{z-index:",(0,Bn.fE)(1),";",Sa.Bp.className,"{animation-name:",Ia,";animation-duration:",Ea,"ms;animation-timing-function:",_a,";animation-delay:",20,"ms;animation-fill-mode:both;}",Sa.ND.className,":after{animation-name:",Ma,";animation-duration:",Ea,"ms;animation-timing-function:",_a,";animation-delay:",20,"ms;animation-fill-mode:both;}",nr.className,",",Uo.className,",",Ta.mc.className,"{animation-name:",Pa,";animation-duration:",Ea,"ms;animation-timing-function:",_a,";animation-delay:",120,"ms;animation-fill-mode:both;}.intercom-messenger-from-conversation &{",nr.className,",",Ta.mc.className,"{animation:none;}}}&.intercom-messenger-body-view-exit-active{",nr.className,",",Ta.mc.className,"{opacity:0;}}",(({isFetching:e,transition:t})=>e&&(0,w.AH)(Sa.Bp.className,",",Uo.className,"{opacity:0;animation:none;}",nr.className,"{opacity:","none"!==(null==t?void 0:t.transition.type)&&"fade"!==(null==t?void 0:t.transition.type)||"entered"!==(null==t?void 0:t.state)&&"entering"!==(null==t?void 0:t.state)?0:1,";animation:none;}")),";");var La=n(18166);const Ha=(e,t)=>{var n;const i=null==(n=t.body)||null==(n=n.filter((e=>"createTicketCard"===e.type))[0])?void 0:n.ticket_type_id;(0,je.A5)("received","reply","messenger","in_conversation",{conversation_id:e.id,part_id:t.id,ticket_type_id:i})},Da=(e,t)=>{(0,je.A5)("received","operator_reply","messenger","in_conversation",{conversation_id:e.id,part_id:t.id,type:(0,jo.Am)(t)}),Va(e,t)},Va=(e,t)=>{const{form:n}=t;n&&n.attributes.forEach((({identifier:i})=>{let r="automated_lead_qualification";return"upfront_collection"===n.type&&(r="upfront_user_collection"),(0,je.A5)("received","operator_reply","messenger","in_conversation",{type:r,conversation_id:e.id,part_id:t.id,attribute_identifier:i,attribute_type:(0,jo.MF)(n,i),form_type:n.type,attribute_is_custom_data:(0,jo.S9)({identifier:i})})}))};var Fa=n(96742),qa=n(97899);var Ga=n(26311);const Ua=e=>{var t,n;const i=null==(t=e.session)?void 0:t.email,r=null==(n=e.user)?void 0:n.userSuppliedEmail;return i||r},$a=e=>{var t;return null==(t=e.session)?void 0:t.helpCenterSession},Wa=e=>{var t;return null==(t=e.user)?void 0:t.role},Ka=e=>{var t;return null==(t=e.user)?void 0:t.userHasEmail},Ya=(0,r.Ng)(((e,{conversation:t})=>{const{userConversationGifsEnabled:n}=e.app,{isPresent:i}=e.user,r=e.app&&e.app.officeHoursResponse,s=e.borderless,{lastParticipatingAdmin:o}=t,a=(0,W.Bf)(e),l=(0,W.K1)(e),c=(0,W.Ei)(e),d=(0,Mo.FK)(t)(e),p=(0,Mo.cE)(e),u=(0,W._D)(e),h=(e=>(0,cr.Mz)([qa.Vy,t=>(0,Mo.FK)(e)(t),e=>e.botIntro],((e,t,n)=>e||t.isInboundBotSuggestions?null:n.id?n:null)))(t)(e),g=(0,Mo.VV)(t)(e),m=(e=>{var t;return null==(t=e.user)?void 0:t.notificationLinkConversationId})(e);return{conversation:t,conversationSuggestions:d,userIsPresent:i,officeHoursResponse:r,isBorderless:s,lastParticipatingAdmin:o,uploadsEnabled:a,gifsEnabled:n,shouldShowUpfrontEmailComposer:l,allowNewConversation:c,selfServeSuggestionsEnabled:p,accessToTeammateEnabledAfterBot:u,eligibleBotIntro:h,eligibleSuggestionParts:g,notificationLinkConversationId:m}}),(e=>({onArticleCardClick:(t,n)=>e((0,Te.Y0)(t,n,!1)),onRetry:(t,n)=>{e((0,Jt.sD)(yt.Ay,t,n))},onReactionSelect:(t,n)=>{e((0,Jt.yf)(yt.Ay,t,n,!0))},setComposerSuggestionsDismissed:t=>{e((0,Io.B$)(t))},onAttachmentSubmit:(t,n,i,r,s=new Date)=>{const o={clientId:n,createdAt:s,body:i,file:r};e((0,Jt.yk)(yt.Ay,t,o))},onSuggestionClicked:(t,n,i,r)=>e((0,Fa.R)(yt.Ay,t,n,!1,i,!1,r)),onNewConversationClick:()=>{e((0,Mt.p6)("",!0))},deliverBotIntro:t=>{e((0,Ga.L)(t))},deliverComposerSuggestionParts:t=>{e((0,Io.Ak)(t))},onJoinConversationClick:t=>{e((0,Jt.Sh)(yt.Ay,t))}})),((e,t,n)=>{const i=e.conversation.id,r=e.officeHoursResponse,s={onAttachmentSubmit:(e,n)=>{t.onAttachmentSubmit(i,(0,Xr.l)(),e,n)},onRetry:n=>{t.onRetry(e.conversation,n)},onReactionSelect:e=>{t.onReactionSelect(i,e)},setComposerSuggestionsDismissed:()=>{t.setComposerSuggestionsDismissed(i)},onSuggestionClicked:n=>{const{conversation:i}=e,s=(0,Mo.xH)(i);return t.onSuggestionClicked(i,n,s,r)},onJoinConversationClick:()=>{t.onJoinConversationClick(i)}};return Object.assign({},n,e,t,s)}))((({conversation:e,conversationSuggestions:t,userIsPresent:n,shouldShowUpfrontEmailComposer:i,allowNewConversation:r,uploadsEnabled:s,onReactionSelect:o,onConversationRead:a,onRetry:l,onArticleCardClick:c,onAttachmentSubmit:d,onJoinConversationClick:p,deliverBotIntro:u,deliverComposerSuggestionParts:h,onSuggestionClicked:g,setComposerSuggestionsDismissed:m,selfServeSuggestionsEnabled:f,accessToTeammateEnabledAfterBot:y,eligibleBotIntro:b,eligibleSuggestionParts:w,notificationLinkConversationId:j})=>{var A,k,C;const S=(0,v.useRef)(null),{isFetching:T,isUpdating:_,fetchState:E,parts:B,composerState:N,ticket:I}=e,z=B.length?B[0]:void 0,M=(0,jo.dF)(e),R=(0,ua.A)("composerIsNotHiding"),P=e.parts.length>0&&"reactions"===e.parts[0].replyType;let L=N.disabled||!!z&&("saving"===z.saveState||"failed"===z.saveState);R||(L=!!z&&("saving"===z.saveState||"failed"===z.saveState));let H=!!N&&N.visible;R||(H=!!N&&(N.visible&&!N.disabled));const D=t.isInboundBotSuggestions&&t.composerDisabled,V=!H||e.preventEndUserReplies||D,F="attribute_collector"===(null==M?void 0:M.replyType)&&!(void 0!==M.form.attributes.find((({value:e})=>null!=e)));const q=!(V&&!e.preventEndUserReplies)&&!F,[G,U]=(0,v.useState)(!0);(0,v.useEffect)((()=>{!e.read&&n&&a&&a()}),[e,n,a]);const $=(0,jo.cG)(e),W=(0,wa.Z)($)||0;(0,v.useEffect)((()=>{"all"===E&&$>0&&$>W&&(e=>{const t=(0,jo.dF)(e);(0,jo.wy)(t)?Da(e,t):Ha(e,t)})(e)}),[E,$,W,e]);const K=(0,wa.Z)(I);(0,v.useEffect)((()=>{void 0===K&&void 0!==I&&(0,je.A5)("received","ticket_details","messenger","in_conversation",{ticket_type_id:I.ticketTypeId})}),[I,K]),((e,t,n,i)=>{const[r,s]=(0,v.useState)(!e.id&&"botIntroId"in e&&!e.botIntroId&&!t.isInboundBotSuggestions&&!e.articleUrl&&i);(0,v.useEffect)((()=>{r&&i&&(n(i),s(!1))}),[r,i,n])})(e,t,u,b),((e,t,n,i)=>{const[r,s]=(0,v.useState)(!e.id&&t.suggestionParts&&i);(0,v.useEffect)((()=>{r&&i&&(n(i),s(!1))}),[r,i,n])})(e,t,h,w),Ce({object:e.id?"conversation":"new_conversation",place:"messenger",context:j?"from_email":"",metadata:{conversation_id:e.id,self_serve_suggestions_enabled:!!f,url:null==(A=(0,Mn.KQ)())?void 0:A.href,ticket_type_id:null==(k=e.ticket)?void 0:k.ticketTypeId,status:null==(C=e.ticket)?void 0:C.status}});const Y=async e=>{const t=await(0,ja.kn)(e);if(t){const{width:n,height:i,src:r}=t,s=(0,Aa.U$)(t.src,e.name,e.type);d((0,Ca.Fp)(r,n,i),s)}else{const{name:t,type:n,size:i}=e;d((0,Ca.VJ)(t,n,i),e)}},Z=t=>{L||V||i||s&&t&&0!==t.length&&(P||(t=>{const{customBotActive:n}=N,i=void 0===e.id;if(t.length>5)return void(0,je.oS)("attachment_limit_exceeded",{file_count:t.length,place:"conversation"});const r=Array.from(t);i||n?Y(r[0]):r.forEach((e=>Y(e)))})(t))};return(0,x.jsx)(Oa,{className:"intercom-conversation",onPaste:e=>{Z((e=>{const t=e.clipboardData||e.originalEvent.clipboardData,{items:n}=t,i=[],r=ka(n);for(const e in n){const t=n[e];if("file"===t.kind&&!r){const e=t.getAsFile();i.push(e)}}return i})(e))},onDragOver:e=>{e.stopPropagation(),e.preventDefault()},onDrop:e=>{e.stopPropagation(),e.preventDefault(),Z((e=>e.dataTransfer.files)(e))},tabIndex:-1,role:"presentation",isFetching:T&&!_,transition:(0,O.t)(),ref:S,children:(0,x.jsx)(La.x,{children:(0,x.jsx)(ya.X.Provider,{value:{composerShouldFocus:G,setComposerShouldFocus:U},children:(0,x.jsxs)(ps,{children:[(0,x.jsx)(ho.Q.Root,{children:(0,x.jsx)(Bo,{conversation:e,conversationSuggestions:t,onArticleCardClick:c,onReactionSelect:o,onRetry:l,onSuggestionClicked:g,setComposerSuggestionsDismissed:m})}),q&&(0,x.jsx)(ba,{composerDisabled:R&&L,conversation:e,accessToTeammateEnabledAfterBot:y,shouldShowUpfrontEmailComposer:i,allowNewConversation:r,onReactionSelect:o,onJoinConversationClick:p})]})})})})}));var Za=n(68297);const Ja=(0,v.createContext)(null);Ja.displayName="AppWindowContext";const Qa=Ja;const Xa=(0,w.Ay)("div",{target:"ebn4jki0"})({name:"a7jy8",styles:"padding:20px 20px 40px;display:flex;flex-grow:1;justify-content:center;flex-direction:column;align-items:center"});const el=(0,w.Ay)("div",{target:"e1vu97tc2"})({name:"a7jy8",styles:"padding:20px 20px 40px;display:flex;flex-grow:1;justify-content:center;flex-direction:column;align-items:center"}),tl=(0,w.Ay)("p",{target:"e1vu97tc1"})({name:"1okn4kk",styles:"font-size:18px;font-weight:700;margin-bottom:12px"}),nl=(0,w.Ay)("p",{target:"e1vu97tc0"})({name:"1cxgb5o",styles:"font-size:14px;font-weight:400;margin-bottom:16px"});function il({errorTitle:e=(0,Be.Tl)("something_is_wrong"),errorMessage:t=(0,Be.Tl)("unable_to_load_the_messenger"),retryTitle:n=(0,Be.Tl)("try_again"),onRetry:i}){return(0,x.jsxs)(el,{children:[(0,x.jsx)(tl,{children:e}),(0,x.jsx)(nl,{children:t}),(0,x.jsx)(Qo.A,{onClick:i,variant:"primary",children:n})]})}var rl=n(52411);function sl({children:e}){const t=(0,h.jL)(),n=(0,h.GV)(W.Tf),i=(0,h.GV)(W.mF),r=(0,v.useCallback)((()=>{t((0,rl.W)())}),[t]);return n?(0,m.z)()?null:(0,x.jsx)(Xa,{"data-testid":"open-content-loading-spinner",children:(0,x.jsx)(y.A,{delay:i?0:300})}):(0,x.jsx)(x.Fragment,{children:i?(0,x.jsx)(il,{errorTitle:"Something's gone wrong",errorMessage:"Content could not be loaded",retryTitle:"Reload",onRetry:r}):e})}const ol=()=>{const e=(0,Fo.S)(),t=(0,h.jL)(),n=(0,h.GV)(zo.BJ),i=null==e?void 0:e.id,r=!(null!=e&&e.read&&null!=e&&e.readAt),s=(null==e?void 0:e.ticket)&&!(null!=e&&e.ticket.read),o=null==e?void 0:e.isFetching,a=(0,h.GV)(Ci.A),l=(0,v.useMemo)((()=>Jr()((()=>t((0,Jt.QL)(yt.Ay,i,{isUpdating:!0,requestOrigin:"Conversation visibility/focus change"}))),5e3,{leading:!0,trailing:!1})),[t,i]);(e=>{const t=(0,h.jL)(),n=(0,h.GV)(Ci.A),{enabled:i,startTimeout:r,syncInterval:s}=(0,h.GV)(W.eI),o=e?(0,jo.dF)(e):void 0,a=null==o?void 0:o.createdAt,l=(0,v.useCallback)((()=>{if(i&&n&&null!=e&&e.id){const n=(new Date).getTime();a&&n-a.getTime()>=r&&t((0,Jt.QL)(yt.Ay,e.id,{isUpdating:!0,requestOrigin:yt.r0,lastAdminPartCreatedAt:a.toISOString(),lastAdminPartId:o.id}))}}),[e,i,n,t,a,r,o]);(0,Za.A)(l,s)})(e),(0,v.useEffect)((()=>{i&&t((0,Jt.Ew)())}),[i,t]),(0,v.useEffect)((()=>{a&&i&&!o&&(r||s)&&t((0,Jt.$G)(yt.Ay,i))}),[t,a,i,r,o,s]);const c=(0,v.useContext)(Qa),d=(0,v.useCallback)((()=>{i&&c&&("visible"===c.document.visibilityState||c.document.hasFocus())&&l()}),[i,c,l]);return(0,v.useEffect)((()=>{if(c)return["focus","visibilitychange"].forEach((function(e){c.addEventListener(e,d)})),()=>{["focus","visibilitychange"].forEach((function(e){c.removeEventListener(e,d)}))}}),[d,c]),(0,x.jsx)(sl,{children:(0,x.jsx)(Qr,{children:(0,x.jsx)(Ya,{conversation:e||n,frameWindow:window,appWindow:window})})})},al={isLoaded:!1,expanded:null,collapsed:null,displayActiveIndicator:!1,useBotHeader:!1,hideGreeting:!0},ll=(0,w.Ay)("button",{target:"e1jajdke0"})("display:flex;flex-direction:row;justify-content:center;align-items:center;padding:8px 12px;margin-left:10px;margin-right:4px;gap:6px;font-style:normal;font-weight:600;font-size:14px;white-space:nowrap;line-height:20px;color:",(0,w.w4)("textDefault"),";background:rgba(0, 0, 0, 0.1);border-radius:20px;transition:all 0.2s ease-in-out;&:hover{background:rgba(0, 0, 0, 0.2);}"),cl=()=>{const e=(0,h.jL)();return(0,x.jsxs)(ll,{onClick:()=>{e((0,Mt.p6)())},children:[(0,x.jsx)(ae.Ay,{type:"Retry",color:"iconDefault"}),(0,x.jsx)("div",{children:"Start again"})]})};var dl=n(33149),pl=n(5994);const ul=(0,w.Ay)("div",{target:"e19u07ry5"})("display:flex;flex-direction:column;justify-content:center;align-items:start;gap:4px;color:",(0,w.w4)("headerTitleColor"),";"),hl=(0,w.Ay)("div",{target:"e19u07ry4"})({name:"1wovfva",styles:"display:flex;flex-direction:row;gap:8px;width:100%"}),gl=(0,w.Ay)("h1",{target:"e19u07ry3"})("font-size:16px;font-weight:600;color:",(0,w.w4)("headerTitleColor"),";line-height:1.1em;overflow:hidden;display:flex;gap:8px;max-height:2.3em;"),ml=(0,w.Ay)("div",{target:"e19u07ry2"})("color:",(0,w.w4)("headerTextColor"),";padding-right:4px;font-size:14px;overflow:hidden;font-weight:400;display:flex;align-items:center;gap:4px;"),xl=(0,w.Ay)("span",{target:"e19u07ry1"})({name:"lxc9cq",styles:"overflow:hidden;line-height:1.1em;max-height:2.4em;display:block"}),fl=(0,w.Ay)("div",{target:"e19u07ry0"})("width:",(({fullWidth:e})=>e?"100%":"auto"),";"),vl=(0,w.Ay)("div",{target:"erximzr0"})((({fullWidth:e})=>e&&"width: 100%;")," &.fade-enter{opacity:0;}&.fade-enter-active{opacity:1;transition:opacity ",150,"ms;}&.fade-exit{opacity:1;}&.fade-exit-active{opacity:0;transition:opacity ",150,"ms;}"),yl=({transitionKey:e,children:t,fullWidth:n})=>{const i=(0,v.useRef)(null);return(0,x.jsx)(R.wY,{children:(0,x.jsx)(R.B1,{addEndListener:e=>{var t;return null==(t=i.current)?void 0:t.addEventListener("transitionend",e,!1)},classNames:"fade",nodeRef:i,children:(0,x.jsx)(vl,{ref:i,fullWidth:n,children:t})},e)})},bl={clock:"ClockM5",ai:"AICurved"},wl=({title:e,subtitle:t,icon:n,avatarGroup:i,displayActiveIndicator:r=!1})=>{const s=n?bl[n]:null,o=!t&&!n&&!i,a=o?"1":"2";return(0,x.jsx)(yl,{transitionKey:a,fullWidth:!o,children:(0,x.jsx)(fl,{fullWidth:!o,children:o?(0,x.jsx)(_r.Title,{children:e}):(0,x.jsxs)(hl,{children:[(0,x.jsx)(as,{avatarSize:32,avatarGroup:i,displayActiveIndicator:r}),(0,x.jsxs)(ul,{children:[(0,x.jsx)(gl,{children:e}),t&&(0,x.jsxs)(ml,{children:[s&&(0,x.jsx)(ae.Ay,{inline:!0,type:s,size:16}),(0,x.jsx)(xl,{children:t})]})]})]})})})};var jl=n(83505),Al=n(34743),kl=n(96117);const Cl=(0,v.createContext)(void 0);Cl.displayName="DropdownMenuContext";const Sl=()=>{const e=(0,v.useContext)(Cl);if(void 0===e)throw new Error("useDropdownMenuContext must be used within a DropdownMenuProvider");return e},Tl=["children","onClick"];const _l=(0,v.forwardRef)(((e,t)=>{let{children:n,onClick:i}=e,r=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(-1!==t.indexOf(i))continue;n[i]=e[i]}return n}(e,Tl);if(v.Children.count(n)>1)throw new Error("Only single element as the trigger");if(!(0,v.isValidElement)(n))throw new Error("Invalid element");return(0,v.cloneElement)(n,Object.assign({},r,n.props,{ref:t,className:`${r.className} ${n.props.className}`,onClick:e=>{i&&i(e),n.props.onClick&&n.props.onClick()}}))})),El=["children"];const Bl=(0,w.Ay)(re.A,{target:"e18h0w5d0"})({name:"9aeb3p",styles:"padding:28px 20px;z-index:20"}),Nl=["children"];const Il=({children:e,defaultOpen:t=!1,offset:n=10,onOpen:i})=>{const{refs:r,floatingStyles:s}=(0,jl.we)({placement:"bottom-end",middleware:[(0,Al.cY)(n),(0,Al.UU)()]}),[o,a]=(0,v.useState)(t),l=(0,v.useCallback)((e=>{a(e),i&&e&&i()}),[i]);return(0,kl.A)([r.floating,r.reference],(0,v.useCallback)((()=>l(!1)),[l]),!o),(0,x.jsx)(Cl.Provider,{value:{refs:r,floatingStyles:s,open:o,setOpen:l},children:e})},zl=e=>{const{refs:t,open:n,setOpen:i}=Sl();if("asChild"in e&&!0===e.asChild)return(0,x.jsx)(_l,Object.assign({onClick:()=>i(!n),ref:t.setReference,"data-state":n?"open":"closed"},e));const{onClick:r}=e;return(0,x.jsx)("button",Object.assign({onClick:e=>{i(!n),r&&r(e)},ref:t.setReference,"data-state":n?"open":"closed"},e,{tabIndex:"0"}))},Ml=e=>{let{children:t}=e,n=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(-1!==t.indexOf(i))continue;n[i]=e[i]}return n}(e,El);const{refs:i,floatingStyles:r,open:s}=Sl();return s?(0,x.jsx)(Bl,Object.assign({ref:i.setFloating,style:r},n,{children:(0,x.jsx)(se.A,{noDivider:!0,children:t})})):null},Rl=e=>{let{children:t}=e,n=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(-1!==t.indexOf(i))continue;n[i]=e[i]}return n}(e,Nl);return(0,x.jsx)(oe.A,Object.assign({size:"small",role:"button"},n,{children:t}))};const Pl=(0,w.Ay)(Il,{target:"e1s4y8682"})(),Ol=(0,w.Ay)(Ml,{target:"e1s4y8681"})({name:"mzgeh9",styles:"padding:16px 20px;z-index:110"}),Ll=(0,w.Ay)(Rl,{target:"e1s4y8680"})({name:"1n0y3b6",styles:"font-size:14px;font-weight:normal;line-height:1.5;max-width:260px;padding-top:10px;padding-bottom:10px"});const Hl=(0,w.Ay)(zl,{target:"e1q6rcge1"})("@media not (hover: hover){&[data-state='open']{background:",(({theme:e})=>e.headerButtonHoverBackgroundColor),";}}svg{path{fill:",(({theme:e})=>e.iconDefault),";}}@media (hover: hover){transition:outline 0.2s;",(({theme:e,whiteBackground:t})=>t?(0,Q.e$)(e.containerBaseNeutral,10):(0,Q.e$)(e.secondaryColor,10)),";}"),Dl=(0,w.Ay)("button",{target:"e1q6rcge0"})({name:"1ka6mps",styles:"position:relative;width:100%;min-height:40px;padding:6px 12px;box-sizing:border-box;text-align:center;font-weight:700;cursor:default"}),Vl=({isActionProcessing:e=!1})=>{const{whiteBackground:t}=N();return(0,x.jsx)(Hl,{asChild:!0,whiteBackground:t,children:e?(0,x.jsx)(Dl,{"data-testid":"more-menu-loading-container",children:(0,x.jsx)(y.A,{size:"small",inline:!0})}):(0,x.jsx)(_r.Button,{iconType:"EllipsisHorizontalIcon","aria-label":(0,Be.Tl)("home_space_title"),"data-testid":"more-menu-trigger"})})},Fl=({items:e,defaultOpen:t=!1,onOpen:n})=>{const i=e.some((e=>e.isLoading));return(0,x.jsxs)(Pl,{defaultOpen:t,onOpen:n,children:[(0,x.jsx)(Vl,{isActionProcessing:i}),(0,x.jsx)(Ol,{children:e.map((e=>(0,v.createElement)(ql,Object.assign({},e,{key:e.id}))))})]})},ql=({onClick:e,icon:t,label:n,disabled:i,id:r})=>{const s=(0,x.jsx)(ae.In,{type:t,color:"linkColor"}),{setOpen:o}=Sl(),a=(0,v.useCallback)((()=>{e(),o(!1)}),[e,o]);return(0,x.jsx)(Ll,{hoverBackground:!0,onClick:a,left:s,disabled:i,id:r,children:n},`more-menu-item-${r}`)};var Gl=n(51965),Ul=n(63148);const $l=(0,w.Ay)("div",{target:"e1izh3060"})({name:"107gg21",styles:"height:64px"}),Wl=()=>{const{setHeight:e}=N();return(0,x.jsx)(lt.A,{onHeightChange:t=>e(t),children:(0,x.jsx)($l,{})})},Kl=()=>{const e=(0,ot.M5)(),t=function(){const[e]=(0,s.useSearchParams)(),t=(0,s.useNavigate)(),n=(0,h.jL)(),i=(0,pl.CH)((0,s.useLocation)().search).backFallbackRoute,r=(0,dl.Jl)(-1),o=e.get("fromArticleID"),a="true"===e.get("fromStandaloneArticle"),l=(0,h.GV)(zo.BJ);return()=>{o&&(null!=l&&l.fromStandaloneArticle||a?n((0,Te.GN)(o,{},!0)):n((0,Te.L7)(o,null,!0))),null!==r&&"/loading"!==r.pathname?t(-1):t(i||"/messages",{replace:!0})}}(),n=(0,Fo.A)(),i=(e=>{const t=(0,h.GV)(Zo.CL),n=(null==e?void 0:e.header)||t;if(!n||!t)return al;if(e&&"all"!==e.fetchState)return al;if((0,jo.wX)(e))return al;const{collapsed:i,hideGreeting:r,useBotHeader:s=!1,displayActiveIndicator:o=!1}=n,a=n.expanded||t.expanded;return i&&a?{isLoaded:!0,expanded:a,collapsed:i,displayActiveIndicator:o,useBotHeader:s,hideGreeting:r}:al})(n),r=(0,ua.A)("conversationsAreExpandable"),{context:o,meta:a}=(0,Gl.M)(),{isLoaded:l}=i,c=function(){const e=(0,Fo.A)(),t=(0,h.jL)(),n=(0,m.z)(),i=(0,jo.wX)(e),r=(0,ua.A)("endSalesforceConversation"),[s,o]=(0,v.useState)(!1),a=(0,v.useCallback)((()=>{null!=e&&e.id&&((0,je.A5)("download_transcript","conversation","messenger","more_menu",{conversation_id:e.id}),t((0,Jt.Cw)(e.id)))}),[e,t]),l=(0,v.useCallback)((()=>{null!=e&&e.id&&(o(!0),t((0,Ul.EM)(yt.Ay,e.id)))}),[e,t]),c=[{label:(0,Be.Tl)("download_transcript"),icon:"Download",onClick:a,id:"download-transcript"}],{composerState:d}=e||{};return!r||n||i||null!=e&&e.inboundConversationsDisabled||null==d||!d.visible||c.push({label:"End conversation",icon:"CloseM5",onClick:l,id:"end-conversation",disabled:s,isLoading:s}),c}(),{hideConversationHeader:d}=(0,h.GV)((e=>e.app)),p=(0,x.jsx)(Fl,{items:c,onOpen:()=>{(0,je.A5)("clicked","more_menu","messenger",o,a)}});if((0,Eo.Z)().headerDisabled||d)return(0,x.jsx)(x.Fragment,{});if(!l)return(0,x.jsx)(Wl,{});const{collapsed:u,displayActiveIndicator:g,useBotHeader:f}=i,y=(0,m.z)()&&!(null==n||!n.id)&&"state_closed"!==(null==n?void 0:n.state),b=!(0,m.z)(),w=(n||y)&&(0,x.jsxs)(x.Fragment,{children:[n&&(0,x.jsx)(x.Fragment,{children:p}),y&&(0,x.jsx)(cl,{})]}),j=b&&(0,x.jsx)(_r.BackButton,{onBack:t});return(0,x.jsx)(_r.Content,{whiteBackground:!e&&f,children:(0,x.jsx)(_r.TitleArea,{leftButtonArea:j,rightButtonArea:w,showExpandButton:r,children:(0,x.jsx)(wl,{title:u.title,subtitle:u.subtitle,icon:u.icon,avatarGroup:u.avatarGroup,displayActiveIndicator:g})})})};var Yl=n(71784);const Zl="#47EB81",Jl="#FCD54A",Ql=300,Xl=600,ec=w.i7`
  from {
    background-color: ${Jl}
  }
  to {
    background-color: ${Zl}
  }
`,tc=(0,w.Ay)("div",{target:"e1q4x2x90"})("display:flex;justify-content:space-between;align-items:center;min-height:",(0,w.xk)("height"),"px;height:",(0,w.xk)("height"),"px;padding-left:18px;padding-right:18px;padding-top:4px;padding-bottom:4px;font-size:13px;",(({connectionState:e})=>"connected"===e&&(0,w.AH)("animation:",ec," 300ms;"))," ",(({connectionState:e})=>"connected"===e?(0,w.AH)("background-color:",Zl,";"):(0,w.AH)("background-color:",Jl,";"))," &.realtime-status-banner{&-enter{opacity:0;min-height:0px;height:0px;padding-top:0px;padding-bottom:0px;transform:translateY(100%);}&-enter-active{opacity:1;transform:translateY(0);min-height:",(0,w.xk)("height"),"px;height:",(0,w.xk)("height"),"px;padding-top:4px;padding-bottom:4px;transition:transform ",Ql,"ms,min-height ",Ql,"ms,height ",Ql,"ms,opacity ",Ql,"ms,padding-top ",Ql,"ms,padding-bottom ",Ql,"ms;}&-exit{opacity:1;min-height:",(0,w.xk)("height"),"px;height:",(0,w.xk)("height"),"px;padding-top:4px;padding-bottom:4px;transform:translateY(0);}&-exit-active{opacity:0;transform:translateY(100%);min-height:0px;height:0px;padding-top:0px;padding-bottom:0px;transition:transform ",Ql,"ms ",Xl,"ms,min-height ",Ql,"ms ",Xl,"ms,height ",Ql,"ms ",Xl,"ms,opacity ",Ql,"ms ",Xl,"ms,padding-top ",Ql,"ms ",Xl,"ms,padding-bottom ",Ql,"ms ",Xl,"ms;}}");var nc=n(37798),ic=n(34120);const rc={[Yl.gK]:(0,Be.Tl)("connecting"),[Yl.w3]:(0,Be.Tl)("cant_load_new_messages"),[Yl.a$]:(0,Be.Tl)("successfully_reconnected")};function sc({height:e=44}){const t=(0,h.jL)(),n=(0,h.GV)(nc.g);Ce({object:"realtime_status_banner_visible",context:"in_conversation",place:"messenger",sendMetricCondition:n===Yl.w3});const i=(0,v.useCallback)((()=>{n===Yl.w3&&(t((0,ic.t9)()),(0,je.A5)("clicked","realtime_status_banner","messenger","in_conversation",{retry_connection:!0}))}),[t,n]),r=(0,v.useRef)(null);return(0,x.jsx)(R.B1,{in:n===Yl.w3||n===Yl.gK,classNames:"realtime-status-banner",mountOnEnter:!0,unmountOnExit:!0,timeout:{enter:300,exit:900},nodeRef:r,children:(0,x.jsxs)(tc,{connectionState:n,height:e,ref:r,children:[(0,x.jsx)("span",{children:rc[n]}),n===Yl.w3?(0,x.jsx)("button",{onClick:i,tabIndex:"0",children:(0,x.jsx)("b",{children:(0,Be.Tl)("reconnect")})}):null]})})}const oc=(0,w.Ay)("div",{target:"e1a1lpa63"})({name:"1k9nd1b",styles:"align-self:center;display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding:12px 16px;gap:12px;margin-bottom:16px;width:calc(100% - 72px);background:rgba(0, 0, 0, 0.04);border-radius:12px"}),ac=(0,w.Ay)("span",{target:"e1a1lpa62"})("font-style:normal;font-weight:400;font-size:13px;line-height:16px;color:",(0,w.w4)("inputGreyDark"),";a,a:visited,a:hover,a:active{color:inherit;text-decoration:underline;}"),lc=(0,w.Ay)("div",{target:"e1a1lpa61"})({name:"1p9mi4i",styles:"width:16px;height:16px;display:flex;justify-content:center;align-items:center"}),cc=(0,w.Ay)("div",{target:"e1a1lpa60"})("cursor:pointer;display:flex;color:",(0,w.w4)("grey500"),";"),dc=()=>{const{privacyPolicyNoticeText:e,isEnabled:t}=(0,h.GV)(W.q2),n=(0,h.jL)(),i=(0,v.useCallback)((()=>{n((0,Mt.Pw)())}),[n]);return t&&e&&(0,x.jsxs)(oc,{children:[(0,x.jsx)(ac,{children:(0,x.jsx)(St.y,{text:e,tagName:"div",className:"intercom-block-paragraph",align:"left",noMargin:!0})}),(0,x.jsx)(cc,{children:(0,x.jsx)(lc,{"data-testid":"dismiss-privacy-policy-notice","aria-label":(0,Be.Tl)("dismiss"),onClick:()=>i(),children:(0,x.jsx)(ae.Ay,{type:"Close",size:9})})})]})},pc=()=>{const e=yo({initialConversationHeroVisible:fo.Unknown});return(0,x.jsx)(vo.Provider,{value:e,children:(0,x.jsxs)(V,{header:(0,x.jsx)(Kl,{}),children:[(0,x.jsx)(ol,{}),(0,x.jsx)(dc,{}),(0,x.jsx)(sc,{})]})})},uc=()=>{const e=yo({initialConversationHeroVisible:fo.Unknown});return(0,x.jsx)(vo.Provider,{value:e,children:(0,x.jsxs)(V,{header:(0,x.jsx)(Kl,{}),children:[(0,x.jsx)(ol,{}),(0,x.jsx)(dc,{}),(0,x.jsx)(sc,{})]})})};const hc=(0,w.Ay)("div",{target:"e1cx53rm0"})({name:"1d3w5wq",styles:"width:100%"});class MessengerTriggerScreen extends v.PureComponent{renderError(){return(0,x.jsx)(Me.A,{duration:200,animationKey:"error-state",children:(0,x.jsx)(il,{onRetry:this.props.handleTryAgain})})}renderLoading(){return(0,x.jsx)(y.A,{delay:300})}render(){const{failed:e}=this.props;return(0,x.jsxs)(hc,{children:[e&&this.renderError(),!e&&this.renderLoading()]})}}var gc=n(4908),mc=n(98333);function xc(){return e=>{e((0,gc.dv)(yt.Ay))}}const fc=(0,r.Ng)((function(e){return{failed:(0,mc.WY)(e)}}),(function(e){return(0,lr.zH)({handleTryAgain:xc},e)}))(MessengerTriggerScreen),vc=()=>(0,x.jsxs)(V,{header:null,children:[(0,x.jsx)(fc,{}),";"]}),yc=e=>{var t;const n=(0,h.GV)(g.$B);return null==n||null==(t=n.find((t=>t.id===(null==e?void 0:e.id))))?void 0:t.title};function bc({whiteBackground:e,space:t,inSheet:n}){const i=yc(t),r=(0,s.useNavigate)(),o=(0,h.GV)(g.V$),{whiteBackground:a}=N(),l="default"===e?a:e;return(0,x.jsx)(Er,{title:i,whiteBackground:l,onBack:o||n?()=>r(-1):void 0,backDirection:n?"down":"left"})}var wc,jc;function Ac(){return Ac=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ac.apply(null,arguments)}const kc=e=>v.createElement("svg",Ac({xmlns:"http://www.w3.org/2000/svg",width:33,height:32,fill:"none",viewBox:"0 0 33 32"},e),wc||(wc=v.createElement("path",{fill:"#000",fillRule:"evenodd",d:"M27.333 2.667a2.5 2.5 0 0 1 2.5 2.5v23.778c0 1.335-1.613 2.005-2.558 1.063L21.245 24H5.667a2.5 2.5 0 0 1-2.5-2.5V5.167a2.5 2.5 0 0 1 2.5-2.5z",clipRule:"evenodd"})),jc||(jc=v.createElement("path",{fill:"#fff",fillRule:"evenodd",d:"M23 9.667a1 1 0 0 1 0 2H9.667a1 1 0 1 1 0-2zm-6 6.666a1 1 0 1 1 0 2h-6.667a1 1 0 0 1 0-2z",clipRule:"evenodd"})));const Cc=(0,w.Ay)("div",{target:"e4tjxi33"})({name:"13uqxbu",styles:"flex:1;width:100%;max-height:100%;overflow-y:scroll;-webkit-overflow-scrolling:touch"}),Sc=(0,w.Ay)(se.A,{target:"e4tjxi32"})((({addBottomPadding:e})=>(0,w.AH)("padding:0 0 ",e?80:0,"px 0;")),";"),Tc=(0,w.Ay)("div",{target:"e4tjxi31"})("z-index:",(0,Bn.fE)(1),";text-align:center;position:absolute;bottom:0;left:0;right:0;border-radius:0 0 6px 6px;display:flex;align-items:center;justify-content:center;pointer-events:none;",(({showFade:e,theme:t})=>e&&(0,w.AH)("background:linear-gradient(0deg, ",t.alphaWhite100,", ",t.baseAlpha,");"))," ",(({largeFade:e})=>(0,w.AH)("height:",e?150:90,"px;")),";"),_c=(0,w.Ay)("div",{target:"e4tjxi30"})({name:"2rlegz",styles:"display:flex;flex-direction:column;align-items:center;justify-content:center;gap:20px;margin:0 35px;min-height:100%;h2{font-size:18px;line-height:24px;font-weight:600;}span{font-weight:400;line-height:20px;font-size:14px;text-align:center;}button{position:absolute;bottom:20px;}"});function Ec(){return(0,x.jsx)(Cc,{children:(0,x.jsxs)(_c,{children:[(0,x.jsx)(kc,{}),(0,x.jsx)("h2",{children:(0,Be.Tl)("messages_empty_state_title")}),(0,x.jsx)("span",{children:(0,Be.Tl)("messages_empty_state_text")}),(0,x.jsx)(ea,{})]})})}const Bc=({conversations:e,showFooterFade:t,largeFooterFade:n,onConversationClick:i,onScroll:r})=>{const{whiteBackground:s}=N(),o=(0,ot.M5)(),a=(0,v.useRef)(null),l=(0,v.useMemo)((()=>ni()((e=>{const t=e.target,n=(0,d.T5)(t);r(t.scrollTop,n)}),200)),[r]),c=xo(a);return(0,x.jsxs)(Cc,{"data-testid":"messages-body",onScroll:l,onWheel:d.b$,ref:a,children:[s&&c&&!o?(0,x.jsx)(mo.p,{}):null,(0,x.jsx)(Sc,{addBottomPadding:t,children:e.map((e=>(0,x.jsx)(mn,{conversation:e,onClick:()=>{return t=e.id,(0,je.A5)("clicked",t?"conversation":"new_conversation","messenger","from_conversation_list",{conversation_id:t}),void i(t);var t}},e.id)))}),(0,x.jsx)(Tc,{showFade:t,largeFade:n})]})},Nc=(0,cr.Mz)([W.TB,W.Ei,wo.DP],((e,t,n)=>!n&&(!e&&t)));var Ic=n(79751);const zc=()=>{const e=(0,h.GV)(wo.dI),t=(0,h.GV)(wo.PE),n=(0,h.GV)(W._D),i=(0,h.GV)(Nc),r=(0,h.GV)(g.$P).length>1,{isFetching:s=!0,pagesFetched:o=0,totalPages:a=0}=(0,h.GV)(wo.bX),l=(0,h.jL)(),c=(0,v.useCallback)((e=>{l((0,Ic.lS)(yt.Ay,"onConversationsPage",e,10))}),[l]),d=(0,v.useCallback)(((e,t)=>{l((0,Ic.xb)(e));!s&&o<a&&t>.5&&c(o+1)}),[l,s,o,a,c]);return Ce({object:"conversation_list",place:"messenger"}),t?(0,x.jsx)(Ec,{}):(0,x.jsx)(Bc,{conversations:e,accessToTeammateEnabledAfterBot:n,onScroll:d,onConversationClick:e=>{l((0,Jt.QL)(yt.Ay,e,{requestOrigin:"Messages Page - Click Conversation"})),l((0,Qt.p)(e))},showFooterFade:i,largeFooterFade:!r})},Mc=e=>async()=>{const t=e.getState();return 0!==t.conversations.pagesFetched||t.conversations.isFetching||e.dispatch((0,Ic.lS)(yt.Ay,"Messages route loader")),null},Rc=()=>{const{isFetching:e=!0,pagesFetched:t=0}=(0,h.GV)(wo.bX),n=e&&0===t;return(0,x.jsx)(V,{header:(0,x.jsx)(bc,{space:p.Ij}),children:n?(0,x.jsx)(y.A,{}):(0,x.jsx)(zc,{})})},Pc=()=>{const e=(0,s.useNavigate)();return(0,v.useCallback)((()=>{e(-1)}),[e])},Oc=e=>e.ticketForm,Lc=e=>(0,cr.Mz)([Oc],(t=>(null==t?void 0:t[e])||null)),Hc=()=>{const{ticketTypeId:e}=(0,s.useParams)(),t=Pc();(0,v.useEffect)((()=>{e||t()}),[e,t]);const n=(0,h.GV)(Lc(parseInt(e||"")));return(0,x.jsx)(Er,{title:null==n?void 0:n.name,onBack:t,whiteBackground:!0,backDirection:"left"})},Dc=()=>{const{ticketId:e=""}=(0,s.useParams)(),t=(0,h.GV)((0,vi.aw)(e)),n=Pc();return(0,x.jsx)(Er,{title:null==t?void 0:t.name,onBack:n,backDirection:"left",whiteBackground:!0})};const Vc=(0,w.Ay)("label",{target:"e1tmiq3k8"})({name:"1oc8pl4",styles:"display:block;margin-bottom:4px;font-size:14px;font-weight:600;line-height:21px"}),Fc=(0,w.Ay)("p",{target:"e1tmiq3k7"})("font-size:14px;color:",(0,w.w4)("textMuted"),";margin-top:8px;line-height:21px;");var qc={name:"143spw1",styles:"height:105px"};const Gc=(0,w.Ay)("input",{target:"e1tmiq3k6"})("display:block;width:100%;height:40px;box-sizing:border-box;resize:none;padding:10px 10px 9px;border:1px solid rgba(0, 0, 0, 0.1);border-radius:8px;color:",(0,w.w4)("textareaText"),";background-color:",(0,w.w4)("containerBaseNeutral"),";font-size:14px;line-height:1.5;&::placeholder{color:",(0,w.w4)("textDefault"),";}",(({error:e,theme:t})=>e&&(0,w.AH)("border-color:",t.textError,";"))," ",(({disabled:e,theme:t})=>e&&(0,w.AH)("cursor:not-allowed;border:1px solid ",t.inputBorder,";color:",t.submittedInputText,";box-shadow:inset 0 1px 3px 0 rgba(0, 0, 0, 0.07);background:",t.inputBackground,";-webkit-text-fill-color:",t.submittedInputText,";-webkit-opacity:1;"))," ",(({multiline:e})=>e&&qc),";"),Uc=(0,w.Ay)("div",{target:"e1tmiq3k5"})("input[type='radio']{opacity:0;position:fixed;width:0;}label{display:block;padding:10px 20px;margin:0 0 8px;font-size:14px;line-height:1.5;color:",(0,w.w4)("textareaText"),";background-color:",(0,w.w4)("containerBaseNeutral"),";border:1px solid rgba(0, 0, 0, 0.1);border-radius:5px;cursor:pointer;",(({error:e,theme:t})=>e&&(0,w.AH)("border-color:",t.textError,";")),";}input[type='radio']:checked+label{box-shadow:inset 0 0 0 1px rgba(0, 0, 0, 0.1);background-color:",(0,w.w4)("buttonBackgroundColor"),";color:",(0,w.w4)("buttonTextColor"),";}"),$c=(0,w.Ay)("div",{target:"e1tmiq3k4"})("position:relative;height:38px;padding:0 8px;border-radius:5px;border:1px solid rgba(0, 0, 0, 0.1);background-color:",(0,w.w4)("containerBaseNeutral"),";&>path{fill:",(({theme:e})=>e.inputBorder),";}"),Wc=(0,w.Ay)("select",{target:"e1tmiq3k3"})("width:100%;height:100%;appearance:none;background-color:transparent;border:none;",(({error:e,theme:t})=>e&&(0,w.AH)("border-color:",t.textError,";")),";"),Kc=(0,w.Ay)("i",{target:"e1tmiq3k2"})({name:"1g0fqky",styles:"position:absolute;top:12px;right:7px;pointer-events:none"}),Yc=(0,w.Ay)("p",{target:"e1tmiq3k1"})("display:flex;align-items:center;gap:6px;margin:8px 0;font-size:14px;color:",(({theme:e})=>e.textError),";&>*{fill:",(({theme:e})=>e.textError),";}"),Zc=(0,w.Ay)("span",{target:"e1tmiq3k0"})("color:",(({theme:e})=>e.textError),";");function Jc({inputId:e,descriptor:t,onChange:n,error:i,multiline:r,placeholder:s=(0,Be.Tl)("placeholder_text_inputs")}){const[o,a]=(0,v.useState)();return(0,x.jsx)(Gc,{as:r?"textarea":"input",error:i,id:e,autoComplete:"off",value:o,name:t.id,"aria-label":t.name,"aria-required":t.required,"aria-invalid":!!i,onChange:e=>{const i=e.target.value;a(i),n(t,i)},multiline:r,placeholder:s})}var Qc;function Xc(){return Xc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Xc.apply(null,arguments)}const ed=e=>v.createElement("svg",Xc({xmlns:"http://www.w3.org/2000/svg",width:19,height:16,fill:"none",viewBox:"0 0 19 16"},e),Qc||(Qc=v.createElement("path",{fill:"#737376",d:"M5.559 6.98c-.36-.392-.047-.98.52-.98h7.255c.568 0 .88.588.521.98l-3.28 3.574c-.449.49-1.287.49-1.736 0z"})));function td({inputId:e,descriptor:t,value:n,onChange:i,error:r,placeholder:s=(0,Be.Tl)("please_select")}){var o;return(0,x.jsxs)($c,{children:[(0,x.jsxs)(Wc,{name:t.id,id:e,"aria-required":t.required,"aria-label":t.name,"aria-invalid":!!r,onChange:e=>{const n=e.target.value;i(t,n)},value:n||"",error:r,"data-testid":`attribute-list-${t.id}`,children:[(0,x.jsx)("option",{value:"",disabled:!0,children:s}),null==(o=t.listOptions)?void 0:o.map((e=>(0,x.jsx)("option",{value:e.id,children:e.label},`dropdown-${t.id}-${e.id}`)))]}),(0,x.jsx)(Kc,{children:(0,x.jsx)(ed,{})})]})}function nd({descriptor:e,onChange:t,error:n}){const[i,r]=(0,v.useState)(null),s=n=>{const i=function(e){return"true"===e}(n.target.value);r(i),t(e,i)};return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(Uc,{error:n,children:[(0,x.jsx)("input",{type:"radio",id:`${e.id}-true`,name:e.id,value:"true",checked:!0===i,onChange:s}),(0,x.jsx)("label",{htmlFor:`${e.id}-true`,children:(0,Be.Tl)("attribute_collector_positive")})]}),(0,x.jsxs)(Uc,{error:n,children:[(0,x.jsx)("input",{type:"radio",id:`${e.id}-false`,name:e.id,value:"false",checked:!1===i,onChange:s}),(0,x.jsx)("label",{htmlFor:`${e.id}-false`,children:(0,Be.Tl)("attribute_collector_negative")})]})]})}function id({inputId:e,descriptor:t,onChange:n,error:i}){const[r,s]=(0,v.useState)();return(0,x.jsx)(Gc,{error:i,id:e,autoComplete:"off",value:r,name:t.id,"aria-label":t.name,"aria-required":t.required,"aria-invalid":!!i,type:"datetime-local",onChange:e=>{const i=e.target.value;s(i),n(t,i)}})}function rd(e,t,n){return e.map(((e,i)=>i===t?Object.assign({},e,n):e))}var sd=n(40961);function od(e,t,n,i,r){const s=e.name.substring(e.name.lastIndexOf(".")).toLocaleLowerCase();return n>i?Promise.reject("file_max_limit"):r&&-1===r.indexOf(s)?Promise.reject("file_type_not_allowed"):(0,Jt.oT)(yt.Ay,t,e)}const ad="ADD_FILES";const ld="UPLOAD_COMPLETE";const cd="UPLOAD_FAILED";const dd="REMOVE_FILE";const pd="RETRY_UPLOAD";const ud={limit:10,uploads:[]};function hd(e,t){const n="clientId"in t?e.uploads.findIndex((e=>e.clientId===t.clientId)):-1;switch(t.type){case ad:{const n=[...e.uploads,...t.files];return Object.assign({},e,{uploads:n})}case dd:return Object.assign({},e,{uploads:e.uploads.filter((e=>e.clientId!==t.clientId))});case pd:return-1===n?e:Object.assign({},e,{uploads:rd(e.uploads,n,{state:"loading",promise:t.promise})});case ld:return-1===n?e:Object.assign({},e,{uploads:rd(e.uploads,n,{state:"complete",data:t.data,error:null})});case cd:return-1===n?e:Object.assign({},e,{uploads:rd(e.uploads,n,{state:"failed",error:t.error})})}}const gd=async(e,t,n,i,r,s,o)=>{try{e(function(e,t){return{type:ld,clientId:e,data:t}}(n,await od(i,t,r,s,o)))}catch(t){e(function(e,t){return{type:cd,clientId:e,error:t}}(n,t))}},md={limit:10};function xd(e={}){const t=Object.assign({},md,e),n=(0,h.GV)((e=>e.session)),[i,r]=(0,v.useReducer)(hd,Object.assign({},ud,{limit:t.limit})),s=i.uploads,o=s.every((e=>"complete"===e.state)),a=s.some((e=>"failed"===e.state));return{uploadFiles:async e=>{if(!n)return;const i=Array.from(e).map((e=>function(e){return{clientId:(0,Xr.l)(),name:e.name,data:null,state:"loading",file:e,error:null}}(e)));(0,sd.flushSync)((()=>{r({type:ad,files:i})}));let o=s.length;for(const e of i)await gd(r,n,e.clientId,e.file,o,t.limit,t.accept),o++},removeFile:e=>r(function(e){return{type:dd,clientId:e}}(e)),retry:async e=>{const i=s.find((t=>t.clientId===e));if(!i||!n)return;const o=s.filter((e=>"failed"!==e.state)).length;r(function(e,t,n,i,r,s){const o=od(t,n,i,r,s);return{type:pd,clientId:e,promise:o}}(e,i.file,n,o,t.limit,t.accept)),await gd(r,n,i.clientId,i.file,o,t.limit,t.accept)},uploads:s,allComplete:o,anyFailed:a,canAddFiles:s.length<i.limit}}var fd=n(30998),vd=n(58820);const yd=(0,w.Ay)("ul",{target:"e1vo4x9o5"})({name:"16nvfx2",styles:"margin-top:8px;display:block;max-width:100%"}),bd=(0,w.Ay)("button",{target:"e1vo4x9o4"})("height:36px;margin-bottom:8px;width:fit-content;max-width:100%;box-sizing:border-box;padding:8px;border:1px solid rgba(0, 0, 0, 0.08);border-radius:8px;display:flex;justify-content:center;align-items:center;color:",(({theme:e})=>e.textDefault),";",fd.I.className,"{svg{path{fill:",(({theme:e})=>e.iconDefault),";}circle{stroke:",(({theme:e})=>e.iconDefault),";}}}"),wd=(0,w.Ay)(bd,{target:"e1vo4x9o3"})("cursor:pointer;&:hover{background:",(({theme:e})=>e.listItemHover),";color:",(({theme:e})=>e.isPrimaryColorLight?e.textDefault:e.primaryColor),";border:",(({theme:e})=>e.isPrimaryColorLight?"1px solid rgba(0, 0, 0, 0.2);":"1px solid rgba(0, 0, 0, 0.08)"),";svg{path{fill:",(({theme:e})=>e.isPrimaryColorLight?e.iconDefault:e.primaryColor),";}circle{stroke:",(({theme:e})=>e.isPrimaryColorLight?e.iconDefault:e.primaryColor),";}}}");var jd={name:"1ffgyqb",styles:"max-width:calc(100% - 42px)"};const Ad=(0,w.Ay)("div",{target:"e1vo4x9o2"})("display:flex;",(({canRetry:e})=>e&&jd),";"),kd=(0,w.Ay)(bd,{target:"e1vo4x9o1"})("&:hover{cursor:default;}",(({state:e,theme:t})=>"failed"===e&&(0,w.AH)("border:1px solid ",t.textError,";color:",t.textError,";",fd.I.className,",&{svg path{fill:",t.textError,";}svg circle{stroke:",t.textError,";}}",vd.A.className,"{svg path{stroke:",t.textError,";}}")),";"),Cd=(0,w.Ay)("div",{target:"e1vo4x9o0"})("margin-left:6px;font-size:14px;line-height:20px;font-weight:400;font-family:",(0,w.w4)("fontSansSerif"),";white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:inherit;");function Sd({files:e}){return(0,x.jsx)(yd,{children:e.map((e=>(0,x.jsxs)(wd,{onClick:()=>(e=>{window.open(e)})(e.url),children:[(0,x.jsx)(Td,{mediaType:e.mediaType}),(0,x.jsx)(Cd,{title:e.name,children:e.name})]},e.id)))})}function Td({mediaType:e}){let t="Attachment";switch(e){case"image":t="Photo";break;case"video":t="Video"}return(0,x.jsx)(ae.Ay,{type:t,size:16})}const _d=["onClick"];function Ed(e){let{onClick:t}=e,n=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(-1!==t.indexOf(i))continue;n[i]=e[i]}return n}(e,_d);return(0,x.jsx)(br.A,Object.assign({variant:"secondary",borderRadius:8,iconType:"Retry",preventDefault:!0,onClick:t,"aria-label":"Retry"},n))}const Bd=(0,w.Ay)(Ed,{target:"e12ifqpl0"})("margin-left:10px;height:36px;width:36px;",fd.I.className,"{svg{path{fill:none;stroke:",(({theme:e})=>e.iconDefault),";}}}");const Nd=(0,w.Ay)("div",{target:"ey2f0c11"})({name:"1bo1xyw",styles:"padding:0 3px 0 2px"}),Id=(0,w.Ay)("div",{target:"ey2f0c10"})("margin-left:8px;",vd.A.className,"{display:",(e=>e.showSpinner?"none":"flex"),";}",Nd.className,"{display:",(e=>e.showSpinner?"block":"none"),";}&:hover{",vd.A.className,"{display:flex;}",Nd.className,"{display:none;}}");function zd({file:e,onClickRemove:t}){const n="loading"===e.state;return(0,x.jsxs)(Id,{showSpinner:n,children:[(0,x.jsx)(Nd,{children:(0,x.jsx)(y.A,{inline:!0,color:"primary",size:"small"})}),(0,x.jsx)(br.A,{padding:4,variant:"subtle",preventDefault:!0,onClick:()=>{t(e.clientId)},iconType:"CloseM5",borderRadius:8})]})}function Md({file:e,showRetry:t,onClickRemove:n,onClickRetry:i}){const r=t&&"failed"===e.state;return(0,x.jsxs)(Ad,{canRetry:r,children:[(0,x.jsxs)(kd,{as:"span",state:e.state,children:["failed"===e.state?(0,x.jsx)(ae.Ay,{type:"Alert"}):(0,x.jsx)(Td,{mediaType:Rd(e.name)}),(0,x.jsx)(Cd,{title:e.name,children:e.name}),(0,x.jsx)(zd,{file:e,onClickRemove:n})]}),r&&(0,x.jsx)(Bd,{onClick:()=>i(e.clientId)})]})}function Rd(e){const t=e.substring(e.lastIndexOf("."));return/(gif|jpg|jpeg|tiff|png)$/i.test(t)?"image":/(mp4|mov|avi|wmv|mkv)$/i.test(t)?"video":"attachment"}const Pd=(0,v.memo)(Md);function Od({files:e,limit:t=10,onClickRemove:n,onClickRetry:i}){const r=e.filter((e=>"failed"!==e.state)).length<t;return(0,x.jsx)(yd,{children:e.map((e=>(0,x.jsx)(Pd,{file:e,showRetry:r,onClickRemove:n,onClickRetry:i},e.clientId)))})}const Ld=(0,w.Ay)("label",{target:"en2e5go0"})({name:"3ekvfs",styles:"display:block;width:fit-content"}),Hd=(e,t=10)=>{switch(e){case"file_size":return`${(0,Be.Tl)("upload_failed")}. ${(0,Be.Tl)("upload_max_files_size",{limit:`${Aa.pS}`})}`;case"file_max_limit":return`${(0,Be.Tl)("upload_failed")}. ${(0,Be.Tl)("upload_max_files_allowed",{limit:`${t}`})}`;default:return(0,Be.Tl)("upload_failed")}};function Dd({inputId:e,descriptor:t,onChange:n,setTicketCreationEnabled:i,error:r}){var s,o;const[a,l]=(0,v.useState)(),{uploadFiles:c,removeFile:d,uploads:p,allComplete:u,anyFailed:h,retry:g,canAddFiles:m}=xd({limit:t.limit,accept:null==(s=t.options)?void 0:s.accept});(0,v.useEffect)((()=>{l(u?p.map((e=>{var t;return(null==(t=e.data)?void 0:t.id)||-1})):[]),i(0===p.length||u)}),[u,p,i]),(0,v.useEffect)((()=>{n(t,a||[])}),[a]);const f="multiple"===t.identifier,y=p.find((e=>e.error));return(0,x.jsxs)("div",{children:[f&&!h&&(0,x.jsx)(Fc,{children:(0,Be.Tl)("file_max_limit",{limit:`${t.limit}`})}),h&&(0,x.jsx)(Yc,{children:Hd(null==y?void 0:y.error,t.limit)}),(0,x.jsx)(Od,{files:p,limit:t.limit,onClickRemove:d,onClickRetry:g}),(0,x.jsxs)(Ld,{htmlFor:e,children:[(0,x.jsx)(Gc,{id:e,as:"input",type:"file",accept:(null==(o=t.options)?void 0:o.accept)||"*",multiple:f,error:r,autoComplete:"off",name:t.id,"aria-label":t.name,"aria-required":t.required,"aria-invalid":!!r,onChange:e=>{const t=e.target,n=t.files;null!=n&&c(n),t.value=""},style:{display:"none"}}),m&&(0,x.jsx)(br.A,{as:"div",iconType:"New",gap:8,variant:"secondary",borderRadius:"8px",padding:"6px 12px",children:f?(0,Be.Tl)("tickets_add_files"):(0,Be.Tl)("tickets_add_file")})]})]})}var Vd=n(7236);function Fd(e,t){var n,i;const r=Object.assign({inputId:e},t),{descriptor:s}=t;switch(s.type){case"list":return(0,x.jsx)(td,Object.assign({value:t.value},r));case"boolean":return(0,x.jsx)(nd,Object.assign({},r));case"datetime":return(0,x.jsx)(id,Object.assign({},r));case"string":return(0,x.jsx)(Jc,Object.assign({},r,{multiline:!(null==(n=s.options)||!n.multiline)}));case"integer":case"decimal":case"float":return(0,x.jsx)(Jc,Object.assign({},r,{multiline:!(null==(i=s.options)||!i.multiline),placeholder:(0,Be.Tl)("placeholder_numerical_inputs")}));case"files":return(0,x.jsx)(Dd,Object.assign({},r));default:return null}}function qd(e){const{descriptor:t,error:n}=e,i=`attribute-${t.type}-${t.id}`;return(0,x.jsxs)("div",{children:[(0,x.jsxs)(Vc,{htmlFor:i,children:[t.name,t.required&&(0,x.jsx)(Zc,{children:"*"})]}),n&&(0,x.jsxs)(Yc,{children:[(0,x.jsx)(Vd.A,{}),(0,x.jsx)("span",{children:n})]}),Fd(i,e)]})}var Gd=n(44605);const Ud=(0,w.Ay)("div",{target:"e1i4t6d65"})("padding:",(({theme:e})=>e.globalHorizontalPadding),"px;overflow:scroll;&,&>form{flex:1;display:flex;flex-direction:column;justify-content:space-between;}"),$d=(0,w.Ay)("div",{target:"e1i4t6d64"})({name:"budh8k",styles:"display:flex;flex-direction:column;gap:16px"}),Wd=(0,w.Ay)("div",{target:"e1i4t6d63"})("font-size:14px;line-height:1.5;color:",(0,w.w4)("textError"),";"),Kd=(0,w.Ay)(Gd.A,{target:"e1i4t6d62"})("font-size:14px;margin-bottom:0;font-weight:600;cursor:pointer;",(({disabled:e,theme:t})=>e&&(0,w.AH)("cursor:not-allowed;background-color:",t.appColorSemiTransparent30,";*{cursor:not-allowed;}"))," ",(({theme:e,styleVariant:t})=>"primary"===t&&(0,w.AH)("color:",e.isPrimaryColorLight?"#000":"#FFF",";svg{margin-left:8px;path{fill:",e.isPrimaryColorLight?"#000":"#FFF",";}}")),";"),Yd=(0,w.Ay)("div",{target:"e1i4t6d61"})({name:"1qj1ra3",styles:"display:flex;flex-direction:column;align-self:center;margin:20px 0 20px 0"}),Zd=(0,w.Ay)("div",{target:"e1i4t6d60"})({name:"1wnowod",styles:"display:flex;align-items:center;justify-content:center"}),Jd=(0,w.Ay)("div",{target:"e1wc2x0w1"})("position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);z-index:1;display:flex;align-items:center;background:rgba(255, 255, 255, 0.8);transition:opacity 0.2s,visibility 0.2s;opacity:",(({isVisible:e})=>e?1:0),";visibility:",(({isVisible:e})=>e?"visible":"hidden"),";animation:",(({isVisible:e})=>e?Xd:ep)," 0.2s ease-in-out;pointer-events:",(({isVisible:e})=>e?"auto":"none"),";"),Qd=(0,w.Ay)("div",{target:"e1wc2x0w0"})("opacity:",(({isVisible:e})=>e?1:0),";pointer-events:",(({isVisible:e})=>e?"auto":"none"),";transition:opacity 0.2s ease-in-out;"),Xd=w.i7`
    from {
        opacity: 0;
    }
    to {
        opacity: 1;
    }
`,ep=w.i7`
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
`;var tp=n(68561),np=n(36667),ip=n(6314);const rp="__internal-notifications-prompt";function sp({initialEmail:e,email:t,onChange:n,error:i}){const r=!!e;return(0,x.jsxs)("div",{children:[(0,x.jsxs)(Vc,{htmlFor:rp,children:[(0,Be.Tl)("get_notified_by_email"),(0,x.jsx)(Zc,{children:"*"})]}),i&&(0,x.jsx)(Yc,{children:i}),(0,x.jsx)(Gc,{id:rp,type:"email",name:rp,autoComplete:"off",placeholder:ip.o,value:e||t,error:i,disabled:r,onChange:e=>{n(e.target.value)},"aria-label":(0,Be.Tl)("get_notified_by_email"),"aria-required":!0,"aria-invalid":!!i}),(0,x.jsx)(Fc,{children:(0,Be.Tl)("tickets_email_copy")})]})}function op(e,t,n,i){const r=function(e){return e.map((e=>{switch(e.type){case"string":return function(e){const t=5e3,n={id:e.id,rule:tp.Yj().max(t,(0,Be.Tl)("surveys_response_too_long",{character_count:`${t}`})).trim()};e.required&&(n.rule=n.rule.required((0,Be.Tl)("surveys_required_response")));return n}(e);case"integer":return function(e){const t={id:e.id,rule:tp.ai().typeError((0,Be.Tl)("number_is_incorrect")).integer((0,Be.Tl)("number_is_incorrect"))};e.required&&(t.rule=t.rule.required((0,Be.Tl)("surveys_required_response")));return t}(e);case"decimal":case"float":return function(e){const t={id:e.id,rule:tp.ai().typeError((0,Be.Tl)("number_is_incorrect"))};e.required&&(t.rule=t.rule.required((0,Be.Tl)("surveys_required_response")));return t}(e);case"boolean":return function(e){const t={id:e.id,rule:tp.zM()};e.required&&(t.rule=t.rule.required((0,Be.Tl)("surveys_required_response")));return t}(e);case"list":return function(e){const t={id:e.id,rule:tp.Yj()};e.required&&(t.rule=t.rule.required((0,Be.Tl)("surveys_required_response")));return t}(e);case"datetime":return function(e){const t={id:e.id,rule:tp.p6().typeError((0,Be.Tl)("string_is_incorrect"))};e.required&&(t.rule=t.rule.required((0,Be.Tl)("surveys_required_response")));return t}(e);case"files":return function(e){const t={id:e.id,rule:tp.YO().of(tp.ai())};e.required&&(t.rule=t.rule.required((0,Be.Tl)("surveys_required_response")));return t}(e);default:return function(e){const t={id:e.id,rule:tp.Yj()};e.required&&(t.rule=t.rule.required((0,Be.Tl)("surveys_required_response")));return t}(e)}})).reduce(((e,t)=>Object.assign({},e,{[t.id]:t.rule})),{})}(e),s=tp.Yj().test("email",(0,Be.Tl)("that_email_address_doesnt_look_quite_right"),np.B);return i?tp.Ik(Object.assign({},r,{[rp]:s})).validateSync(Object.assign({},t,{[rp]:n}),{abortEarly:!1}):tp.Ik(Object.assign({},r)).validateSync(Object.assign({},t),{abortEarly:!1})}function ap(e){var t;return(null==e||null==(t=e.inner)?void 0:t.reduce(((e,t)=>t.path?Object.assign({},e,{[t.path]:t.message}):e),{}))||{}}const lp=["children"];const cp=e=>{let{children:t}=e,n=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(-1!==t.indexOf(i))continue;n[i]=e[i]}return n}(e,lp);return(0,x.jsx)("form",{onKeyDown:e=>{const t="TEXTAREA"===e.target.nodeName;if("Enter"===e.key&&!t){if((0,ii.U0)()&&e.metaKey||e.ctrlKey)return;e.preventDefault()}},onSubmit:n.onSubmit,children:t})};function dp({notificationsEnabled:e,email:t,descriptors:n=[],isLoading:i,hasFailed:r,onSubmit:s,onCancel:o,isUpdatingForm:a,updateForm:l}){const[c,d]=(0,v.useState)(t),[p,u]=(0,v.useState)({}),[g,m]=(0,v.useState)({}),[f,b]=(0,v.useState)(!0),w=(0,h.GV)(Wa),j=!!(0,h.GV)(Ka),A=e&&!("user"===w&&!t&&j),[k,C]=(0,v.useState)(n||[]);function S(e){return Object.entries(e).map((([e,t])=>{const i=n.find((t=>t.id===e));if(!i)throw"missing descriptor";return{descriptor_id:parseInt(e),value:T(i,t)}}))}function T(e,t){switch(e.type){case"datetime":return new Date(t).toISOString();case"integer":return parseInt(t);case"decimal":case"float":return parseFloat(t)}return t}const _=async(e,t)=>{const n=Object.assign({},p,{[e.id]:t});if(u(n),g[e.id])try{m({}),op(k,n,c,A)}catch(e){m(ap(e))}if(l&&e.isControllingAttribute){const t=await l(n,S(n),e);if(null!==t){const{values:e,formFields:n}=t;C(n),u(e)}}};return(0,x.jsx)(Ud,{children:(0,x.jsxs)(cp,{onSubmit:e=>{if(e.preventDefault(),!i)try{op(k,p,c,A),m({}),s(S(p),c)}catch(e){m(ap(e))}},children:[(0,x.jsx)(Jd,{isVisible:a,children:(0,x.jsx)(y.A,{})}),(0,x.jsx)(Qd,{isVisible:!a,children:(0,x.jsxs)($d,{children:[r?(0,x.jsx)(Wd,{role:"alert",children:(0,Be.Tl)("something_is_wrong")}):null,A?(0,x.jsx)(sp,{initialEmail:t,email:c,error:g[rp],onChange:d}):null,k.map((e=>(0,x.jsx)(qd,{error:g[e.id],descriptor:e,value:p[e.id],onChange:_,setTicketCreationEnabled:b},e.id)))]})}),(0,x.jsxs)(Yd,{children:[(0,x.jsx)(Kd,{styleVariant:"primary",disabled:i||!f||a,"aria-label":(0,Be.Tl)("tickets_create_ticket"),children:i?(0,x.jsx)(y.A,{size:"small",color:"grey"}):(0,x.jsxs)(Zd,{children:[(0,Be.Tl)("tickets_create_ticket"),(0,x.jsx)(ws.A,{})]})}),(0,x.jsx)(Kd,{onClick:o,children:(0,Be.Tl)("cancel")})]})]})})}var pp=n(19326),up=n(12135),hp=n(62193),gp=n.n(hp);const mp=({children:e,selector:t,fallback:n,action:i})=>{const r=(0,s.useNavigate)(),o=(0,h.jL)(),a=(0,h.GV)(t),l=gp()(a),c=(0,v.useCallback)((()=>o(i(yt.Ay))),[o,i]),d=(0,v.useCallback)((async()=>{await c()||r(-1)}),[c,r]);return(0,v.useEffect)((()=>{l&&d()}),[a,d,l]),(0,x.jsx)(x.Fragment,{children:l?n:e})};function xp(){const[e,t]=(0,v.useState)(!1),[n,i]=(0,v.useState)(!1),[r,o]=(0,v.useState)(!1),a=(0,s.useNavigate)(),l=(0,h.jL)(),c=(0,s.useLocation)(),d=(0,s.useParams)(),p=parseInt(d.ticketTypeId||"0"),[u]=(0,s.useSearchParams)(),g=(0,h.GV)(Ua),m=(0,h.GV)(Lc(p)),f=(0,h.GV)(W.bA);(0,v.useEffect)((()=>()=>{l((0,pp.is)(p))}),[l,p]);return(0,x.jsx)(mp,{selector:Lc(p),action:e=>(0,pp.Zw)(e,p),fallback:(0,x.jsx)(y.A,{}),children:(0,x.jsx)(dp,{notificationsEnabled:f,email:g,descriptors:null==m?void 0:m.formFields,isLoading:e,hasFailed:n,onSubmit:async(e,n)=>{try{t(!0),i(!1);const s=yt.Ay;f&&n!==g&&await l((0,up.$8)(s,n));const o=u.get("conversationId"),d=await l((0,pp.Z2)(s,p,e,o));if(null==d||!d.id)throw new Error("Couldn't create ticket");var r;(0,je.A5)("submitted","create_ticket_form","messenger",null==(r=c.state)?void 0:r.context,{ticket_type_id:p}),l((0,pp.Vf)([d])),a((0,io.sq)(d.id,!0),{replace:!0}),t(!1)}catch(e){(0,Gr.l2)(e),i(!0)}},onCancel:e=>{e.preventDefault(),a(-1)},updateForm:async(e,t,n)=>{try{o(!0);const i=await l((0,pp.Zw)(yt.Ay,p,t,n.id));if(i){const t=new Set(i.formFields.map((e=>e.id))),n=i.formFields.reduce(((e,t)=>(e[t.id]=t.value,e)),{}),r=Object.entries(e).reduce(((e,[i,r])=>(t.has(i)&&n[i]&&(e[i]=r),e)),{});return o(!1),{values:r,formFields:i.formFields}}return o(!1),null}catch(e){return(0,Gr.l2)(e),o(!1),null}},isUpdatingForm:r})})}const fp=()=>(0,x.jsx)(V,{header:(0,x.jsx)(Hc,{}),children:(0,x.jsx)(xp,{})});var vp=n(90644);const yp=(0,w.Ay)("div",{target:"ed94l235"})({name:"16viizv",styles:"min-width:100%;min-height:calc(100% - 71px - 32px);overflow-y:scroll;margin:0;background-color:none"}),bp=(0,w.Ay)("div",{target:"ed94l234"})("border-top:none;padding:0 ",(({theme:e})=>`${e.globalHorizontalPadding}px`)," 10px;background-color:none;"),wp=(0,w.Ay)("div",{target:"ed94l233"})("display:flex;justify-content:center;background-color:",(({theme:e})=>e.containerBaseNeutral),";",(({horizontal:e,theme:t})=>e&&(0,w.AH)("padding:0px ",t.globalHorizontalPadding,"px;")),";"),jp=(0,w.Ay)("div",{target:"ed94l232"})("min-height:152px;background:",(({theme:e})=>e.containerBaseNeutral),";padding-top:16px;"),Ap=(0,w.Ay)("div",{target:"ed94l231"})({name:"70esuv",styles:"background-color:#dbdbdb;min-height:32px;display:flex;align-items:center;justify-content:center;svg{margin-right:10px;}"}),kp=(0,w.Ay)("div",{target:"ed94l230"})("display:flex;flex-direction:column;position:relative;align-items:center;justify-content:center;gap:8px;margin-top:auto;margin-bottom:32px;color:",(0,w.w4)("grey500"),";font-size:14px;line-height:21px;");var Cp=n(61641);function Sp(){return(0,x.jsxs)(Ap,{children:[(0,x.jsx)(Cp.A,{}),(0,x.jsx)("span",{children:(0,Be.Tl)("tickets_submitted_confirmation_header")})]})}const Tp=(0,w.Ay)(oe.A,{target:"enos32b0"})({name:"5s17cv",styles:"padding:12px 0px"});function _p({attributes:e}){return(0,x.jsx)(x.Fragment,{children:Object.keys(e).map((t=>{const n=e[t].id,i=e[t].name,r=(0,io.ZQ)(e[t].value),s=e[t].type;if(null===r||0===r.length)return null;if("files"===s&&"object"==typeof r)return(0,x.jsxs)(Tp,{size:"medium",children:[(0,x.jsx)("strong",{children:i}),(0,x.jsx)(Sd,{files:r},n)]},n);if("blocks"===s){const e="string"==typeof r?JSON.parse(r):r;return(0,x.jsxs)(Tp,{size:"small",children:[(0,x.jsx)("strong",{children:i}),(0,x.jsx)(Dn.A,{blocks:e})]},n)}return"string"==typeof r?(0,x.jsx)(Tp,{note:(0,io.a2)(r,s),size:"small",children:(0,x.jsx)("strong",{children:i})},n):null}))})}function Ep({value:e}){const t=(0,Ln.A)();return(0,x.jsx)(oe.A,{bgColor:t.containerNeutral,rounded:!0,rightIcon:"NotificationsIcon",rightIconColor:"iconDefault",note:e,style:{marginBottom:"10px"},children:(0,x.jsx)("strong",{children:(0,Be.Tl)("youll_be_notified_here_and_by_email")})})}var Bp;function Np(){return Np=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Np.apply(null,arguments)}const Ip=e=>v.createElement("svg",Np({xmlns:"http://www.w3.org/2000/svg",width:40,height:40,fill:"none",viewBox:"0 0 40 40"},e),Bp||(Bp=v.createElement("path",{fill:"#0D7532",fillRule:"evenodd",d:"M20 40c11.046 0 20-8.954 20-20S31.046 0 20 0 0 8.954 0 20s8.954 20 20 20m9.601-25.4a.85.85 0 1 0-1.202-1.201l-11.92 11.92-4.878-4.877a.85.85 0 0 0-1.202 1.202l5.478 5.479a.85.85 0 0 0 1.202 0z",clipRule:"evenodd"})));const zp=(0,w.Ay)("div",{target:"eja8muk2"})("background-color:",(0,w.w4)("containerBaseNeutral"),";display:flex;flex-direction:column;align-items:center;padding:8px 20px 24px;text-align:center;"),Mp=(0,w.Ay)("p",{target:"eja8muk1"})({name:"vpntxn",styles:"font-weight:600;line-height:19px;margin-top:25px;margin-bottom:18px"}),Rp=(0,w.Ay)("p",{target:"eja8muk0"})({name:"c222dx",styles:"font-size:14px;line-height:17px"});function Pp(){return(0,x.jsxs)(zp,{children:[(0,x.jsx)(Ip,{}),(0,x.jsx)(Mp,{children:(0,Be.Tl)("tickets_created_confirmation_header")}),(0,x.jsx)(Rp,{children:(0,Be.Tl)("tickets_submitted_confirmation_paragraph")})]})}const Op=(0,w.Ay)("div",{target:"e849yud2"})({name:"1erklzy",styles:"position:relative;box-sizing:border-box;overflow-y:hidden"}),Lp=(0,w.Ay)(R.B1,{target:"e849yud1"})("position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;transition:opacity ",(e=>e.duration),"ms;&,&.fade-enter,&.fade-appear{opacity:0;z-index:1;}&.fade-enter-active,&.fade-appear-active{opacity:1;z-index:1;}&.fade-exit{z-index:2;opacity:1;pointer-events:none;}&.fade-exit-active,&.fade-exit-done{z-index:2;opacity:0;pointer-events:none;}&.fade-enter-done,&.fade-appear-done{opacity:1;}"),Hp=(0,w.Ay)("div",{target:"e849yud0"})({name:"1advd6w",styles:"min-width:100%;min-height:100%"});function Dp({children:e,duration:t=Br.qZ,transitionKey:n,className:i,innerClassName:r,onEnter:s}){const o=(0,v.useRef)({});return o.current[n]||=(0,v.createRef)(),(0,x.jsx)(Op,{className:i,children:(0,x.jsx)(R.F,{children:(0,x.jsx)(Lp,{classNames:"fade",className:r,timeout:t,duration:t,appear:!0,mountOnEnter:!0,unmountOnExit:!0,nodeRef:o.current[n],onEnter:()=>{var e;const t=null==(e=o.current[n])?void 0:e.current;t&&s&&s(t)},children:(0,x.jsx)(Hp,{ref:o.current[n],children:e})},n)})})}const Vp=["onHeightChange","children"];function Fp(e){let{onHeightChange:t,children:n}=e,i=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(-1!==t.indexOf(i))continue;n[i]=e[i]}return n}(e,Vp);const[r,s]=(0,st.A)(),o=(0,wa.Z)(r.height);return(0,v.useEffect)((()=>{r.height>-1&&r.height!==o&&t&&t(r.height)}),[t,r.height,o]),(0,x.jsx)(w.Z2,{children:({css:e,cx:t})=>(0,x.jsx)(Dp,Object.assign({},i,{className:t(i.className,e`
              min-height: ${r.height}px;
              min-width: 100%;
            `),onEnter:e=>{e.firstChild&&(s.current=e.firstChild)},children:(0,x.jsx)("div",{children:n})}))})}const qp={send:"NewConversation",conversation:"ViewConversation"};function Gp({text:e,icon:t,conversationId:n}){const i=(0,h.jL)();return(0,x.jsx)(Qo.A,{iconType:qp[t],onClick:()=>{i((0,Jt.QL)(yt.Ay,n,{requestOrigin:"Ticket Details Click"})),i((0,Qt.p)(n))},borderRadius:10,variant:"secondary","data-testid":"ticket-details-conversation-button",children:e})}function Up({ticket:e}){const{conversationButton:t}=e;return(0,x.jsxs)(kp,{children:[(0,Be.Tl)("tickets_cta_text"),t?(0,x.jsx)(Gp,{text:t.text,icon:t.icon,conversationId:e.conversationId}):e.isFetching&&(0,x.jsx)(y.A,{inline:!0})]})}function $p({ticket:e,notificationsEmail:t,notificationsEnabled:n,showTicketCreatedMessage:i,showSubmittedScreen:r=!1}){const o=(0,s.useLocation)(),{state:a}=o,l=a&&a.navigatingFrom,c=l===Ae.wU||l===Ae.vU,d=l||"conversation",p=c&&e.conversationId;return(0,v.useEffect)((()=>{(0,je.A5)("viewed","ticket_details","messenger",d,{ticketTypeId:e.ticketTypeId,status:e.status,conversationId:e.conversationId})}),[e.ticketTypeId,e.status,e.conversationId,d]),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(yp,{children:[(0,x.jsx)(jp,{children:(0,x.jsx)(Fp,{transitionKey:r.toString(),children:r?(0,x.jsx)(Pp,{}):(0,x.jsx)(wp,{horizontal:!0,children:e.history.length?(0,x.jsx)(Qs,{history:e.history,currentStatus:e.status,assignee:e.assignee}):null})})}),(0,x.jsxs)(bp,{children:[n&&t&&(0,x.jsx)(Ep,{value:t}),e.attributes&&(0,x.jsx)(_p,{attributes:e.attributes})]})]}),i&&(0,x.jsx)(Sp,{}),p&&(0,x.jsx)(Up,{ticket:e})]})}var Wp=n(85937);const Kp=(0,vp.A)("div",{target:"e1heqk1y0"})({name:"1jasg0b",styles:"flex-grow:1;overflow-y:auto"});function Yp(){const{ticketId:e=""}=(0,s.useParams)(),t=(0,h.GV)((0,vi.aw)(e)),n=(0,h.GV)(W.bA),i=(0,h.GV)(Ua),[r]=(0,s.useSearchParams)(),o=r.get("submitted"),a=(0,h.jL)(),l=!1===(null==t?void 0:t.read);return(0,v.useEffect)((()=>{l&&a((0,Wp.C)(e))}),[e,l,a]),t&&t.id?(0,x.jsx)(Kp,{children:(0,x.jsx)($p,{showSubmittedScreen:!!o,ticket:t,notificationsEnabled:n,notificationsEmail:i,showTicketCreatedMessage:!1})}):null}const Zp=()=>(0,x.jsx)(V,{header:(0,x.jsx)(Dc,{}),children:(0,x.jsx)(Yp,{})});var Jp=n(7494);var Qp={name:"wjx6sl",styles:"padding-bottom:400px"},Xp={name:"2o6p8u",styles:"justify-content:space-between"};const eu=(0,w.Ay)("div",{target:"e1e4bhdc6"})("display:flex;flex-direction:column;min-height:100%;box-sizing:border-box;",(({spaced:e})=>e&&Xp)," ",(e=>e.extraIOSPadding&&Qp),";"),tu=(0,w.Ay)("section",{target:"e1e4bhdc5"})("flex:1;position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;display:flex;flex-direction:column;",lt.m.className,"{flex:1;display:flex;flex-direction:column;}",(e=>e.searchView&&`\n    ${Jp.L4.className} {\n      height: 36px;\n      background: linear-gradient(180deg, ${(0,w.w4)("baseAlpha")} 0%, ${(0,w.w4)("alphaWhite100")} 100%);\n    }`),";"),nu=(0,w.Ay)("div",{target:"e1e4bhdc4"})({name:"xdvdnl",styles:"margin-top:auto"});var iu={name:"1n11t60",styles:"padding:24px 0 12px;box-sizing:border-box;border-top-width:1px;border-top-style:solid;margin-left:-24px;margin-right:-24px;width:auto"};const ru=(0,w.Ay)("div",{target:"e1e4bhdc3"})("display:flex;flex-direction:column;align-items:center;width:100%;border-color:",(0,w.w4)("borderEmphasisNeutral"),";",(({withBorderTop:e})=>e&&iu),";"),su=(0,w.Ay)("div",{target:"e1e4bhdc2"})("display:flex;align-items:center;a{white-space:nowrap;}color:",(0,w.w4)("textDefault"),";text-align:center;font-size:14px;line-height:22px;margin-top:8px;"),ou=(0,w.Ay)("div",{target:"e1e4bhdc1"})("display:flex;flex-direction:column;align-items:center;",ce.className,"{margin-right:10px;}"),au=(0,w.Ay)("div",{target:"e1e4bhdc0"})({name:"iqoq9n",styles:"margin-top:20px"});function lu({inArticle:e=!1}){var t;const n=(0,h.GV)(Ee.FQ),i=(0,h.GV)(ir._9),r=(0,h.GV)(K.He);return(0,x.jsxs)(ou,{children:[(0,x.jsx)(ea,{metricsContext:e?Ae.BU:Ae.m4,metadata:e?{article_id:null==i?void 0:i.id}:{phrase:n}}),(0,x.jsx)(su,{children:(null==r||null==(t=r.action)?void 0:t.subtitle)??(0,Be.Tl)("the_team_can_help_if_needed")})]})}function cu({inArticle:e=!1,withBorderTop:t=!1,onlyShowAfterArticleView:n=!1}){const i=(0,h.GV)(W._D),r=(0,h.GV)(Ee.Rz);return n&&!r?null:(0,x.jsx)(nu,{children:(0,x.jsx)(ru,{withBorderTop:t,children:i?(0,x.jsx)(lu,{inArticle:e}):(0,x.jsx)(au,{children:(0,x.jsx)(ea,{})})})})}var du=n(60077);function pu(e){const{children:t,hideBorder:n}=e,[i,r]=(0,v.useState)(!1),[s,o]=(0,v.useState)(!0),a=(0,ot.M5)();return(0,x.jsxs)(Jp.kV,{hideBorder:n||i,children:[(0,x.jsx)(du.A,{showScrollingBorder:!a,isInsideModal:!1,flex:!0,dynamicChildrenHeight:!0,onScroll:e=>((e,t,n)=>{const i=e.target;t(i.scrollTop>0),n(i.scrollHeight-i.scrollTop!==i.clientHeight)})(e,r,o),children:t}),(0,x.jsx)(Jp.L4,{hideBottomShadow:!s})]})}function uu(){const{hasSearchResults:e,showSearchResults:t,phrase:n,searchResults:i,hideResultsWithDelay:r}=(0,h.GV)((e=>e.browseMode)),[s,o]=(0,v.useState)(!1),[a,l]=(0,v.useState)(!1),c=(null==i?void 0:i.length)||0,d=n&&n.trim().length<=5&&0===c,p=(0,v.useRef)(null);return(0,v.useEffect)((()=>(e&&!t?(l(!1),d?p.current=setTimeout((()=>o(!0)),1e3):o(!0)):s!==t&&(t||e||!r?a||o(t):(l(!0),p.current=setTimeout((()=>{o(!1),l(!1)}),500))),()=>{p.current&&clearTimeout(p.current)})),[e,t,d,s,r,a]),s}const hu=(0,w.Ay)("div",{target:"ekb0q030"})({name:"18malc6",styles:"display:flex;justify-content:center;align-items:center;height:70vh"});const gu=(0,w.Ay)(Ns._,{target:"eb7y7dq1"})({name:"c7q9dg",styles:"margin-bottom:4px;font-weight:600"}),mu=(0,w.Ay)(Ns._,{target:"eb7y7dq0"})("margin-bottom:4px;word-break:break-word;color:",(0,w.w4)("textDefault"),";"),xu=(0,w.Ay)("span",{target:"e1mxjt2c0"})("color:",(0,w.w4)("grey500"),";"),fu=({title:e,description:t,articlesCount:n,onClick:i})=>{const r=(0,Be.Tl)(1===n?"single_article":"multiple_articles",{total_articles:n.toString()});return(0,x.jsxs)(oe.A,{note:(0,x.jsx)(xu,{children:r}),rightIcon:"RightChevronColorable",rightIconColor:"linkColor",hoverBackground:!0,onClick:i,useGlobalHorizontalPadding:!0,"data-testid":"collection-card",children:[!!e&&(0,x.jsx)(gu,{children:e}),!!t&&(0,x.jsx)(mu,{children:t})]})};const vu=(0,w.Ay)("div",{target:"e1beiou2"})({name:"a7jy8",styles:"padding:20px 20px 40px;display:flex;flex-grow:1;justify-content:center;flex-direction:column;align-items:center"}),yu=(0,w.Ay)("div",{target:"e1beiou1"})("svg>path{fill:",(0,w.w4)("iconDefault"),";}svg>path[class$='stroke']{stroke:",(0,w.w4)("iconDefault"),";fill:none;}svg{*[class$='__circle']{fill:",(0,w.w4)("iconDefault"),";stroke:",(0,w.w4)("iconDefault"),";}*[class$='__negative']{stroke:",(0,w.w4)("iconOnInverse"),";}circle[class*='__negative']{fill:",(0,w.w4)("iconOnInverse"),";stroke:none;}}"),bu=(0,w.Ay)("p",{target:"e1beiou0"})({name:"xnq8oy",styles:"display:block;margin-top:10px;margin-bottom:20px;font-weight:600;font-size:18px;line-height:24px"}),wu=()=>(0,x.jsxs)(vu,{children:[(0,x.jsx)(yu,{children:(0,x.jsx)(ae.Ay,{type:"HelpActive",size:30})}),(0,x.jsx)(bu,{children:(0,Be.Tl)("no_articles_to_display")})]}),ju=({collections:e,onCollectionClick:t})=>{const n=(null==e?void 0:e.length)||0;if(0===n)return(0,x.jsx)(hu,{children:(0,x.jsx)(wu,{})});const i=1===n?(0,Be.Tl)("single_collection"):(0,Be.Tl)("multiple_collections",{total_collection:n.toString()});return(0,x.jsx)(se.A,{title:i,children:null==e?void 0:e.map(((e,n)=>(0,x.jsx)(fu,{title:e.title,description:e.description,articlesCount:e.articlesCount,onClick:()=>t(e.id)},n)))})},Au=e=>e.sections.reduce(((e,t)=>{var n;return e+((null==(n=t.articles)?void 0:n.length)||0)}),0),ku=()=>{const e=(0,h.jL)(),t=(0,h.GV)((e=>e.articleCollections)),n=(0,h.GV)((e=>e.browseMode.isFetching)),i=t.map((e=>{const t=e.children.length>0||e.articles.length>0;return{id:e.id,title:e.name,description:e.description,articlesCount:t?e.articleCount:Au(e),articles:e.articles,children:e.children}}));if(n)return(0,x.jsx)(y.A,{});return(0,x.jsx)(ju,{collections:i,onCollectionClick:t=>{n||e((0,_e.LF)(t))}})};function Cu({html:e}){const t=e.split(/<\/?highlight>/);return(0,x.jsx)(x.Fragment,{children:t.map(Su)})}function Su(e,t){return t%2?(0,x.jsx)(Tu,{children:e},t):(0,x.jsx)("span",{children:e},t)}const Tu=(0,w.Ay)("span",{target:"e1ufeahq0"})("color:",(0,w.w4)("textDefault"),";font-weight:600;"),_u=(0,w.Ay)(oe.A,{target:"e1yf8hpl2"})((({isSearch:e,theme:t})=>e&&(0,w.AH)("&:hover{",Eu.className,"{color:",t.textMuted,";}}")),";"),Eu=(0,w.Ay)(Ns._,{target:"e1yf8hpl1"})("color:",(0,w.w4)("textMuted"),";",Tu.className,"{font-weight:400;color:",(({theme:e})=>e.isPrimaryColorLight?e.textDefault:e.primaryColor),";}"),Bu=(0,w.Ay)(Ns._,{target:"e1yf8hpl0"})("font-weight:400;flex:1;",Tu.className,"{font-weight:400;color:",(0,w.w4)("linkColor"),";}"),Nu=({title:e,onClick:t,children:n,search:i})=>(0,x.jsxs)(_u,{isSearch:i,size:"medium",rightIcon:"RightChevronColorable",rightIconColor:"linkColor",hoverBackground:!0,onClick:t,useGlobalHorizontalPadding:!0,children:[(0,x.jsx)(Bu,{children:e}),n&&(0,x.jsx)(Eu,{children:n})]});var Iu=n(27606),zu=n(35304);const Mu=(0,w.Ay)(zu.Sv,{target:"ew5plsk0"})({name:"1sdjnkx",styles:"word-break:break-word"}),Ru=({title:e,articleCount:t,description:n,authors:i})=>{const r=i.reduce(((e,t)=>{const n=(0,Iu.sU)(t);return n&&e.push(n),e}),[]),s=(0,ye.v)(r,3,!0),o=i.length>0;let a="";return 1===i.length?a=(0,Be.Tl)("article_single_author",{author_first_name:s[0].firstName}):2===i.length?a=(0,Be.Tl)("article_double_author",{author_first_name1:s[0].firstName,author_first_name2:s[1].firstName}):i.length>2&&(a=(0,Be.Tl)("article_multiple_authors",{author_first_name1:s[0].firstName,number_of_other_authors:(s.length-1).toString()})),(0,x.jsxs)(v.Fragment,{children:[(0,x.jsx)(zu.ed,{children:e}),n&&(0,x.jsx)(Mu,{children:n}),(0,x.jsxs)(zu.dE,{children:[(0,x.jsxs)(zu.Mx,{children:[(0,Be.Tl)(1===t?"single_article":"multiple_articles",{total_articles:t.toString()}).toLowerCase(),(0,x.jsx)("br",{}),o&&(0,x.jsx)("span",{"data-testid":"authors-container",children:a})]}),o&&(0,x.jsx)(we,{admins:r,avatarSize:28,avatarPixelsToShow:25,maxAdmins:3,useCutout:!0})]})]})},Pu=(e,t)=>null==e?void 0:e.map((e=>(0,x.jsx)(Nu,{title:e.title,onClick:()=>t(e.id)},e.id))),Ou=({name:e,description:t,articleCount:n,sections:i,articles:r,children:s,authors:o,onArticleClick:a,onCollectionClick:l})=>{if(r.length>0||s.length>0){const i={headerContent:(0,x.jsx)(Ru,{title:e,articleCount:n,description:t,authors:o})};return(0,x.jsxs)(se.A,Object.assign({},i,{children:[r.length>0&&(0,x.jsx)(se.A,{noDivider:!0,children:Pu(r,a)}),s.map((e=>(0,x.jsx)(fu,{title:e.name,description:e.description,articlesCount:e.articleCount,onClick:()=>l(e.id)},e.id)))]}))}{const r={title:e,description:t,note:(0,Be.Tl)(1===n?"single_article":"multiple_articles",{total_articles:n.toString()})};if(1===i.length){const e=i[0].articles;return(0,x.jsx)(se.A,Object.assign({noDivider:!0},r,{children:Pu(e,a)}))}return(0,x.jsx)(se.A,Object.assign({},r,{children:null==i?void 0:i.map((e=>(0,x.jsx)(se.A,{noDivider:!0,sectionTitle:e.name||void 0,children:Pu(e.articles,a)},e.id)))}))}},Lu=()=>{const{"*":e}=(0,s.useParams)(),t=(0,h.GV)(ir.ZV),n=null==e?void 0:e.split("/").slice(-1)[0];return n||1!==t.length?n:`${t[0].id}`},Hu=()=>{const e=(0,h.jL)(),t=(e=>{const t=(0,h.GV)(ir.ZV);if(!e)return null;const n=t=>t.id===parseInt(e)?t:t.children?t.children.map((e=>n(e))).reduce(((e,t)=>e||t),null):null;return t.map((e=>n(e))).reduce(((e,t)=>e||t),null)})(Lu()),n=(null==t?void 0:t.sections)||[];return t?(0,x.jsx)(Ou,{id:t.id,name:t.name,description:t.description,articleCount:t.articleCount,sections:n,articles:t.articles,authors:t.authors,onArticleClick:t=>{e((0,Te.Y0)(t,null,!0,!0))},onCollectionClick:t=>{e((0,_e.LF)(t))},children:t.children}):null};function Du(e){if(!e)return"";const t=e.indexOf("<highlight>"),{innerWidth:n}=(0,Mn.mC)();let i;return i=n>400?30:n/40,t<i?e:function(e,t){const n=e.substring(t);return"..."+n.substring(n.indexOf(" "))}(e,t-i)}function Vu(e){const[t,n]=(0,v.useState)(Du(e.text));return(0,v.useEffect)((()=>{const t=()=>{n(Du(e.text))};return(0,Mn.eA)(t),()=>(0,Mn.Jz)(t)}),[e.text]),(0,x.jsx)(Cu,{html:t})}const Fu=(0,w.Ay)(se.A,{target:"e1ft3ngy0"})({name:"74n2tq",styles:"padding-top:12px"}),qu=()=>{const e=(0,h.jL)(),t=(0,h.GV)(Ee.mE),n=(0,h.GV)(Ee.sO);return(0,x.jsx)(Fu,{noDivider:!0,children:t.map(((t,i)=>(0,x.jsx)(Nu,{onClick:()=>((t,n,i)=>{(0,je.A5)("clicked","help_center","search_results","",{article_id:t,result_rank:n,search_query:i},"search_browse_event"),e((0,Te.Y0)(t,{result_rank:n,phrase:i},!0,!0))})(t.id,i+1,n),title:(0,x.jsx)(Cu,{html:t.title}),search:!0,children:t.summary&&(0,x.jsx)(Vu,{text:t.summary})},t.id)))})};const Gu=(0,w.Ay)("div",{target:"eil0dwm2"})({name:"a7jy8",styles:"padding:20px 20px 40px;display:flex;flex-grow:1;justify-content:center;flex-direction:column;align-items:center"}),Uu=(0,w.Ay)("div",{target:"eil0dwm1"})("text-align:center;p{line-height:21px;font-size:14px;color:",(0,w.w4)("textMuted"),";&:first-of-type{color:",(0,w.w4)("textDefault"),";span{font-weight:600;}}}"),$u=(0,w.Ay)("p",{target:"eil0dwm0"})({name:"nt8f6f",styles:"display:block;margin:24px 0 12px 0;font-weight:600;font-size:18px;line-height:24px"}),Wu=()=>{const e=(0,h.GV)(Ee.sO);return(0,x.jsxs)(Gu,{children:[(0,x.jsx)($u,{children:(0,Be.Tl)("try_again")}),(0,x.jsx)(Uu,{children:(0,x.jsxs)("p",{children:[(0,Be.Tl)("no_results_for_searchterm",{searchTerm:""}),(0,x.jsxs)("span",{children:["'",e,"'"]})]})})]})},Ku=(0,w.Ay)("div",{target:"e101p0br0"})("margin-top:auto;margin-bottom:20px;display:flex;flex-direction:column;align-items:center;position:relative;",vd.A.className,"{margin-top:16px;box-shadow:0px 0px 25px rgba(0, 0, 0, 0.1);border:1px solid ",(0,Q.vf)((0,w.w4)("containerBaseNeutral"),.1),"!important;}"),Yu=()=>(0,x.jsx)(Me.A,{animationKey:"help-space-footer",children:(0,x.jsx)(Ku,{children:(0,x.jsx)(ea,{styleVariant:"secondary"})})}),Zu=e=>e.browseMode.hasSearchResults||e.browseMode.showSearchResults,Ju=e=>e.browseMode.isSearchFocused,Qu=(0,v.forwardRef)((function(e,t){const n=(0,h.GV)(W.Ei),i=(0,h.GV)(Ju),[r,s]=(0,v.useState)(!1),[o,a]=(0,v.useState)(!0),[l,c]=(0,v.useState)(!1),d=(0,h.GV)(Zu),p=uu()||d,u=Lu(),g=!u,m=!!u,f=(0,ii.rr)(),y=(0,h.GV)(Ee.P5),b=(0,h.GV)(Ee.Rz);function w(){const e=p&&n;return e&&y||e&&!y&&b?(0,x.jsx)(Yu,{}):(0,x.jsx)(Me.A,{animationKey:"search-browse-footer",children:(0,x.jsx)(x.Fragment,{children:e&&(0,x.jsx)(cu,{onlyShowAfterArticleView:!y,withBorderTop:!0})})},`search-browse-footer-${String(p)}`)}const j=(0,v.useRef)(null),A=(0,v.useRef)(null),k=(0,v.useRef)(null);return(0,x.jsx)(tu,{ref:t,searchView:p,children:(0,x.jsx)(pu,{hideBorder:!0,children:(0,x.jsxs)(eu,{extraIOSPadding:(0,ii.un)()&&i,spaced:p,children:[(0,x.jsx)(R.B1,{in:g&&!r&&!p&&!l,classNames:"intercom-search-browse-fade",appear:!1,timeout:150,mountOnEnter:!0,unmountOnExit:!0,onEnter:()=>a(!1),onExited:()=>a(!0),nodeRef:j,children:(0,x.jsx)("div",{ref:j,children:(0,x.jsx)(ku,{})})}),(0,x.jsx)(R.B1,{in:m&&o&&!p&&!l,classNames:"intercom-search-browse-article-collection-fade",timeout:150,appear:!1,mountOnEnter:!0,unmountOnExit:!0,onEnter:()=>s(!0),onEntered:()=>s(!0),onExited:()=>{s(!1)},nodeRef:A,children:(0,x.jsx)("div",{ref:A,children:(0,x.jsx)(Hu,{})})}),(0,x.jsx)(R.B1,{in:p&&o&&!r,classNames:"intercom-search-browse-fade",timeout:150,mountOnEnter:!0,unmountOnExit:!0,onEnter:()=>c(!0),onExited:()=>c(!1),nodeRef:k,children:(0,x.jsxs)("div",{ref:k,children:[(0,x.jsx)(x.Fragment,{children:y?(0,x.jsx)(Wu,{}):(0,x.jsx)(qu,{})}),!f&&w()]})}),f&&w()]})})})}));var Xu=n(64426);var eh={name:"13udsys",styles:"height:100%"},th={name:"1h8nup8",styles:"overflow:visible"};const nh=(0,w.Ay)("div",{target:"eq193l70"})("position:relative;min-width:100%;display:flex;flex-direction:column;overflow:auto;",(({showArticle:e})=>e&&th)," ",(({fullHeight:e})=>e&&eh)," .intercom-search-browse-fade{&-enter{opacity:0;}&-enter-active{opacity:1;transition:opacity 100ms ease-in-out;}&-exit{opacity:1;}&-exit-active{opacity:0;transition:opacity 100ms ease-in-out;}}.intercom-search-browse-article-collection-fade{&-enter{opacity:0;}&-enter-active{opacity:1;transition:opacity 100ms ease-in-out;}&-exit{opacity:1;}&-exit-active{opacity:0;transition:100ms ease-in-out;}}.intercom-search-browse-slide-left-out{&-exit{transform:translateX(0);opacity:1;}&-exit-active{transform:translateX(-12px);opacity:0;transition:100ms ease-in-out;}}.intercom-search-browse-article-collection-in{&-enter,&-appear{transform:translateX(12px);opacity:0;}&-enter-active,&-appear-active{transform:translateX(0);opacity:1;transition:100ms ease-in-out;}&-exit{transform:translateX(0);opacity:1;}&-exit-active{transform:translateX(12px);opacity:0;transition:100ms ease-in-out;}}.intercom-search-browse-article-collection-fade-in{&-enter,&-appear{opacity:0;}&-enter-active,&-appear-active{opacity:1;transition:25ms ease-in-out;}}",Xu.j.className,"{color:",(0,w.w4)("textDefault"),";background-color:",(0,w.w4)("containerBaseNeutral"),";border:1px solid ",(0,w.w4)("borderEmphasisNeutral"),";transition:color 0.15s ease 0s,background-color 0.15s ease 0s,border 0.15s ease 0s;",(({theme:e})=>{const t=e.isPrimaryColorLight?e.appColorDarker:e.primaryColor;return(0,w.AH)(na.M.className,"{path{fill:",t,";}}&:hover,&:active{color:",t,";border:1px solid ",t,";background-color:",e.containerBaseNeutral,";",na.M.className,"{path{fill:",t,";}}}")}),";span{font-weight:400;}}");function ih(){return(0,x.jsx)(nh,{showArticle:!1,fullHeight:!0,children:(0,x.jsx)(Qu,{})})}const rh=(0,w.Ay)("div",{target:"e1xvqlab0"})({name:"hkh81z",styles:"margin-top:8px"}),sh=e=>e.current&&clearTimeout(e.current),oh=({showSearchResults:e,onPhraseChange:t,onCloseClick:n,focusOnMount:i})=>{var r;const[s,o,a]=(({timeout:e=1500}={})=>{const[t,n]=(0,v.useState)(!1),i=(0,v.useRef)(),r=(0,v.useRef)(null),s=(0,v.useRef)(null),o=(0,v.useCallback)((()=>{var e;return void 0!==i.current&&""!==(null==(e=i.current)?void 0:e.value)}),[i]),a=(0,v.useCallback)((()=>{sh(r),r.current=setTimeout((()=>{sh(s),s.current=null,n(!1)}),1e3)}),[]);return(0,v.useEffect)((()=>()=>{sh(r),sh(s)}),[]),(0,v.useEffect)((()=>{if(n(!1),!i.current)return;const t=t=>{o()?("Enter"===t.key||s.current||(s.current=setTimeout((()=>{sh(s),n(o())}),e)),a()):(sh(r),sh(s),s.current=null,n(!1))},l=()=>{sh(r),sh(s),s.current=null,n(!1)},c=i.current;return c.addEventListener("keyup",t),c.addEventListener("blur",l),()=>{c.removeEventListener("keyup",t),c.removeEventListener("blur",l)}}),[i,o,a,e]),[i,t,n]})({timeout:500}),l=(0,wa.Z)(o),c=(0,wa.Z)(null==(r=s.current)?void 0:r.value),[p,u]=(0,v.useState)(!1),h=(0,zn.IS)(),g=uu()||e;(0,v.useEffect)((()=>{let e;return i&&s.current&&(e=(0,d.nB)(s.current,500)),()=>clearTimeout(e)}),[s,i]);return{inputRef:s,isCurrentlyTyping:o,previouslyWasTyping:l,hideResultsWithDelay:p,isMobile:h,showResults:g,handleKeyDown:e=>{if(e.keyCode===d.Rk.ENTER){const t=e.target.value;t&&t!==c&&a(!0)}u(e.keyCode===d.Rk.DELETE||e.keyCode===d.Rk.BACKSPACE)},handleOnCloseClick:()=>{h?n():(t("",p),s.current&&s.current.focus())}}};var ah={name:"y74jut",styles:"input{font-size:16px;}"},lh={name:"w9gtul",styles:"background-color:rgba(0, 0, 0, 0.05)"};const ch=(0,w.Ay)("div",{target:"ejr06bz4"})("background-color:",(0,w.w4)("containerBaseNeutral"),";display:flex;align-items:center;justify-content:center;position:relative;transition:250ms;border-radius:",(({unifiedStyling:e})=>e?"12px":"8px"),";border:",(({theme:e,whiteBackground:t})=>e.isSecondaryColorWhite||t?`1px solid ${e.elevation2}`:"none"),";",(({hasValue:e,theme:t})=>e&&(0,w.AH)("background-color:",t.containerBaseNeutral,";color:",t.textDefault,";"))," ",(({whiteBackground:e,theme:t})=>(t.isSecondaryColorWhite||e)&&lh)," input{width:100%;padding:11.5px 5px;padding-left:10px;font-size:14px;color:",(0,w.w4)("textDefault"),";}",(({theme:e})=>e.isMobileBrowser&&ah),";"),dh=(0,w.Ay)("div",{target:"ejr06bz3"})({name:"145x1ps",styles:"cursor:text;display:flex;align-items:center;width:100%;position:relative"});var ph={name:"160lj66",styles:"p{opacity:0%;}"},uh={name:"16ro1vx",styles:"i{opacity:0%;}"};const hh=(0,w.Ay)("div",{target:"ejr06bz2"})("position:absolute;display:flex;align-items:center;left:50%;transform:translateX(-50%);transition:opacity 250ms;color:",(0,w.w4)("grey500"),";padding:0 10px;width:calc(100% - 19px);flex-direction:row-reverse;justify-content:space-between;p,i{opacity:100%;transition:opacity 150ms;}p{font-size:14px;color:",(0,w.w4)("grey500"),";color:",(({theme:e,whiteBackground:t})=>t||e.isSecondaryColorWhite?e.grey600:e.grey500),";}",(({isShowingLoadingSpinner:e,isShowingCloseButton:t})=>(e||t)&&uh)," ",(({isFocused:e})=>e&&ph),";"),gh=(0,w.Ay)("div",{target:"ejr06bz1"})({name:"e0dnmk",styles:"cursor:pointer"}),mh=(0,w.Ay)("div",{target:"ejr06bz0"})({name:"w61jrk",styles:"position:absolute;right:13px;transform:translateY(-50%);&.fade-enter{opacity:0;}&.fade-exit{opacity:1;}&.fade-enter-active{opacity:1;}&.fade-exit-active{opacity:0;}&.fade-enter-active,&.fade-exit-active{transition:opacity 100ms;}"}),xh=({showSearchResults:e,onPhraseChange:t,onCloseClick:n,showBrowseMode:i,phrase:r,onSearchBlur:s,onSearchFocus:o,focusOnMount:a,isFetchingSearchResults:l})=>{var c;const[d,p]=(0,v.useState)(a),{inputRef:u,hideResultsWithDelay:h,handleKeyDown:g,isCurrentlyTyping:m,previouslyWasTyping:f,showResults:b}=oh({showSearchResults:e,onPhraseChange:t,onCloseClick:n,focusOnMount:a}),w=!!u.current&&(null==(c=u.current)?void 0:c.value.length)>0,j=Boolean(m||l&&w&&f),A=!j&&b&&i,k=(0,Be.Tl)("search_for_help");(0,v.useEffect)((()=>{""===r&&u.current&&""!==u.current.value&&(u.current.value="")}),[u,r]);const C=d||!(!r||""===r),S=(0,ot.M5)(),{whiteBackground:T}=N(),_=S||T,E=(0,v.useRef)(null),B=(0,v.useRef)(null);return(0,x.jsx)(ch,{hasValue:C,whiteBackground:_,unifiedStyling:S,children:(0,x.jsxs)(dh,{onClick:()=>{var e;return null==(e=u.current)?void 0:e.focus()},children:[(0,x.jsx)("input",{ref:u,defaultValue:r,onChange:e=>t(e.target.value,h),onKeyDown:g,onFocus:()=>{p(!0),o()},onBlur:()=>{p(!1),s()},"aria-label":k}),(0,x.jsxs)(hh,{whiteBackground:T,isFocused:C,className:"search-input-placeholder",isShowingCloseButton:A,isShowingLoadingSpinner:j,tabIndex:-1,children:[(0,x.jsx)(ae.Ay,{color:"linkColor",type:"Search"}),(0,x.jsx)("p",{children:k})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)(R.B1,{in:j,classNames:"fade",timeout:100,mountOnEnter:!0,unmountOnExit:!0,nodeRef:E,children:(0,x.jsx)(mh,{ref:E,children:(0,x.jsx)(y.A,{size:"tiny",inline:!0})})}),(0,x.jsx)(R.B1,{in:A,classNames:"fade",timeout:100,mountOnEnter:!0,unmountOnExit:!0,nodeRef:B,children:(0,x.jsx)(mh,{ref:B,children:(0,x.jsx)(gh,{"aria-label":(0,Be.Tl)("clear"),onClick:()=>{t("",h),u.current&&(u.current.focus(),u.current.value="")},children:(0,x.jsx)(ae.Ay,{size:16,type:"CloseM5"})})})})]})]})})},fh=(0,cr.Mz)((e=>e.browseMode),(e=>({phrase:e.phrase,isFetchingSearchResults:e.isFetchingSearchResults,showSearchResults:e.showSearchResults}))),vh=()=>{const[e]=(0,s.useSearchParams)(),t=!!e.get("fromHome"),n=(0,h.jL)(),{phrase:i,isFetchingSearchResults:r,showSearchResults:o}=(0,h.GV)(fh),a=(0,h.GV)(ir.vT),l=!a,c=yc(p.ZL)||(0,Be.Tl)("help_space_title"),d=(0,h.GV)(g.V$),u=(0,s.useLocation)(),m=a||"/help"!==u.pathname||d||t,f=(0,ot.M5)();let y;y=!!f||!!a;const b=(0,s.useNavigate)(),w=N(),j=(0,v.useMemo)((()=>Object.assign({},w,{height:64})),[w]),A=m&&(0,x.jsx)(_r.BackButton,{onBack:()=>{a?n((0,Te.IP)()):(n((0,_e.uz)("",!1)),b(-1))},chevronDirection:"left"});return(0,x.jsx)(B.Provider,{value:a?j:w,children:(0,x.jsxs)(_r.Content,{whiteBackground:!f&&y,showBorder:f,children:[(0,x.jsx)(_r.TitleArea,{title:a?void 0:c,leftButtonArea:A,backDirection:"left",showExpandButton:a}),!a&&(0,x.jsx)(rh,{children:(0,x.jsx)(xh,{focusOnMount:t,showSearchResults:o,onPhraseChange:(e,t)=>{n((0,_e.uz)(e,t))},onCloseClick:()=>{n((0,Mt.Mu)(!0))},isFetchingSearchResults:r,showBrowseMode:l,phrase:i,onSearchBlur:()=>{n((0,_e.vs)(!1))},onSearchFocus:()=>{n((0,_e.vs)(!0))}})})]})})};var yh=n(59057);const bh=(0,v.forwardRef)((function(e,t){const n=(0,h.GV)(W.ed),i=(0,h.GV)(W._D),r=!i&&n;return(0,x.jsxs)(yh.Jc,{ref:t,children:[!r&&(0,x.jsx)(yh.Oe,{}),i?(0,x.jsx)(yh.Bx,{children:(0,x.jsx)(cu,{inArticle:!0})}):(0,x.jsx)(cu,{inArticle:!0})]})})),wh=(0,w.Ay)("div",{target:"eg87d390"})("min-width:51px;height:51px;box-sizing:border-box;padding:8px;display:flex;justify-content:center;flex-direction:column;align-items:center;cursor:pointer;>svg{width:12;height:12;}>svg>path{fill:#8f8f91;}",(({theme:e})=>e.isMobileSize&&(0,w.AH)(">svg>path{fill:",e.isPrimaryColorLight?e.textDefault:e.primaryColor,";}"))," border-radius:",(0,w.w4)("messengerBorderRadiusPx"),"px;&:hover{>svg>path{fill:",(0,w.w4)("iconMuted"),";}}");const jh="ease-out",Ah=w.i7`
  0% {
    opacity: 0;
  }
  100% {
    opacity: 1;
  }
`,kh=w.i7`
  0% {
    opacity: 1;
  }
  100% {
    opacity: 0;
  }
`,Ch=(0,w.Ay)("div",{target:"eub3n504"})({name:"augt7s",styles:"display:flex;flex-direction:row;flex-grow:1"});var Sh={name:"1yh8glp",styles:"margin-top:-12px"};const Th=(0,w.Ay)("div",{target:"eub3n503"})("display:flex;flex-grow:1;height:51px;",(({theme:e})=>!e.isMobileSize&&Sh)," align-items:center;padding:5px 12px;box-sizing:border-box;overflow:hidden;");var _h={name:"3ix1vd",styles:"opacity:1"};const Eh=(0,w.Ay)("div",{target:"eub3n502"})("color:",(0,w.w4)("bodyText"),";font-size:14px;line-height:21px;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;transition:opacity 200ms ease-in-out;transition-delay:150ms;overflow:hidden;opacity:0;",(({show:e})=>e&&_h),";");var Bh={name:"3ix1vd",styles:"opacity:1"},Nh={name:"1j6452b",styles:"position:relative;top:-12px"};const Ih=(0,w.Ay)("div",{target:"eub3n501"})("display:flex;flex:1;transition:opacity 0.3s;opacity:0;",(({theme:e})=>e.isMobileSize&&Nh)," ",(({show:e})=>e&&Bh),";"),zh=(0,w.Ay)("div",{target:"eub3n500"})("padding:24px 8px 5px;display:flex;flex-direction:row;pointer-events:none;",(({headerHeight:e})=>(0,w.AH)("margin:-",e+6,"px 48px 0;"))," &.intercom-messenger-header-view-enter{",Eh.className,",",wh.className,"{animation-name:",Ah,";animation-duration:","250ms",";animation-timing-function:",jh,";animation-delay:","350ms",";animation-fill-mode:both;}}&.intercom-messenger-header-view-exit{",Eh.className,",",wh.className,"{animation-name:",kh,";animation-duration:","150ms",";animation-timing-function:",jh,";animation-delay:","0s",";animation-fill-mode:both;}}");function Mh({articleIsScrolled:e,showTitle:t,transitioningBack:n}){const{title:i}=(0,h.GV)(ir._9)||{},r=(0,h.GV)(ir.Wm),s=(0,h.GV)(jr.l),o=(0,v.useRef)(null),{height:a}=N(),l=s&&!e,c=(0,v.useRef)(null);return(0,x.jsx)(zh,{ref:o,expanded:l,headerHeight:a,children:(0,x.jsx)(Ch,{children:(0,x.jsx)(R.B1,{in:!n,classNames:"intercom-search-browse-fade",timeout:100,mountOnEnter:!0,unmountOnExit:!0,nodeRef:c,children:(0,x.jsx)(Ih,{show:r,ref:c,children:(0,x.jsx)(Th,{children:(0,x.jsx)(Eh,{show:t,"aria-hidden":"true",children:i})})})})})})}const Rh=w.i7`
  0% {
    opacity: 0;
  }
  100% {
    opacity: 1;
  }
`,Ph=(0,w.Ay)("div",{target:"e94v8qu12"})("padding-top:",(0,w.w4)("isUnifiedStyling")?20:0,"px;animation-name:",Rh,";animation-duration:","50ms",";animation-timing-function:","ease-in-out",";animation-delay:","0s",";animation-fill-mode:both;"),Oh=(0,w.Ay)(Ph,{target:"e94v8qu11"})(),Lh=({theme:e})=>(0,w.AH)("margin-left:10%;background:",e.containerNeutral,";border-radius:100px;",Oh.className," &{margin-left:0;}"),Hh=(0,w.Ay)("div",{target:"e94v8qu10"})("width:40%;min-height:16px;",Lh,";"),Dh=(0,w.Ay)("div",{target:"e94v8qu9"})("width:60%;min-height:16px;margin-top:16px;",Lh,";"),Vh=(0,w.Ay)("div",{target:"e94v8qu8"})(),Fh=(0,w.Ay)("div",{target:"e94v8qu7"})({name:"qoz2rc",styles:"margin-top:68px"}),qh=(0,w.Ay)("div",{target:"e94v8qu6"})("width:36px;height:36px;border-radius:50%;background:",(0,w.w4)("iconOnInverse"),";margin-left:10%;margin-top:16px;float:left;",Oh.className," &{margin-left:0;}"),Gh=(0,w.Ay)("div",{target:"e94v8qu5"})({name:"g0dsyy",styles:"float:left"}),Uh=(0,w.Ay)("div",{target:"e94v8qu4"})("min-width:120px;min-height:8px;margin-top:19px;",Lh,";"),$h=(0,w.Ay)("div",{target:"e94v8qu3"})("position:relative;min-width:80px;min-height:8px;margin-top:12px;",Lh,";"),Wh=(0,w.Ay)("div",{target:"e94v8qu2"})("width:80%;min-height:8px;margin-top:16px;",Lh,";"),Kh=(0,w.Ay)("div",{target:"e94v8qu1"})("width:75%;min-height:8px;margin-top:16px;",Lh,";"),Yh=(0,w.Ay)("div",{target:"e94v8qu0"})("width:160px;min-height:8px;margin-top:16px;",Lh,";");function Zh(){return(0,x.jsxs)(Ph,{"data-testid":"article-skeleton",children:[(0,x.jsx)(Hh,{}),(0,x.jsx)(Dh,{}),(0,x.jsxs)(Vh,{children:[(0,x.jsx)(qh,{}),(0,x.jsxs)(Gh,{children:[(0,x.jsx)(Uh,{}),(0,x.jsx)($h,{})]})]}),(0,x.jsxs)(Fh,{children:[(0,x.jsx)(Wh,{}),(0,x.jsx)(Kh,{}),(0,x.jsx)(Yh,{})]})]})}var Jh=n(427);let Qh=function(e){return e.ALEXANDRIA_LOADED="alexandria-loaded",e.SHEET_LOADED="sheet-loaded",e.HEIGHT_CHANGE="height-change",e.SCROLL_TO="scroll-to",e.LINK_CLICKED="link-clicked",e}({});function Xh({title:e,url:t,onLoad:n,onSetScrollPosition:i,helpCenterSession:r,appColor:s,navigationSource:o,hash:a}){var l;const c=(0,h.jL)(),d=(0,v.useRef)(null),[p,u]=(0,v.useState)(0);let g={iframe:"true",user:r,color_override:s,current_url:null==(l=(0,Mn.KQ)())?void 0:l.href.toLowerCase(),cross_origin_isolated:window.crossOriginIsolated};o&&(g=Object.assign({},g,{utm_source:"intercom-messenger",utm_content:o}));const m=a?`${t}?${new URLSearchParams(g).toString()}#${a}`:`${t}?${new URLSearchParams(g).toString()}`;return(0,v.useEffect)((()=>{var e;const t=({data:{intercomSheet:e}})=>{if(!e)return;const{type:t,payload:r}=e;switch(t){case Qh.ALEXANDRIA_LOADED:case Qh.SHEET_LOADED:n&&n(t);break;case Qh.HEIGHT_CHANGE:u(r.height+20);break;case Qh.SCROLL_TO:i(r.offsetTop);break;case Qh.LINK_CLICKED:(0,je.A5)("clicked","alexandria-article-link","search-browse","messenger",{url:r.url}),c((0,Te.NQ)(r.url))}},r=null==(e=d.current)||null==(e=e.ownerDocument)?void 0:e.defaultView;return r&&r.addEventListener("message",t,!1),()=>{r&&r.removeEventListener("message",t)}}),[d,n,c,i]),(0,x.jsx)("iframe",{"data-testid":"help-center-article",title:e,sandbox:"allow-scripts allow-forms allow-same-origin allow-popups allow-popups-to-escape-sandbox allow-downloads",src:Dr({overflowHidden:!0}),onLoad:function(e){!function(e,t){var n;const i=(0,Jh.oH)(Jh.N0,t,Jh.N0);null==(n=e.contentWindow)||n.postMessage(i,"*")}(e.target,m)},allowFullScreen:!0,allow:"microphone *; camera *; autoplay *",ref:d,style:{width:"100%",minHeight:"100%",height:p},role:"dialog",credentialless:window.crossOriginIsolated?"true":void 0})}function eg({title:e,show:t,onHeightChange:n}){const i=(0,h.GV)(jr.l);return(0,x.jsx)(lt.A,{onHeightChange:n,children:(0,x.jsx)(ig,{show:t,isExpanded:i,children:e})})}var tg={name:"3ix1vd",styles:"opacity:1"},ng={name:"1mwvtc8",styles:"padding:20px 24px 4px 22px"};const ig=(0,w.Ay)("h1",{target:"eltcq8z0"})("opacity:0;padding:0 24px 4px 22px;font-size:24px;font-weight:700;line-height:130%;transition:all 300ms ease;color:",(0,w.w4)("textDefault"),";",(({theme:e})=>e.isUnifiedStyling&&ng)," ",(({show:e})=>e&&tg)," ",(({isExpanded:e,theme:t})=>e&&(0,w.AH)("padding:",t.isUnifiedStyling?20:0,"px 40px 4px 40px;font-size:28px;line-height:130%;")),";");var rg=n(86777);const sg=(e="")=>e.replace("#","%23"),og=(0,w.Ay)("div",{target:"e1trrwbj1"})("background-color:",(0,w.w4)("containerBaseNeutral"),";text-align:center;padding:9px 0 20px 0;margin-top:auto;display:flex;justify-content:center;align-items:flex-end;"),ag=(0,w.Ay)("select",{target:"e1trrwbj0"})("font-weight:400;font-size:14px;font-family:",(0,w.w4)("fontSansSerif"),";line-height:20px;height:36px;color:",(0,w.w4)("grey500"),";padding:0 32px 0 22px;box-sizing:border-box;margin:0 8px;appearance:none;border:none;background-color:",(0,w.w4)("containerBaseNeutral"),";background-image:url(","data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTggMTVDMTEuODY2IDE1IDE1IDExLjg2NiAxNSA4QzE1IDQuMTM0MDEgMTEuODY2IDEgOCAxQzQuMTM0MDEgMSAxIDQuMTM0MDEgMSA4QzEgMTEuODY2IDQuMTM0MDEgMTUgOCAxNVoiIHN0cm9rZT0iIzczNzM3MyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRoIGQ9Ik03Ljk5OTgyIDE1QzkuMzk5MzEgMTUgMTAuNTMzOCAxMS44NjYgMTAuNTMzOCA4QzEwLjUzMzggNC4xMzQwMSA5LjM5OTMxIDEgNy45OTk4MiAxQzYuNjAwMzMgMSA1LjQ2NTgyIDQuMTM0MDEgNS40NjU4MiA4QzUuNDY1ODIgMTEuODY2IDYuNjAwMzMgMTUgNy45OTk4MiAxNVoiIHN0cm9rZT0iIzczNzM3MyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CjxwYXRoIGQ9Ik0xLjQ0ODI0IDUuNzU5NzdIMTQuNTI0MiIgc3Ryb2tlPSIjNzM3MzczIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPHBhdGggZD0iTTEuNDQ4MjQgMTAuMjQwMkgxNC41MjQyIiBzdHJva2U9IiM3MzczNzMiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8L3N2Zz4K","),url(","data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00LjIzNDMxIDUuNzQ0MDhDMy45MjE5IDYuMDY5NTEgMy45MjE5IDYuNTk3MTUgNC4yMzQzMSA2LjkyMjU5TDcuNDM0MzEgMTAuMjU1OUM3Ljc0NjczIDEwLjU4MTQgOC4yNTMyNyAxMC41ODE0IDguNTY1NjkgMTAuMjU1OUwxMS43NjU3IDYuOTIyNTlDMTIuMDc4MSA2LjU5NzE1IDEyLjA3ODEgNi4wNjk1MSAxMS43NjU3IDUuNzQ0MDhDMTEuNDUzMyA1LjQxODY0IDEwLjk0NjcgNS40MTg2NCAxMC42MzQzIDUuNzQ0MDhMOCA4LjQ4ODE2TDUuMzY1NjkgNS43NDQwOEM1LjA1MzI3IDUuNDE4NjQgNC41NDY3MyA1LjQxODY0IDQuMjM0MzEgNS43NDQwOFoiIGZpbGw9IiM3MzczNzMiLz4KPC9zdmc+Cg==",");background-repeat:no-repeat,no-repeat;background-position:0 10px,right 12px center;background-size:14px,16px;transition:border-color 0.25s,outline 0.25s;cursor:pointer;&:hover{color:",(e=>e.theme.primaryColor),";background-image:(\n        url(",(e=>((e="")=>`"data:image/svg+xml,%3Csvg width='16' height='16' viewBox='0 0 16 16' fill='white' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M8 15C11.866 15 15 11.866 15 8C15 4.13401 11.866 1 8 1C4.13401 1 1 4.13401 1 8C1 11.866 4.13401 15 8 15Z' stroke='${sg(e)}' stroke-linecap='round' stroke-linejoin='round'/%3E%3Cpath d='M7.99982 15C9.39931 15 10.5338 11.866 10.5338 8C10.5338 4.13401 9.39931 1 7.99982 1C6.60033 1 5.46582 4.13401 5.46582 8C5.46582 11.866 6.60033 15 7.99982 15Z' stroke='${sg(e)}' stroke-linecap='round' stroke-linejoin='round'/%3E%3Cpath d='M1.44824 5.75977H14.5242' stroke='${sg(e)}' stroke-linecap='round' stroke-linejoin='round'/%3E%3Cpath d='M1.44824 10.2402H14.5242' stroke='${sg(e)}' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E"`)(e.theme.primaryColor)),")\n      ),url(",(e=>((e="")=>`"data:image/svg+xml;utf8,%3Csvg width='16' height='16' viewBox='0 0 16 16' fill='${sg(e)}' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M4.23431 5.74408C3.9219 6.06951 3.9219 6.59715 4.23431 6.92259L7.43431 10.2559C7.74673 10.5814 8.25327 10.5814 8.56569 10.2559L11.7657 6.92259C12.0781 6.59715 12.0781 6.06951 11.7657 5.74408C11.4533 5.41864 10.9467 5.41864 10.6343 5.74408L8 8.48816L5.36569 5.74408C5.05327 5.41864 4.54673 5.41864 4.23431 5.74408Z' fill='${sg(e)}'/%3E%3C/svg%3E"\n`)(e.theme.primaryColor)),");}&:focus{outline:none;}"),lg=({locales:e=[],selectedLocale:t,onChange:n=()=>{}})=>(0,x.jsx)(og,{children:(0,x.jsx)(ag,{value:null==t?void 0:t.locale,onChange:t=>{const i=t.currentTarget.value,r=e.find((e=>e.locale===i));n(r)},children:e.map((({locale:e,name:t})=>(0,x.jsx)("option",{value:e,children:t},e)))})});var cg=n(48801);const dg=(0,w.Ay)("span",{target:"e1p39j031"})("position:relative;top:3px;margin-right:5px;opacity:0.9;svg{path.box{stroke:",(0,w.w4)("grey500"),";}}"),pg=(0,w.Ay)("div",{target:"e1p39j030"})("padding-top:8px;a{color:",(0,w.w4)("grey500"),";margin:0 8px;font-size:14px;line-height:20px;&:hover{color:",(e=>e.theme.primaryColor),";svg{path.box{stroke:",(e=>e.theme.primaryColor),";}path.arrow{fill:",(e=>e.theme.primaryColor),";}}}}"),ug=({publicUrl:e})=>(0,x.jsx)(pg,{children:(0,x.jsxs)("a",{href:e,target:"_blank",rel:"noopener noreferrer",children:[(0,x.jsx)(dg,{children:(0,x.jsx)(cg.A,{})}),(0,Be.Tl)("open_article_in_help_center")]})});const hg=e=>{const{article:{reactionsReply:t},onReactionSelect:n}=e;return(0,x.jsx)(yh.dz,{children:(0,x.jsx)(Ro.A,Object.assign({},t,{prompt:(0,Be.Tl)("article_question"),onReactionSelect:n}))})};const{assign:gg}=Object,mg=(0,r.Ng)(((e,t)=>{const{hideReactions:n}=t,i=(0,ir._9)(e);return{article:i,articleFromHomeScreenSuggestions:(0,ir.zO)(e),shouldArticleFadeIn:(0,ir.Wm)(e),allowNewConversationAutoReaction:(0,W.Sl)(e),shouldArticleSkeletonFadeIn:(0,ir.th)(e),appColor:(0,W.Eu)(e),transitioningBack:e.article.transitioningBack,hash:e.article.hash,selectedArticleLocale:e.article.articleLocale,hideReactions:n,helpCenterSession:$a(e)||(null==i?void 0:i.alexandriaData)}}),(e=>({onReactionSelect:(t,n,i,r)=>{e((0,Te.TO)(yt.Ay,t,r,n,i))},onLoad:()=>{e((0,Te.OQ)())},onArticleLocaleChange:t=>e((0,Te.Md)(t))})),((e,t,n)=>{const i=gg({},e,t,n),{article:r,onReactionSelect:s}=i,o=r&&r.id,a=r&&r.contentId,l=r&&r.helpCenterId;return gg(i,{onReactionSelect:s.bind(null,o,a,l)})}))((function(e){var t;const{article:n,articleFromHomeScreenSuggestions:i,shouldArticleFadeIn:r,onLoad:o,allowNewConversationAutoReaction:a,shouldArticleSkeletonFadeIn:l,appColor:c,transitioningBack:p,hash:u,onArticleLocaleChange:g,selectedArticleLocale:f,hideReactions:y,helpCenterSession:b}=e,[w,j]=(0,v.useState)(!1),[A,k]=(0,v.useState)(!1),[C,S]=(0,v.useState)(0),[T,_]=(0,v.useState)(!1),[E,B]=(0,v.useState)(!1),[N,I]=(0,v.useState)(null),[z,M]=(0,v.useState)(0),P=function(e){const{pathname:t}=(0,s.useLocation)(),n="/help"===t,i=(0,h.GV)(qa.JG),r=(0,h.GV)(qa.tc),o=(0,h.GV)(qa.qs);return e?"suggested_article":n?"search_browse":i?"home_screen":r?"conversation":o?"checklist":"search_browse"}(i),O=(0,ua.A)("viewInHelpCenterButton"),L="search_browse"===P||O,H=(0,ot.M5)(),D=(0,h.jL)(),V=(0,h.GV)((e=>e.article.isLoaded));(0,v.useEffect)((()=>{V||B(!1)}),[V]);const F=(0,v.useCallback)((e=>{_(!0),e===Qh.ALEXANDRIA_LOADED&&B(!0),o()}),[_,o]),q=(0,v.useCallback)((()=>{r||F()}),[r,F]);(0,rg.A)(q,4e3);const G=e=>{const t=e>0,n=e>C;A!==t&&k(t),w!==n&&j(n)},U=(0,v.useRef)(null),$=(0,v.useRef)(null),W=(0,v.useRef)(null),K=(0,v.useRef)(null),Y=(0,wa.Z)(null==n?void 0:n.id);if((0,v.useEffect)((()=>{Y===(null==n?void 0:n.id)&&(null==f?void 0:f.url)===(null==n?void 0:n.url)||(k(!1),j(!1),M(0))}),[n,Y,f]),(0,v.useEffect)((()=>{var e;null==N||N.scroll({top:z}),null==(e=W.current)||null==(e=e.scrollable)||null==e.scroll||e.scroll({top:z})}),[N,z,W]),!n)return null;const{url:Z,reactionsReply:J}=n,Q=!!J&&!(0,m.z)(),X=a&&2===(null==J?void 0:J.reactionIndex),ee=l&&!r;return(0,x.jsx)(yh.Kj,{children:(0,x.jsx)(R.F,{children:(0,x.jsx)(R.B1,{classNames:"",timeout:250,nodeRef:U,children:(0,x.jsxs)(yh.q,{ref:U,children:[(0,x.jsx)(Mh,{articleIsScrolled:w,showTitle:w,transitioningBack:p}),ee&&(0,x.jsx)(Zh,{}),(0,x.jsx)(R.B1,{in:!p,classNames:"intercom-search-browse-slide-right",timeout:100,mountOnEnter:!0,unmountOnExit:!0,onExited:()=>{D((0,Te.rm)(yt.Ay))},nodeRef:$,children:(0,x.jsx)(yh.n2,{show:r,ref:$,children:(0,x.jsxs)(du.A,{showScrollingBorder:!H,isInsideModal:!1,onScroll:e=>G(e.target.scrollTop),ref:W,onScrollable:e=>{I(e)},children:[(0,x.jsx)(eg,{show:!w,title:n.title,onHeightChange:S}),(0,x.jsxs)("div",{style:{flexGrow:1,marginBottom:"15px",position:"relative"},children:[!E&&(0,x.jsx)(Zh,{}),(0,x.jsx)(Xh,{helpCenterSession:b,title:n.title,url:Z,hash:u,onLoad:F,appColor:c,suggestedArticle:i,onSetScrollPosition:e=>{var t;G(e),null==N||N.scroll({top:e}),null==(t=W.current)||t.scrollable.scroll({top:e}),M(e)},navigationSource:P},Z)]}),E&&Q&&(0,x.jsxs)(yh._o,{children:[T&&!y?hg(e):null,!y&&(0,x.jsx)(R.B1,{classNames:"search-browse-reaction-followup",in:X,appear:!0,mountOnEnter:!0,onEntered:()=>{W&&setTimeout((()=>{var e;(0,d.Fp)(null==W||null==(e=W.current)?void 0:e.scrollable)}),150)},timeout:150,nodeRef:K,children:(0,x.jsx)(bh,{ref:K})}),(0,x.jsxs)(yh.cR,{children:[(null==(t=n.available_locales)?void 0:t.length)>1?(0,x.jsx)(lg,{selectedLocale:f||n.available_locales.find((e=>e.url===Z)),locales:n.available_locales,onChange:g}):null,n.publicUrl&&L&&(0,x.jsx)(ug,{publicUrl:n.publicUrl})]})]})]})})})]},Z)},Z)})})}));const xg=(0,w.Ay)("div",{target:"ezwlh9l1"})({name:"vc1hld",styles:"flex:1;display:flex;flex-direction:column;overflow-y:auto"}),fg=(0,w.Ay)("div",{target:"ezwlh9l0"})({name:"r7hikz",styles:"position:absolute;top:0;left:0;right:0"});function vg(){const{height:e}=N();if((0,h.GV)(ir.vT))return(0,x.jsx)(yg,{});const t=((0,Fr.x3)()??document).getElementById("intercom-header-placeholder");return(0,x.jsxs)(xg,{children:[t?(0,sd.createPortal)((0,x.jsx)(fg,{children:(0,x.jsx)(vh,{})}),t):(0,x.jsx)(fg,{children:(0,x.jsx)(vh,{})}),(0,x.jsx)("div",{style:{minHeight:e}}),(0,x.jsx)(ih,{})]})}function yg(){return(0,x.jsxs)(xg,{children:[(0,x.jsx)(vh,{}),(0,x.jsx)(nh,{showArticle:!0,fullHeight:!0,children:(0,x.jsx)(mg,{})})]})}const bg=()=>(0,x.jsx)(V,{header:null,children:(0,x.jsx)(vg,{})});var wg={name:"1lr8nsg",styles:"opacity:1;height:auto"};const jg=(0,w.Ay)("div",{target:"e1feuvn40"})("background:none;position:absolute;display:flex;flex-direction:column;width:100%;top:0;left:0;bottom:0;height:0;opacity:0;z-index:",(0,Bn.fE)(3),";",(e=>e.isSearchBrowseOpen?"transition: opacity 0ms 0ms;":"transition: opacity 300ms 0ms;")," ",(e=>e.isOpen&&wg),";"),Ag=()=>{const{isStandalone:e}=(0,h.GV)(ir.hb),t=(0,h.GV)(Ee.qZ),n=(0,h.jL)(),[i]=(0,s.useSearchParams)(),r="true"===i.get("hideReactions"),o=(0,ot.M5)();return(0,x.jsxs)(jg,{"data-testid":"article-standalone-wrapper",isSearchBrowseOpen:t,isOpen:Boolean(e),children:[(0,x.jsx)(_r.Content,{whiteBackground:!o,children:(0,x.jsx)(_r.TitleArea,{backDirection:"left",onBack:()=>n((0,Te.IP)()),showExpandButton:!0})}),(0,x.jsx)(mg,{hideReactions:r})]})},kg=()=>(0,x.jsx)(V,{header:null,children:(0,x.jsx)(Ag,{})});function Cg(){const e=yc(p.ND),t=(0,s.useNavigate)();return(0,x.jsx)(Er,{title:e,onBack:()=>t(-1),whiteBackground:!0,showExpandButton:!0,showBorder:!0,isSubView:!0})}var Sg=n(74884);const Tg=e=>e.newsItem,_g=(0,cr.Mz)(Tg,(e=>e.activeNewsItem)),Eg=(0,cr.Mz)(Tg,(e=>e.detailsFetchingStatus));var Bg=n(93949),Ng=n(68239),Ig=n(37341);function zg({newsItem:e}){var t;return(0,x.jsx)(Bg.d,{children:(0,x.jsxs)(dt.jt,{children:[(0,x.jsx)(dt.Jr,{children:e.author&&(0,x.jsx)(Ig.h,{author:e.author,size:24})}),(0,x.jsxs)(Ng.$z,{children:[(0,x.jsxs)(Ng.Z,{children:[(0,x.jsx)(Ng.v6,{children:`${(0,Be.Tl)("shared_by")}`}),(0,x.jsx)(Ng.Bi,{children:null==(t=e.author)?void 0:t.firstName})]}),(0,x.jsx)("span",{"aria-hidden":!0,children:"•"}),(0,x.jsx)("div",{children:(0,x.jsx)(Ng.v6,{children:(0,un.iw)(null==e?void 0:e.publishedAt)})})]})]})})}function Mg(){return(0,x.jsxs)(Oh,{children:[(0,x.jsx)(Hh,{}),(0,x.jsx)(Dh,{}),(0,x.jsxs)(Vh,{children:[(0,x.jsx)(qh,{}),(0,x.jsxs)(Gh,{children:[(0,x.jsx)(Uh,{}),(0,x.jsx)($h,{})]})]}),(0,x.jsxs)(Fh,{children:[(0,x.jsx)(Wh,{}),(0,x.jsx)(Kh,{}),(0,x.jsx)(Yh,{})]})]})}function Rg(){const e=(0,h.GV)(_t.V_),t=(0,h.GV)(_t.aP),n=(0,h.jL)();(0,v.useEffect)((()=>{t&&(e||n((0,Bt.c6)()))}),[n,t,e])}function Pg(){var e;const t=(0,h.jL)(),n=(0,s.useLocation)(),{state:i}=n,r=(0,v.useRef)(null),[o,a]=(0,v.useState)(!1),[l,c]=(0,v.useState)(!1),[d,p]=(0,v.useState)(!1),u=(0,s.useParams)(),g=(0,h.GV)(jr.l),m=(0,ot.M5)(),f=(0,h.GV)(_g),y=(0,h.GV)(Eg);if((0,v.useEffect)((()=>{const e=parseInt(u.newsItemId||"0"),n=f&&f.blocks;(e!==(null==f?void 0:f.id)||0!==e&&!n)&&t(wt(e))}),[t,u.newsItemId,f]),Ce({object:Ae.uV,place:Ae.mM,context:null==i?void 0:i.navigatingFrom,metadata:{news_item_id:null==f?void 0:f.id},sendMetricCondition:!!f}),Rg(),!f||y===Rt.n5.failure)return null;const b=y===Rt.n5.success&&(null==(e=f.reactionsReply)?void 0:e.reactionSet)&&f.reactionsReply.reactionSet.length>0;return(0,x.jsx)(Sg.X_,{children:(0,x.jsxs)(du.A,{isInsideModal:!1,onScroll:e=>{const t=null!=f&&f.coverImageUrl?350:120,n=e.target,i=n.scrollTop>0,r=n.scrollTop>t;d!==i&&(p(i),c(i)),o!==r&&a(r)},showScrollingBorder:!m&&d&&l,ref:r,children:[(0,x.jsxs)(Sg.AK,{children:[f.coverImageUrl&&(0,x.jsx)(Sg.mL,{children:(0,x.jsx)("img",{src:f.coverImageUrl,alt:f.title})}),(0,x.jsxs)(Sg.i3,{isExpanded:g,children:[(0,x.jsx)(Ct,{newsItem:f}),(0,x.jsx)(Sg.AM,{children:f.title}),(0,x.jsx)(zg,{newsItem:f}),(0,x.jsx)(Sg.GG,{children:f.blocks?(0,x.jsx)(Me.A,{animationKey:"news-items",duration:300,children:(0,x.jsx)(Dn.A,{blocks:f.blocks,onLinkClick:e=>{t((0,Te.NQ)(e,!1))}})}):(0,x.jsx)(Mg,{})})]})]}),b&&(0,x.jsx)(Sg.yL,{children:(0,x.jsx)(Ro.A,Object.assign({},f.reactionsReply,{prompt:`${(0,Be.Tl)("how_would_you_rate_this")}`,onReactionSelect:e=>{t(jt(f.id,e))}}))})]})},"please don't change")}const Og=()=>(0,x.jsx)(V,{header:(0,x.jsx)(Cg,{}),children:(0,x.jsx)(Pg,{})});var Lg=n(98767);const Hg=(0,w.Ay)("div",{target:"e2tswn72"})({name:"1jqm16y",styles:"text-align:center;align-items:center;margin:32px 16px 16px;align-self:center;display:flex;flex-direction:column;gap:8px"}),Dg=(0,w.Ay)("div",{target:"e2tswn71"})("width:40px;height:40px;border-radius:50%;background:",(0,w.w4)("containerNeutral"),";text-align:center;",Lg.N.className,"{margin-top:10px;}svg{width:21;height:21;path{fill:",(0,w.w4)("installGrey1"),";}}"),Vg=(0,w.Ay)("div",{target:"e2tswn70"})("display:flex;color:",(0,w.w4)("textMuted"),";font-weight:400;font-size:16px;line-height:20px;");function Fg(){return(0,x.jsxs)(Hg,{children:[(0,x.jsx)(Dg,{children:(0,x.jsx)(Cp.A,{})}),(0,x.jsx)(Vg,{children:`${(0,Be.Tl)("you_are_all_up_to_date")}`})]})}const qg=(0,w.Ay)("div",{target:"ehen3gr4"})("display:flex;flex-direction:column;max-height:100%;width:100%;height:100%;z-index:",(0,Bn.fE)(3),";overflow:hidden;"),Gg=(0,w.Ay)("div",{target:"ehen3gr3"})({name:"1ei7lwx",styles:"position:relative;flex:1;display:flex;overflow:hidden"}),Ug=(0,w.Ay)("div",{target:"ehen3gr2"})({name:"1mupyrl",styles:"margin-bottom:62px"}),$g=(0,w.Ay)("div",{target:"ehen3gr1"})("display:flex;flex-direction:column;overflow:hidden;padding:20px ",(0,w.w4)("globalHorizontalPadding"),"px;",ut.className,"{",(({unifiedStyling:e})=>(0,w.AH)("margin-top:",e?"10px":"12px",";")),";}"),Wg=(0,w.Ay)("div",{target:"ehen3gr0"})({name:"1s9ici2",styles:"display:flex;justify-content:center;align-items:center;padding-top:20px"}),Kg=(0,w.Ay)("div",{target:"e174rxpv1"})("margin:",(({theme:e})=>`16px ${e.globalHorizontalPadding+4}px 0px`),";display:flex;"),Yg=(0,w.Ay)("div",{target:"e174rxpv0"})("display:flex;flex-direction:column;flex:1;color:",(0,w.w4)("textDefault"),";h2{font-weight:600;font-size:16px;line-height:24px;}sub{font-weight:400;font-size:14px;line-height:21px;}");function Zg(){const e=(0,h.GV)((e=>e.app.name)),t=(0,ot.M5)();return(0,x.jsxs)(Kg,{unifiedStyling:t,children:[(0,x.jsxs)(Yg,{children:[(0,x.jsx)("h2",{children:(0,Be.Tl)("news_latest_title")}),(0,x.jsx)("sub",{children:(0,Be.Tl)("news_latest_subtitle",{team_name:e||""})})]}),(0,x.jsx)(we,{avatarSize:36,avatarPixelsToShow:30,maxAdmins:3})]})}var Jg,Qg,Xg;function em(){return em=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},em.apply(null,arguments)}const tm=e=>v.createElement("svg",em({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,fill:"none",viewBox:"0 0 32 32"},e),Jg||(Jg=v.createElement("mask",{id:"dbe0a",fill:"#fff"},v.createElement("path",{fillRule:"evenodd",d:"M13.403 18.667a.736.736 0 0 0-.736.736v7.573a3.024 3.024 0 0 1-5.941.796l-2.237-8.2c-.243-.893-.911-1.59-1.667-2.125A6.667 6.667 0 0 1 6.666 5.333h7.618a1 1 0 0 0 .55-.165L20.6 1.365a1.333 1.333 0 0 1 2.068 1.112v19.68A1.333 1.333 0 0 1 20.6 23.27l-6.791-4.482a.74.74 0 0 0-.405-.121m12.889-.567a.85.85 0 0 0 1.268 1.133A10.83 10.83 0 0 0 30.318 12c0-2.777-1.043-5.313-2.758-7.233A.85.85 0 0 0 26.292 5.9a9.12 9.12 0 0 1 2.326 6.1c0 2.344-.879 4.48-2.326 6.1",clipRule:"evenodd"}))),Qg||(Qg=v.createElement("path",{fill:"#222",fillRule:"evenodd",d:"M13.403 18.667a.736.736 0 0 0-.736.736v7.573a3.024 3.024 0 0 1-5.941.796l-2.237-8.2c-.243-.893-.911-1.59-1.667-2.125A6.667 6.667 0 0 1 6.666 5.333h7.618a1 1 0 0 0 .55-.165L20.6 1.365a1.333 1.333 0 0 1 2.068 1.112v19.68A1.333 1.333 0 0 1 20.6 23.27l-6.791-4.482a.74.74 0 0 0-.405-.121m12.889-.567a.85.85 0 0 0 1.268 1.133A10.83 10.83 0 0 0 30.318 12c0-2.777-1.043-5.313-2.758-7.233A.85.85 0 0 0 26.292 5.9a9.12 9.12 0 0 1 2.326 6.1c0 2.344-.879 4.48-2.326 6.1",clipRule:"evenodd"})),Xg||(Xg=v.createElement("path",{fill:"#000",d:"m6.726 27.772 1.64-.448zm-2.237-8.2 1.64-.448zm-1.667-2.125.982-1.388zM14.834 5.168l-.936-1.419zM20.6 1.365l-.936-1.42zm0 21.905.936-1.42zm-6.791-4.482-.936 1.42zm12.552.513 1.132-1.268zm-.068-1.2-1.268-1.133zm1.268 1.132L26.292 18.1zm0-14.466 1.268-1.132zm-1.2-.068 1.132 1.268zm-.068 1.2-1.268 1.133zM14.367 19.404a.964.964 0 0 1-.964.964v-3.4a2.436 2.436 0 0 0-2.436 2.436zm0 7.573v-7.573h-3.4v7.573zM9.643 31.7a4.724 4.724 0 0 0 4.724-4.724h-3.4c0 .731-.593 1.324-1.324 1.324zm-4.557-3.481a4.724 4.724 0 0 0 4.557 3.48v-3.4c-.597 0-1.12-.399-1.277-.975zm-2.237-8.2 2.237 8.2 3.28-.895-2.237-8.2zm-1.008-1.183c.61.43.914.836 1.008 1.183l3.28-.895c-.392-1.44-1.424-2.427-2.325-3.065zM-1.7 12a8.36 8.36 0 0 0 3.54 6.836l1.964-2.777A4.96 4.96 0 0 1 1.7 12zm8.367-8.366A8.367 8.367 0 0 0-1.7 12h3.4a4.967 4.967 0 0 1 4.967-4.966zm7.617 0H6.667v3.4h7.617zm-.386.115a.7.7 0 0 1 .386-.115v3.4a2.7 2.7 0 0 0 1.487-.447zm5.765-3.803-5.765 3.803 1.873 2.838 5.764-3.804zm4.704 2.531c0-2.416-2.687-3.862-4.704-2.531l1.872 2.837a.367.367 0 0 1-.568-.306zm0 19.68V2.477h-3.4v19.68zm-4.704 2.532c2.017 1.33 4.704-.116 4.704-2.532h-3.4c0-.293.325-.467.568-.306zm-6.791-4.482 6.79 4.482 1.873-2.838-6.79-4.481zm.53.16a.97.97 0 0 1-.53-.16l1.872-2.837a2.44 2.44 0 0 0-1.341-.403zm14.09-2.334c.35.313.38.85.068 1.2l-2.536-2.265a2.55 2.55 0 0 0 .203 3.6zm-1.2.067a.85.85 0 0 1 1.2-.067l-2.265 2.536a2.55 2.55 0 0 0 3.6-.204zm2.326-6.1c0 2.344-.879 4.48-2.326 6.1l2.536 2.265A12.52 12.52 0 0 0 32.018 12zm-2.326-6.1a9.12 9.12 0 0 1 2.326 6.1h3.4c0-3.21-1.208-6.146-3.19-8.365zm1.2.067a.85.85 0 0 1-1.2-.067l2.536-2.265a2.55 2.55 0 0 0-3.6-.203zm.068-1.2a.85.85 0 0 1-.068 1.2l-2.265-2.535a2.55 2.55 0 0 0-.203 3.6zM30.318 12c0-2.777-1.043-5.313-2.758-7.233l-2.536 2.265A7.42 7.42 0 0 1 26.918 12zm-2.758 7.233A10.82 10.82 0 0 0 30.318 12h-3.4c0 1.91-.714 3.647-1.894 4.968z",mask:"url(#dbe0a)"})));const nm=(0,w.Ay)("div",{target:"ehyu2s53"})({name:"46whl4",styles:"display:flex;flex-direction:column;justify-content:center;align-items:center;max-width:330px;height:100%;margin:0 auto"}),im=(0,w.Ay)(tm,{target:"ehyu2s52"})("width:32px;height:32px;color:",(0,w.w4)("iconDefault"),";"),rm=(0,w.Ay)("h2",{target:"ehyu2s51"})({name:"1nirzhv",styles:"margin:20px 0;font-size:18px;line-height:1.33;font-weight:600"}),sm=(0,w.Ay)("h3",{target:"ehyu2s50"})({name:"1azgb4d",styles:"font-size:14px;line-height:1.43;text-align:center"}),om=()=>(0,x.jsxs)(nm,{children:[(0,x.jsx)(im,{}),(0,x.jsx)(rm,{children:(0,Be.Tl)("news_empty_title")}),(0,x.jsx)(sm,{children:(0,x.jsx)("p",{children:(0,Be.Tl)("check_later_for_updates")})})]});function am(){const[e,t]=(0,v.useState)(1),n=(0,h.jL)(),i=(0,h.GV)(_t.AL),r=(0,h.GV)(_t.V_),s=(0,h.GV)(_t.u9),{loading:o,newsItems:a}=Nt(),l=(null==a?void 0:a.length)||0,c=(0,ot.M5)();Rg(),Ce({object:Ae.aq,place:Ae.mM,sendMetricCondition:l>0});const d=(0,h.GV)(_t.VC),p=(0,v.useCallback)((i=>{const r=i.target;r.scrollHeight-r.scrollTop<r.clientHeight+70&&!o&&d&&e!==d&&(t(d),n((0,Bt.Nr)(d)))}),[n,o,d,e]);if(!(o||a&&0!==a.length))return(0,x.jsx)(om,{});const u=o&&0===l,g=o&&l>0;return(0,x.jsx)(qg,{children:(0,x.jsx)(Gg,{children:(0,x.jsx)(du.A,{isInsideModal:!1,flex:!0,dynamicChildrenHeight:!0,onScroll:p,children:(0,x.jsx)(pu,{hideBorder:!0,children:(0,x.jsxs)(Ug,{children:[(0,x.jsx)(Zg,{}),(0,x.jsxs)($g,{unifiedStyling:c,children:[u?(0,x.jsx)(y.A,{}):null==a?void 0:a.map((e=>{const t=s&&!r&&!Et(e,i);return(0,x.jsx)(Tt,{newsItem:e,isUnread:!!t,renderingContext:Ae.V},`news-item-${e.id}`)})),g&&(0,x.jsx)(Wg,{children:(0,x.jsx)(y.A,{inline:!0})}),!o&&(0,x.jsx)(Fg,{})]})]})})})})})}function lm(){return(0,x.jsx)(am,{})}const cm=()=>(0,x.jsx)(V,{header:(0,x.jsx)(bc,{space:p.ND}),children:(0,x.jsx)(lm,{})});const dm=(0,w.Ay)("div",{target:"e6hpzjp1"})({name:"vt6su8",styles:"display:flex;justify-content:center;align-items:center;padding:20px 0"}),pm=(0,w.Ay)("div",{target:"e6hpzjp0"})({name:"13ubd8d",styles:"margin:10px"}),um=({ticketsPortalUrl:e,tickets:t,loading:n,onTicketClick:i,onTicketsScroll:r})=>{const{whiteBackground:s}=N(),o=e?{href:e,label:(0,Be.Tl)("ticket_portal_card_title"),subLabel:(0,Be.Tl)("ticket_portal_card_link_title")}:null;return(0,x.jsx)(hs.A,{errorText:"Something went wrong loading your tickets",align:"center",style:{marginTop:"20px",flex:1},children:(0,x.jsxs)(du.A,{isInsideModal:!1,flex:!0,dynamicChildrenHeight:!0,onScroll:r,showScrollingBorder:s,children:[o&&(0,x.jsx)(pm,{onClick:()=>(0,je.A5)("clicked","tickets_portal_link","messenger",Ae.wU,{tickets_portal_url:e}),children:(0,x.jsx)(En,{boldLabel:!0,linkSize:"medium",listPadding:0,links:[o]})}),(0,x.jsxs)(se.A,{children:[t.map((e=>(0,x.jsx)(mi,{title:e.name,publicTicketId:e.publicTicketId,typeName:e.ticketTypeName,status:e.status,statusLabel:e.statusLabel,unread:!1===e.read,onClick:()=>i(e.id),useGlobalHorizontalPadding:!0},e.id))),n&&(0,x.jsx)(dm,{children:(0,x.jsx)(y.A,{inline:!0})})]})]})})},hm=()=>{const e=(0,s.useNavigate)(),t=(0,h.GV)(vi.e_),n=(0,h.GV)(vi.Qt),i=(0,h.GV)(vi.tK),[r,o]=(0,v.useState)(1),a=(0,h.GV)(vi.$L),l=(0,h.jL)(),c=(0,v.useCallback)((e=>{const t=e.target;t.scrollHeight-t.scrollTop<t.clientHeight+70&&!i&&a&&r!==a&&(o(a),l((0,Wp.Ip)(a)))}),[l,i,a,r]);return(0,x.jsx)(um,{ticketsPortalUrl:t,tickets:n,loading:i,onTicketClick:t=>{e(`/tickets/details/${t}`,{state:{navigatingFrom:Ae.wU}})},onTicketsScroll:c})},gm=e=>async()=>{const t=e.getState();if(t.tickets.isFetching||t.tickets.isFetched)return null;return(0,e.dispatch)((0,Wp.Ip)()),null},mm=()=>(0,x.jsx)(V,{header:(0,x.jsx)(bc,{space:p.rK}),children:(0,x.jsx)(hm,{})}),xm=e=>async({params:t})=>{var n;const i=t.ticketId,r=e.getState();return i?(null!=(n=r.tickets.dataById[i])&&n.isFetching||e.dispatch((0,Wp.rs)(i)),null):null},fm=()=>(0,x.jsx)(V,{header:(0,x.jsx)(Dc,{}),children:(0,x.jsx)(Yp,{})});var vm;function ym(){return ym=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ym.apply(null,arguments)}const bm=e=>v.createElement("svg",ym({xmlns:"http://www.w3.org/2000/svg",width:33,height:32,fill:"none",viewBox:"0 0 33 32"},e),vm||(vm=v.createElement("path",{fill:"#1A1A1A",fillRule:"evenodd",d:"M26.3 21.737V6.262A4.06 4.06 0 0 0 22.237 2.2H6.764A4.063 4.063 0 0 0 2.7 6.262v15.475A4.06 4.06 0 0 0 6.763 25.8h15.475a4.06 4.06 0 0 0 4.062-4.063m-6.705-11.04c.45.45.45 1.178 0 1.627l-5.417 5.417a1.15 1.15 0 0 1-1.627 0l-2.709-2.708a1.151 1.151 0 1 1 1.628-1.628l1.894 1.894 4.603-4.602a1.15 1.15 0 0 1 1.628 0m8.869 2.168a1.151 1.151 0 1 1 2.302 0v9.276a7.92 7.92 0 0 1-7.922 7.922h-9.48a1.151 1.151 0 1 1 0-2.302h9.48a5.62 5.62 0 0 0 5.62-5.62z",clipRule:"evenodd"})));const wm=(0,w.Ay)("div",{target:"e1q1owy93"})({name:"46whl4",styles:"display:flex;flex-direction:column;justify-content:center;align-items:center;max-width:330px;height:100%;margin:0 auto"}),jm=(0,w.Ay)(bm,{target:"e1q1owy92"})({name:"11kmftp",styles:"width:33px;height:33px"}),Am=(0,w.Ay)("h2",{target:"e1q1owy91"})({name:"1nirzhv",styles:"margin:20px 0;font-size:18px;line-height:1.33;font-weight:600"}),km=(0,w.Ay)("h3",{target:"e1q1owy90"})({name:"1azgb4d",styles:"font-size:14px;line-height:1.43;text-align:center"}),Cm=()=>(0,x.jsxs)(wm,{"data-testid":"checklist-empty-state",children:[(0,x.jsx)(jm,{}),(0,x.jsx)(Am,{children:(0,Be.Tl)("no_tasks")}),(0,x.jsxs)(km,{children:[(0,x.jsx)("p",{children:(0,Be.Tl)("no_tasks_available_currently")}),(0,x.jsx)("p",{children:(0,Be.Tl)("check_later_for_updates")})]})]});const Sm=(0,w.Ay)("div",{target:"ep9ja670"})({name:"1878o4o",styles:"display:grid;gap:20px"});const Tm=(0,w.Ay)("div",{target:"exti8xz7"})("padding:16px 20px;border-radius:10px;border:1px solid rgba(0, 0, 0, 0.08);box-shadow:0px 2px 8px ",(0,w.w4)("elevation2"),";cursor:pointer;",(({theme:e})=>e.isUnifiedStyling&&(0,w.AH)({borderRadius:e.unifiedCardRadius,border:e.unifiedCardBorder,boxShadow:e.unifiedCardBoxShadow},""))," &:hover h2{color:",(0,w.w4)("linkColor"),";}background-color:",(({isComplete:e})=>e?(0,w.w4)("containerNeutral"):(0,w.w4)("containerBaseNeutral")),";"),_m=(0,w.Ay)("div",{target:"exti8xz6"})({name:"198cu3l",styles:"display:flex;justify-content:space-between;align-items:center;margin-bottom:4px"}),Em=(0,w.Ay)("h2",{target:"exti8xz5"})("font-size:14px;font-weight:600;line-height:21px;color:",(0,w.w4)("textDefault"),";"),Bm=(0,w.Ay)("p",{target:"exti8xz4"})("font-size:14px;font-weight:400;line-height:20px;margin-bottom:12px;color:",(0,w.w4)("textDefault"),";"),Nm=(0,w.Ay)("div",{target:"exti8xz3"})("margin-bottom:",(({isComplete:e})=>e?"0px":"12px"),";"),Im=(0,w.Ay)("div",{target:"exti8xz2"})("font-size:14px;font-weight:400;line-height:20px;color:",(0,w.w4)("textDefault"),";"),zm=(0,w.Ay)("span",{target:"exti8xz1"})({name:"16ceglb",styles:"font-weight:600"}),Mm=(0,w.Ay)("div",{target:"exti8xz0"})({name:"1r5gb7q",styles:"display:inline-block"}),Rm=({title:e,subtitle:t,checklistStatus:n,checklistTasks:i,completedTasks:r,estimatedTimeRemaining:s,nextStepTitle:o,onClick:a})=>{const l=r>0?"Next step":"First step",c=n===Jn.vb.Complete&&i===r,d=n===Jn.vb.New;return(0,x.jsxs)(Tm,{isComplete:c,onClick:a,children:[(0,x.jsxs)(_m,{children:[(0,x.jsx)(Em,{children:(0,x.jsx)(Dn.A,{blocks:e})}),(0,x.jsx)(ae.Ay,{type:d?"UnreadIndicator":"RightChevronColorable",color:d?void 0:"linkColor"})]}),t&&!c&&(0,x.jsx)(Bm,{children:(0,x.jsx)(Dn.A,{blocks:t})}),(0,x.jsx)(Nm,{isComplete:c,children:(0,x.jsx)(Kn.A,{checklistTasks:i,completedChecklistTasks:r,estimatedTimeRemaining:s,condensed:!0,prefillProgressIfEmpty:!0})}),o&&(0,x.jsxs)(Im,{children:[(0,x.jsxs)(zm,{children:[l,": "]}),(0,x.jsx)(Mm,{children:(0,x.jsx)(Dn.A,{blocks:o})})]})]})},Pm=({checklist:e,onClick:t})=>{const n=(0,Qn.Sg)(e),i=(0,Qn.zE)(n),r=(0,Qn.fp)(n),s=(0,Qn.M2)(r),o=r.reduce(((e,t)=>e+t.estimatedTime),0);return(0,x.jsx)(Rm,{title:e.titleBlocks,subtitle:e.subtitleBlocks,checklistStatus:e.status,checklistTasks:n.length,completedTasks:i.length,estimatedTimeRemaining:o,nextStepTitle:null==s?void 0:s.titleBlocks,onClick:t})},Om=({checklists:e,onChecklistClick:t})=>(0,x.jsx)("div",{"data-testid":"checklists-home",children:(0,x.jsx)(Sm,{children:e.map((e=>(0,x.jsx)(Pm,{checklist:e,onClick:()=>t(e.checklistProgressId)},e.id)))})});const Lm=(0,w.Ay)("div",{target:"e1g75ecv1"})({name:"1e876fv",styles:"display:flex;flex-direction:column;width:100%;overflow-y:auto"}),Hm=(0,w.Ay)("div",{target:"e1g75ecv0"})("box-sizing:border-box;padding:30px ",(({theme:e})=>e.globalHorizontalPadding),"px;height:100%;overflow-y:auto;-webkit-overflow-scrolling:touch;");var Dm=function(e){return e[e.SINGLE_CHECKLIST=0]="SINGLE_CHECKLIST",e[e.MULTIPLE_CHECKLISTS=1]="MULTIPLE_CHECKLISTS",e[e.NO_CHECKLIST=2]="NO_CHECKLIST",e}(Dm||{});const Vm=()=>{const[e,t]=(0,v.useState)(),n=(0,h.GV)(Yn.RK),i=(0,h.jL)(),r=(0,v.useCallback)((e=>{i((0,Zn.tB)(e))}),[i]),s=(0,v.useCallback)((()=>{i((0,Zn._Y)()),i((0,Zn.ow)())}),[i]);return(0,v.useEffect)((()=>{if(e===Dm.SINGLE_CHECKLIST){const{checklistProgressId:e}=n[0];(0,Qn.C2)(`Showing single checklist progress ID: ${e}`),r(e)}}),[n,r,e]),(0,v.useEffect)((()=>{1===n.length&&t(Dm.SINGLE_CHECKLIST),n.length>1&&t(Dm.MULTIPLE_CHECKLISTS),0===n.length&&t(Dm.NO_CHECKLIST)}),[n.length]),(0,v.useEffect)((()=>{s()}),[s]),(0,x.jsx)(Lm,{children:(0,x.jsxs)(Hm,{children:[e===Dm.MULTIPLE_CHECKLISTS&&(0,x.jsx)(Om,{checklists:n,onChecklistClick:r}),e===Dm.NO_CHECKLIST&&(0,x.jsx)(Cm,{})]})})},Fm=()=>(0,x.jsx)(V,{header:(0,x.jsx)(bc,{space:p.Ul}),children:(0,x.jsx)(Vm,{})}),qm=()=>{const e=(0,s.useNavigate)(),t=(0,s.useLocation)(),n=(0,h.jL)(),i=(0,h.GV)(Yn.J3),r=(0,h.GV)(g.V$),o=(0,g.ke)(t.pathname),a=yc(p.Ul),l=i||r||o,c=l?"":a,d=(0,ot.M5)();return(0,x.jsx)(_r.Content,{whiteBackground:!d&&(l||o),showBorder:d,children:(0,x.jsx)(_r.TitleArea,{title:c,onBack:l?()=>{n((0,Zn.$1)()),e(r&&!i?p.Zh.path:-1)}:void 0})})};var Gm=n(97330);var Um={name:"1n8met0",styles:"padding-top:0"};const $m=(0,w.Ay)("div",{target:"eoxpqij3"})("padding:24px ",(({theme:e})=>e.globalHorizontalPadding+8),"px 14px;background:",(0,w.w4)("containerBaseNeutral"),";z-index:10;",(({removeTopPadding:e})=>e&&Um),";"),Wm=(0,w.Ay)("h2",{target:"eoxpqij2"})("font-size:24px;font-weight:700;line-height:1.5;color:",(0,w.w4)("textDefault"),";text-align:center;"),Km=(0,w.Ay)("div",{target:"eoxpqij1"})("font-size:16px;font-weight:400;line-height:1.5;color:",(0,w.w4)("textDefault"),";text-align:center;"),Ym=(0,w.Ay)("div",{target:"eoxpqij0"})({name:"g2fy0f",styles:"display:flex;justify-content:center;margin-top:12px"});const Zm=(0,w.Ay)("div",{target:"e1womzdd2"})({name:"s5xdrg",styles:"display:flex;align-items:center"}),Jm=(0,w.Ay)("div",{target:"e1womzdd1"})({name:"1d7rrwu",styles:"display:inline-block;margin-right:8px;vertical-align:middle"}),Qm=(0,w.Ay)("div",{target:"e1womzdd0"})("font-size:14px;display:inline-block;vertical-align:middle;color:",(0,w.w4)("textMuted"),";line-height:20px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;&.lastUpdated{flex:none;}"),Xm=(e,t)=>t?e.name:e.firstName,ex=(e,t)=>"team"!==e.type?(0,Be.Tl)("from_app",{app_name:t}):null,tx=({sender:e,avatarMargin:t,linkingText:n,showFullName:i,lastUpdatedAt:r,appName:s})=>(0,x.jsxs)(Zm,{children:[(0,x.jsx)(Jm,{style:{marginRight:t||8},children:(0,x.jsx)(Ig.h,{author:e})}),(0,x.jsxs)(Qm,{children:[n&&`${n}`," ",Xm(e,i),s&&` ${ex(e,s)}`]}),Boolean(r)&&(0,x.jsxs)(Qm,{className:"lastUpdated",children:[(0,x.jsxs)("span",{style:{whiteSpace:"pre-wrap"},"aria-hidden":!0,children:[" ","•"," "]}),(0,x.jsx)("span",{children:(0,un.iw)(r)})]})]}),nx=(0,cr.Mz)((e=>e.app),(({name:e})=>({name:e}))),ix=({title:e,subtitle:t,sender:n})=>{const{name:i=""}=(0,h.GV)(nx),r=(0,h.GV)(Yn.Ji),s=(0,h.GV)(g.V$),o=1===r.length,a=(0,ot.M5)();return(0,x.jsxs)($m,{removeTopPadding:!a&&(!o||s),children:[(0,x.jsx)(Wm,{children:(0,x.jsx)(Dn.A,{blocks:e})}),t&&(0,x.jsx)(Km,{children:(0,x.jsx)(Dn.A,{blocks:t})}),n&&(0,x.jsx)(Ym,{children:(0,x.jsx)(tx,{sender:n,appName:i})})]})};var rx;function sx(){return sx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},sx.apply(null,arguments)}const ox=e=>v.createElement("svg",sx({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 16 16"},e),rx||(rx=v.createElement("path",{fill:"currentColor",d:"m14.884 3.95-.951-.86a.35.35 0 0 0-.495.026l-7.236 8.012-3.757-3.393a.35.35 0 0 0-.495.025l-.86.951a.35.35 0 0 0 .026.495l4.96 4.48a.34.34 0 0 0 .17.082.4.4 0 0 0 .097.008.35.35 0 0 0 .243-.115l8.324-9.217a.35.35 0 0 0-.026-.494"})));const ax="200ms",lx={name:"14z3k8d",styles:"position:absolute;top:0;right:0;bottom:0;left:0;margin:auto"},cx=(0,w.Ay)("div",{target:"euryngc5"})("display:flex;align-items:baseline;",(({theme:e,expanded:t})=>t&&(0,w.AH)(px.className,"{color:",e.textDefault,";font-weight:600;}",ux.className,"{transform:scale(-1);color:",e.checklistMainColor,";}",dx.className,"{background:",e.disabledButtonBackground,";color:",e.checklistMainColor,";}"))," ",(({theme:e,completed:t})=>t&&(0,w.AH)(hx.className,"{opacity:0;visibility:hidden;}",gx.className,"{opacity:1;visibility:visible;}",dx.className,"{background:",e.containerEmphasisNeutral,";color:",e.textDefault,";}"))," ",(({theme:e,expanded:t,completed:n})=>t&&n&&(0,w.AH)(ux.className,"{transform:scale(-1);color:",e.iconMutedExtra,";}")),";"),dx=(0,w.Ay)("div",{target:"euryngc4"})("position:relative;display:flex;justify-content:center;align-items:center;flex:0 0 32px;width:32px;height:32px;border-radius:50px;background:",(0,Q.vf)((0,w.w4)("disabledButtonBackground"),.1),";color:",(0,w.w4)("iconMuted"),";"),px=(0,w.Ay)("h3",{target:"euryngc3"})("flex:1;padding:0 8px;font-weight:400;font-size:14px;line-height:1.42;color:",(0,w.w4)("textDefault"),";"),ux=(0,w.Ay)("span",{target:"euryngc2"})("position:relative;top:4px;width:16px;height:16px;flex:0 0 16px;color:",(0,w.w4)("iconMuted"),";transition:transform ease-in-out ",ax,";"),hx=(0,w.Ay)("span",{target:"euryngc1"})("font-size:14px;font-weight:600;line-height:1;transition:opacity ease-in ",ax,";"),gx=(0,w.Ay)(ox,{target:"euryngc0"})(lx," width:16px;height:16px;opacity:0;transition:opacity cubic-bezier(0.53, 1.88, 0.56, 0.65) ",ax,";transition-delay:",ax,";");var mx;function xx(){return xx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},xx.apply(null,arguments)}const fx=e=>v.createElement("svg",xx({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 16 16"},e),mx||(mx=v.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M3.934 5.935a.8.8 0 0 1 1.13 0L8 8.869l2.935-2.934a.8.8 0 0 1 1.13 1.13l-3.5 3.5a.8.8 0 0 1-1.13 0l-3.5-3.5a.8.8 0 0 1 0-1.13",clipRule:"evenodd"}))),vx=({expanded:e,completed:t,title:n,order:i})=>(0,x.jsxs)(cx,{expanded:Boolean(e),completed:t,children:[(0,x.jsxs)(dx,{children:[(0,x.jsx)(hx,{children:i}),(0,x.jsx)(gx,{})]}),(0,x.jsx)(px,{children:n}),(0,x.jsx)(ux,{children:(0,x.jsx)(fx,{})})]});const yx=(0,w.Ay)("div",{target:"e70n5i45"})({name:"1axw7wj",styles:"font-size:14px;font-weight:400;line-height:1.5"}),bx=(0,w.Ay)("div",{target:"e70n5i44"})("display:flex;flex-direction:column;padding-top:8px;padding-bottom:4px;color:",(0,w.w4)("textMuted"),";margin-left:40px;margin-right:15px;img,iframe{max-width:100%;}*+.intercom-block-video{margin-top:8px;}.intercom-block-video+*{margin-top:8px;}*+.intercom-block-image{margin-top:8px;}.intercom-block-image+*{margin-top:8px;}.intercom-block-paragraph{min-height:1.5em;a:not(.intercom-block-button){color:",(0,w.w4)("linkColor"),";text-decoration:underline;&:not(.intercom-block-button):hover{text-decoration:none;color:",(0,w.w4)("linkColorHover"),";}}}"),wx=(0,w.Ay)("div",{target:"e70n5i43"})("padding-top:16px;a:hover,button:hover{",(({theme:e})=>e.isPrimaryColorLight&&(0,w.AH)("border:1px solid ",e.lightButtonOutlineHoverColor,";margin:-1px;")),";}"),jx=(0,w.Ay)("div",{target:"e70n5i42"})({name:"1x2g43g",styles:"border-top:1px solid rgba(0, 0, 0, 0.08);margin-top:16px;padding-bottom:20px"}),Ax=(0,w.Ay)("button",{target:"e70n5i41"})("display:flex;align-items:center;margin-left:40px;margin-bottom:4px;color:",(({isComplete:e})=>e?(0,w.w4)("grey500"):(0,w.w4)("checklistMainColor")),";"),kx=(0,w.Ay)(ox,{target:"e70n5i40"})({name:"1n33gzm",styles:"width:12px;height:12px;margin-right:8px"}),Cx=({id:e,currentChecklist:t,actionType:n,actionContentId:i,actionUrl:r,openActionUrlInNewTab:s,onTaskActionClick:o,customActionButtonText:a,actionContentUrl:l})=>{const c=(0,h.jL)(),d=()=>c((0,Zn.sC)(null==t?void 0:t.id,null==t?void 0:t.checklistProgressId,e)),p=a||(0,Be.Tl)("checklist_step_action_button");switch(n){case Jn.X2.ReadOnly:return null;case Jn.X2.OpenUrl:return(0,x.jsx)(wx,{onClick:d,children:(0,x.jsx)(br.z,{"data-testid":"checklist-task-action-button",href:r,rel:"noopener noreferrer",target:s?"_blank":void 0,children:p})});default:return(0,x.jsx)(wx,{children:(0,x.jsx)(br.A,{"data-testid":"checklist-task-action-button",onClick:()=>{d(),o(n,i,l||void 0)},children:p})})}},Sx=({id:e,currentChecklist:t,content:n,actionType:i,actionContentId:r,actionUrl:s,actionContentUrl:o,openActionUrlInNewTab:a,canBeManuallyResolved:l,customActionButtonText:c,isComplete:d,onTaskActionClick:p,onTaskResolve:u})=>(0,x.jsxs)(yx,{children:[(0,x.jsxs)(bx,{children:[n,(0,x.jsx)(Cx,{id:e,currentChecklist:t,actionType:i,actionContentId:r,actionUrl:s,openActionUrlInNewTab:a,customActionButtonText:c,onTaskActionClick:p,actionContentUrl:o})]}),l&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(jx,{}),(0,x.jsxs)(Ax,{"data-testid":"checklist-manual-resolve-button",isComplete:d,onClick:t=>(t=>{t.stopPropagation(),d||u(e)})(t),children:[(0,x.jsx)(kx,{}),d?(0,Be.Tl)("checklist_step_completed"):(0,Be.Tl)("checklist_mark_step_as_complete")]})]})]});var Tx=n(23753);const _x=160,Ex=(0,w.Ay)("div",{target:"euomxk33"})("min-height:40px;height:",(({height:e})=>e&&`${e}px`),";background:",(0,w.w4)("containerBaseNeutral"),";border-radius:10px;transition:height ",_x,"ms;box-shadow:",(({isComplete:e,theme:t})=>e?"none":`0px 0px 0px 1px ${t.elevation2}, 0px 2px 8px ${t.elevation2}`),";",(({theme:e})=>e.isUnifiedStyling&&(0,w.AH)({borderRadius:e.unifiedCardRadius,boxShadow:e.unifiedCardBoxShadow,border:e.unifiedCardBorder},""))," &:not(:first-of-type){margin-top:10px;}",(({background:e})=>e&&(0,w.AH)("background:",e,";")),";"),Bx=(0,w.Ay)("div",{target:"euomxk32"})({name:"e0dnmk",styles:"cursor:pointer"}),Nx=(0,w.Ay)("div",{target:"euomxk31"})({name:"1x95h09",styles:"padding:16px;box-sizing:border-box"}),Ix=(0,w.Ay)("div",{target:"euomxk30"})("opacity:0;visibility:hidden;height:0;",(({canDisplayContent:e})=>e&&(0,w.AH)("opacity:1;visibility:visible;height:auto;transition:opacity ",320,"ms ease-in-out ",_x,"ms;")),";"),zx=(0,v.forwardRef)((({header:e,content:t,expanded:n,className:i,background:r,isComplete:s,onExpand:o},a)=>{const[l,c]=(0,v.useState)(!1),[d,p]=(0,v.useState)(null),u=l&&void 0!==t,h=(0,v.useRef)(null),g=()=>{var e;null==(e=h.current)||e.scrollIntoView({behavior:"smooth",block:"center"})};return(0,v.useImperativeHandle)(a,(()=>({scrollInView:g}))),(0,v.useEffect)((()=>{c(n)}),[n]),(0,x.jsx)(Ex,{height:d,className:i,background:r,isComplete:s,"data-testid":"collapsible-card",role:"region","aria-expanded":l,ref:h,children:(0,x.jsx)(lt.A,{onHeightChange:p,children:(0,x.jsxs)(Nx,{children:[(0,x.jsx)(Bx,{onClick:()=>{const e=!l;c(e),o&&o(e)},"data-testid":"collapsible-card-header",children:(0,v.cloneElement)(e,{expanded:l?1:0})}),(0,x.jsx)(Tx.A,{appearDelay:_x,duration:_x,children:(0,x.jsx)(Ix,{"data-testid":"collapsible-card-content",canDisplayContent:u,children:u?t:null})})]})})})})),Mx=(0,v.forwardRef)((({cards:e,expandedCardId:t,className:n,onExpand:i},r)=>{const s=(0,v.useRef)([]),o=t=>{var n;const i=e.map((e=>e.id)).indexOf(t);null==(n=s.current[i])||n.scrollInView()};return(0,v.useImperativeHandle)(r,(()=>({scrollToCard:o}))),(0,x.jsx)("div",{className:n,children:(null==e?void 0:e.length)>0&&e.map(((e,n)=>{const r=t===e.id;return(0,x.jsx)(zx,{header:e.header,content:e.content,expanded:r,background:e.background,isComplete:e.isComplete,onExpand:t=>i(e.id,t),ref:e=>s.current[n]=e},e.id)}))})})),Rx=(0,v.forwardRef)((({activeCardId:e,cards:t,className:n,onCardExpand:i},r)=>{const s=(0,v.useRef)(null),[o,a]=(0,v.useState)(null),l=(e,t=!1)=>{var n;(a(e),t)&&(null==(n=s.current)||n.scrollToCard(e))},c=()=>{var e;null==(e=s.current)||e.scrollToCard(t[0].id)};return(0,v.useImperativeHandle)(r,(()=>({expandCard:l,scrollToTop:c}))),(0,v.useEffect)((()=>{i&&i(o)}),[o,i]),(0,v.useEffect)((()=>{(null==t?void 0:t.length)>0&&a(t[0].id)}),[]),(0,v.useEffect)((()=>{e&&a(e)}),[e]),(0,x.jsx)(Mx,{cards:t,expandedCardId:o,onExpand:(e,t)=>{t&&a(e)},className:n,ref:s})}));const Px=(0,w.Ay)("div",{target:"emyskci5"})({name:"1e876fv",styles:"display:flex;flex-direction:column;width:100%;overflow-y:auto"}),Ox=(0,w.Ay)("div",{target:"emyskci4"})({name:"pybav8",styles:"width:100%;height:100%;overflow-y:auto;-webkit-overflow-scrolling:touch"}),Lx=(0,w.Ay)("section",{target:"emyskci3"})("padding:24px ",(({theme:e})=>e.globalHorizontalPadding),"px 30px;"),Hx=(0,w.Ay)("h2",{target:"emyskci2"})({name:"14nrql6",styles:"font-size:16px;line-height:1.5;margin-bottom:10px"}),Dx=(0,w.Ay)("div",{target:"emyskci1"})("&+&{margin-top:",(({hasMultipleTaskGroups:e})=>e?"30px":"0"),";}"),Vx=(0,w.Ay)("div",{target:"emyskci0"})("padding:0px ",(({theme:e})=>e.globalHorizontalPadding),"px;margin-top:8px;");var Fx=n(99928),qx=n(82525),Gx=n(3356);const Ux=({cardListRef:e,taskList:t,onTaskResolve:n,onTaskActionClick:i,checklistProgressId:r})=>{const s=(0,Ln.A)(),o=(0,h.jL)(),a=(0,h.GV)((0,Yn.f$)(Number(r))),l=t.map(((e,t)=>({id:e.id,background:e.isComplete?s.containerNeutral:s.containerBaseNeutral,isComplete:e.isComplete,header:(0,x.jsx)(vx,{order:t+1,title:(0,x.jsx)(Dn.A,{blocks:e.titleBlocks}),completed:e.isComplete,expanded:!1}),content:(0,x.jsx)(Sx,{id:e.id,currentChecklist:a,content:(0,x.jsx)(Dn.A,{blocks:e.bodyBlocks}),actionType:e.actionType,actionContentId:e.actionContentId,actionUrl:e.actionUrl,actionContentUrl:e.actionContentUrl,openActionUrlInNewTab:e.openActionUrlInNewTab,canBeManuallyResolved:e.canBeManuallyResolved,customActionButtonText:e.customActionButtonText,isComplete:e.isComplete,onTaskResolve:n,onTaskActionClick:i})}))),c=(0,v.useCallback)((e=>o((0,Zn.qs)(null==a?void 0:a.id,null==a?void 0:a.checklistProgressId,e))),[null==a?void 0:a.id,null==a?void 0:a.checklistProgressId,o]);return(0,x.jsx)(Rx,{ref:e,cards:l,onCardExpand:c})},$x=({cardListRef:e,checklist:t,checklistTasksLength:n,completedChecklistTasksLength:i,estimatedTimeRemaining:r,onTaskResolve:s,onTaskActionClick:o,isFetching:a})=>{if(!t)return(0,x.jsx)(Px,{children:a?(0,x.jsx)(y.A,{}):(0,x.jsx)(Cm,{})});const l=t.taskGroups.length>1;return(0,x.jsx)(pu,{hideBorder:!0,children:(0,x.jsx)(Px,{children:(0,x.jsxs)(Ox,{"data-testid":"checklist-task-list",children:[(0,x.jsx)(ix,{title:t.titleBlocks,subtitle:t.subtitleBlocks,sender:t.sender}),(0,x.jsx)(Vx,{children:(0,x.jsx)(Kn.A,{checklistTasks:n,completedChecklistTasks:i,estimatedTimeRemaining:r})}),(0,x.jsx)(Lx,{children:t.taskGroups.map((n=>(0,x.jsxs)(Dx,{hasMultipleTaskGroups:l,children:[l&&(0,x.jsx)(Hx,{children:(0,x.jsx)(Dn.A,{blocks:n.titleBlocks})}),(0,x.jsx)(Ux,{cardListRef:e,taskList:n.tasks,onTaskResolve:s,onTaskActionClick:o,checklistProgressId:t.checklistProgressId})]},n.id)))})]})})})},Wx=()=>{const e=(0,s.useParams)(),t=(0,h.jL)(),n=(0,v.useRef)(null),i=(0,h.GV)((0,Yn.f$)(Number(null==e?void 0:e.checklistProgressId)));(0,qx.q)(i);const r=(0,Qn.Sg)(i),o=(0,Qn.zE)(r),a=(0,Qn.fp)(r),l=(0,h.GV)((0,Gm.F)()),c=(0,v.useRef)(!1),d=(0,h.GV)((e=>e.tasks.isFetching));(0,v.useEffect)((()=>{let e;e=l?r.find((e=>e.id===l)):(0,Qn.sE)(r);const t=c.current;if(c.current=Boolean(l),e){var s;const i=Boolean(l)||t;null==(s=n.current)||s.expandCard(e.id,i)}else{var o,d;if(null==(o=n.current)||o.expandCard(null),null==(d=n.current)||d.scrollToTop(),t&&i&&0===a.length){const{id:e,checklistProgressId:t,showCompletionScreen:n}=i;if(!e)return;p(t,n)}}}),[o.length,l]);const p=(e,n)=>{n&&setTimeout((()=>{t((0,Zn.Lf)(e))}),1200)};return(0,v.useEffect)((()=>{i&&t((0,Zn.Mw)(i.id,i.checklistProgressId))}),[t,i]),(0,v.useEffect)((()=>{i&&i.status===Jn.vb.New&&!i.dismissed&&t((0,Zn.hI)(i.checklistProgressId))}),[t,i]),(0,x.jsx)($x,{cardListRef:n,checklist:i,checklistTasksLength:r.length,completedChecklistTasksLength:o.length,onTaskResolve:e=>{if(!i)return;const{id:n,checklistProgressId:r,showCompletionScreen:s}=i;n&&r&&e&&(t((0,Zn.FK)(n,r,e)),1===a.length&&a[0].id===e&&p(r,s))},onTaskActionClick:(e,n,i)=>{switch(e){case Jn.X2.ProductTour:n&&t((0,Fx.os)(n));break;case Jn.X2.Article:i?(0,Gx.CV)(i):n&&t((0,Te.n$)(n,{}))}},estimatedTimeRemaining:a.reduce(((e,t)=>e+t.estimatedTime),0),isFetching:d})},Kx=()=>(0,x.jsx)(V,{header:(0,x.jsx)(qm,{}),children:(0,x.jsx)(Wx,{})});const Yx=(0,w.Ay)("div",{target:"e8wnlmk2"})({name:"12d09kj",styles:"display:flex;flex-direction:column;width:100%;height:100%;position:absolute;justify-content:center"}),Zx=(0,w.Ay)("div",{target:"e8wnlmk1"})("display:flex;flex-direction:column;align-items:center;gap:28px;padding:0 16px 0 16px;line-height:24px;.intercom-block-paragraph{color:",(0,w.w4)("textMuted"),";}button:hover{",(({theme:e})=>e.isPrimaryColorLight&&(0,w.AH)("border:1px solid ",e.lightButtonOutlineHoverColor,";margin:-1px;")),";}"),Jx=(0,w.Ay)("canvas",{target:"e8wnlmk0"})({name:"rodcfp",styles:"position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none"});var Qx=n(60441),Xx=n.n(Qx);const ef=({showConfetti:e,completionScreenButtonText:t,completionScreenBlocks:n})=>{const i=(0,s.useNavigate)(),r=(0,v.useRef)(null);(0,v.useEffect)((()=>{if(!r.current||!e)return;const t=Xx().create(r.current,{resize:!0});(0,u.F9)(t)}),[e]);const o=t||"Continue";return(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)(Yx,{children:[(0,x.jsx)(Jx,{ref:r}),(0,x.jsxs)(Zx,{children:[(0,x.jsx)(Dn.A,{blocks:n}),(0,x.jsx)(br.A,{"data-testid":"checklist-completion-screen-action-button",onClick:()=>{i(p.Ul.path)},children:o})]})]})})},tf=()=>{const e=(0,s.useParams)(),t=(0,h.GV)((0,Yn.f$)(Number(null==e?void 0:e.checklistProgressId))),n=(0,s.useNavigate)();if(!t)return(0,x.jsx)(Yx,{children:(0,x.jsx)(Zx,{children:(0,x.jsx)(br.A,{"data-testid":"checklist-completion-screen-home-button",onClick:()=>{n(p.Ul.path)},children:"Home"})})});const{showConfetti:i,completionScreenBlocks:r,completionScreenButtonText:o}=t;return(0,x.jsx)(ef,{showConfetti:i,completionScreenBlocks:r,completionScreenButtonText:o})},nf=()=>(0,x.jsx)(V,{header:(0,x.jsx)(qm,{}),children:(0,x.jsx)(tf,{})});var rf=n(5556),sf=n.n(rf),of=n(18875);function af(e){const{isLauncherEnabled:t,launcherOffsetBottomPaddingPx:n,verticalPaddingPx:i}=e;return i+20+(t?n:0)}var lf={name:"179q9ic",styles:"transform:none"},cf={name:"1sgi167",styles:"transform:scale(0);opacity:0;pointer-events:none;visibility:hidden;&>iframe{pointer-events:none;visibility:hidden;}"},df={name:"184q3m8",styles:"transform-origin:bottom"},pf={name:"abcix4",styles:"top:0"},uf={name:"13udsys",styles:"height:100%"},hf={name:"1lkn119",styles:"transition-delay:0ms"},gf={name:"mx2e7a",styles:"box-shadow:0 5px 40px rgba(0, 0, 0, 0.16)"},mf={name:"1lmwkpd",styles:"transform-origin:bottom left"};const xf=(0,w.Ay)("div",{target:"ed8ycz90"})("z-index:",(0,Bn.L9)(),";position:fixed;bottom:",(0,Bn.zT)(),"px;right:",(0,w.w4)("horizontalPaddingPx"),"px;transform-origin:bottom right;visibility:visible;",(({theme:e})=>e.isLeftAlign&&mf),(({theme:e})=>(0,w.AH)("height:calc(100% - ",af(e),"px);")),";",(({theme:e,dynamicHeight:t})=>(0,w.AH)("height:",t?`${t}px`:`min(${e.messengerMaxHeightPx}px, calc(100% - ${af(e)}px))`,";"))," min-height:80px;width:",(({isCompactHomeShowing:e})=>e?(0,w.w4)("messengerCompactWidthPx"):(0,w.w4)("messengerWidthPx")),"px;max-height:",(0,w.w4)("messengerMaxHeightPx"),"px;border-radius:",(({isCompactHomeShowing:e})=>e?(0,w.w4)("messengerCompactBorderRadiusPx"):(0,w.w4)("messengerBorderRadiusPx")),"px;overflow:hidden;",(({lightweightAppActive:e})=>!e&&gf)," ",(({isExpanded:e,theme:t})=>e&&(0,w.AH)("max-height:calc(100% - ",af(t),"px);height:calc(100% - ",af(t),"px);width:",t.messengerExpandedWidthPx,"px;transition-delay:",300,"ms;"))," ",(({isExpanded:e,isArticleLoaded:t})=>e&&t&&hf),"opacity:1;>iframe{width:100%;height:100%;position:absolute;visibility:visible;}",(({theme:e})=>e.isLeftAlign&&(0,w.AH)("left:",e.horizontalPaddingPx,"px;right:auto;"))," ",(({theme:e})=>e.isMobileSize&&(0,w.AH)("z-index:",(0,Bn.fE)(1,e),";width:100%;max-height:none;left:0;right:0;bottom:0;border-radius:0;position:fixed;"))," ",(({theme:e,isCompactHomeShowing:t})=>e.isMobileSize&&!t&&uf)," ",(({theme:e,isCompact:t})=>e.isMobileSize&&!t&&pf)," ",(({theme:e,isCompact:t})=>e.isMobileSize&&t&&df)," transition:width ",200,"ms,height ",200,"ms,max-height ",200,"ms,transform 300ms cubic-bezier(0, 1.2, 1, 1),opacity 83ms ease-out;pointer-events:all;",(({isMessengerOpen:e})=>!e&&cf),(({disableOpenAnimation:e})=>e&&lf),";");const ff=(0,w.Ay)("main",{target:"e1o4xdyj2"})({name:"1ch1fqb",styles:"overflow:hidden;position:relative;display:flex;flex-direction:column;flex-grow:1;justify-content:flex-start;max-height:100%"}),vf=(0,w.Ay)("div",{target:"e1o4xdyj1"})("pointer-events:none;transition:margin 0.3s ease-out,opacity 0.3s ease-out;z-index:",(0,Bn.fE)(2),";>*{pointer-events:all;}&.enter{transform:translateY(100%);height:0;opacity:0;}&.enter-done{transform:translateY(0);height:auto;opacity:1;}"),yf=(0,w.Ay)("div",{target:"e1o4xdyj0"})({name:"1v771ry",styles:"z-index:3"});const bf=({currentSpace:e,children:t})=>{const n=`spaces-${e}`;return(0,x.jsx)(x.Fragment,{children:(0,x.jsx)(ff,{id:n,"data-testid":n,children:t})})};const wf=(0,w.Ay)("div",{target:"e11jdbjj1"})("position:absolute;bottom:",(e=>e.tabBarIsVisible?e.intercomLinkIsVisible?137:101:32),"px;left:50%;transform:translateX(-50%);&>*{box-shadow:0px 0px 25px rgba(0, 0, 0, 0.1),0px 0px 25px rgba(0, 0, 0, 0.1);}"),jf=(0,w.Ay)(Dp,{target:"e11jdbjj0"})({name:"ml2hs3",styles:"overflow-y:visible;z-index:2"});const Af=({tabBarIsVisible:e,intercomLinkIsVisible:t})=>{const{visible:n,styleVariant:i}=function(){const{pathname:e}=(0,s.useLocation)(),t=(0,g.wR)(e),n=!!(0,h.GV)(Nc),i=!!(0,h.GV)(Jo.xk);switch(t.id){case p.Ij.id:return{visible:n&&"/messages"===e,styleVariant:"primary"};case p.ZL.id:return{visible:i,styleVariant:"secondary"};default:return{visible:!1,styleVariant:"primary"}}}();return(0,x.jsx)(jf,{transitionKey:`${n}-${i}`,children:n&&(0,x.jsx)(wf,{tabBarIsVisible:e,intercomLinkIsVisible:t,children:(0,x.jsx)(ea,{styleVariant:i})})})},kf=(e,t)=>{const n=t.pathname.split("/"),i=e.pathname.split("/"),r=n[1],s=i[1]!==r;if("/messages/conversation/new"===e.pathname&&t.pathname.match(/\/messages\/conversation\/\d+/))return k;if(s)return A;if(t.pathname!==e.pathname){return n.length<=i.length?S:C}return k},Cf=()=>{const{currentSpace:e}=Se(),t=(0,h.GV)(W.Er),n=(0,h.GV)(W.km),i=(0,h.GV)(g.$P),r=rr()&&i.length>1,s=rr()&&n,o=I({initialWhiteBackground:!1,initialHeight:0});return(0,v.useEffect)((()=>{t&&(0,je.A5)("viewed",e.id,"messenger","")}),[e.id,t]),(0,x.jsx)(bf,{currentSpace:e.id,showIntercomLink:s,children:(0,x.jsxs)(B.Provider,{value:o,children:[(0,x.jsx)(yf,{id:"intercom-header-placeholder"}),(0,x.jsx)(Ir,{}),(0,x.jsx)(D,{getTransition:kf}),(0,x.jsx)(Af,{tabBarIsVisible:r,intercomLinkIsVisible:s})]})})},Sf=()=>{const{currentSpace:e}=Se(),t=(0,h.GV)(W.Er),n=(0,h.GV)(W.km),i=rr()&&n,r=M(),s=I({initialWhiteBackground:!1,initialHeight:0}),o=yo({initialConversationHeroVisible:fo.Unknown}),{isCompactHomeShowing:a}=Se();return(0,v.useEffect)((()=>{t&&(0,je.A5)("viewed",e.id,"messenger",""),r(a?_f:void 0)}),[e.id,t,a,r]),(0,x.jsx)(B.Provider,{value:s,children:(0,x.jsxs)(vo.Provider,{value:o,children:[(0,x.jsx)(yf,{id:"intercom-header-placeholder"}),(0,x.jsx)(Ir,{}),(0,x.jsx)(D,{getTransition:kf}),i&&(0,x.jsx)(Go,{showOnSpaces:!0,intercomLinkSolution:"live-chat"})]})})},Tf="intercom-mobile-messenger-active",_f=250,Ef=(0,w.Ay)("div",{target:"e1ecbty0"})("display:flex;flex-direction:column;height:100vh;width:100vw;background-color:",(0,w.w4)("containerBaseNeutral"),";"),Bf=()=>(0,h.GV)(g.V$)?(0,x.jsx)(Sf,{}):(0,x.jsx)(Cf,{}),Nf=({isMessengerOpen:e})=>{const t=(0,h.jL)(),n=(0,v.useContext)(Qa),i=(0,h.GV)(jr.l),r=(0,h.GV)((e=>e.article.isLoaded)),s=(0,h.GV)(W.fB),[o,a]=(0,v.useState)(0),[l,c]=(0,v.useState)(!1),p=(0,h.GV)(g.V$),u=(0,wa.Z)(e),{isCompactHomeShowing:f}=Se(),[y,b]=(0,v.useState)(f?_f:void 0),w=(0,v.useCallback)((()=>{(0,d.vy)(null==n?void 0:n.document.documentElement,Tf)}),[n]),j=(0,v.useCallback)((()=>{f||(0,d.iQ)(null==n?void 0:n.document.documentElement,Tf)}),[n,f]),A=(0,v.useCallback)((()=>{var e;((0,ii.rr)()||(0,zn.IS)())&&null!=(e=window)&&null!=(e=e.parent)&&e.scrollTo&&o&&window.parent.scrollTo(0,o)}),[o]);return(0,v.useEffect)((()=>{let t;return a(window.parent.scrollY||0),e&&(0,ii.rr)()&&(0,zn.IS)()&&j(),!e&&u&&(c(!0),w(),A(),t=setTimeout((()=>{c(!1)}),1e3)),()=>clearTimeout(t)}),[e,w,A,j,u]),(0,x.jsx)(xf,{isExpanded:i,isArticleLoaded:!!r,className:"intercom-messenger-frame",onTransitionEnd:e=>{"width"===e.propertyName&&t((0,wr.E)())},isMessengerOpen:e,dynamicHeight:y,isCompactHomeShowing:f,isCompact:p,disableOpenAnimation:(0,m.z)(),lightweightAppActive:s,children:(e||l)&&(0,x.jsx)(of.Ay,{frameName:"intercom-messenger-frame",title:"Intercom live chat",ariaLiveAssertive:!1,removeBodyMargin:!0,children:(0,x.jsx)(z.Provider,{value:b,children:(0,x.jsx)(Ef,{children:(0,x.jsx)(Bf,{})})})})})};var If=n(64566);function zf({isMessengerOpen:e}){const t=(0,h.jL)(),n=(0,h.GV)(g.$B);return(0,v.useEffect)((()=>{e&&t((0,If.KT)())}),[t,n,e]),(0,x.jsx)(Nf,{isMessengerOpen:e})}var Mf=n(24627),Rf=n(38026),Pf=n(7713),Of=n(50533);var Lf=n(1187);const Hf=(0,w.Ay)("div",{target:"e11rlguj4"})("position:absolute;top:0;left:0;background:",(0,w.w4)("primaryColor"),";width:",(0,w.w4)("launcherSizePx"),"px;height:",(0,w.w4)("launcherSizePx"),"px;border-radius:50%;cursor:pointer;backface-visibility:hidden;overflow:hidden;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;",(({badgeCutoutType:e})=>"active"===e&&(0,w.AH)("mask-image:url('data:image/svg+xml;base64,",(0,Lf.A)('<svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M42.9991 0C40.5707 1.82446 39 4.7288 39 8C39 13.1853 42.9467 17.4489 48 17.9506V48H0V0H42.9991Z" fill="#000"/>\n</svg>\n'),"');border-radius:0;")),";",(({badgeCutoutType:e})=>"passive"===e&&(0,w.AH)("mask-image:url('data:image/svg+xml;base64,",(0,Lf.A)('<svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M48 0H0V48H48V12.9333C46.9809 13.8454 45.6352 14.4 44.16 14.4C40.9788 14.4 38.4 11.8212 38.4 8.64C38.4 5.45884 40.9788 2.88 44.16 2.88C45.6352 2.88 46.9809 3.4346 48 4.34667V0Z" fill="#000"/>\n</svg>\n'),"');border-radius:0;")),";*{cursor:pointer;}");var Df={name:"179q9ic",styles:"transform:none"};const Vf=({theme:e})=>(0,w.AH)("user-select:none;display:flex;align-items:center;justify-content:center;position:absolute;top:0;bottom:0;width:100%;transition:transform 0.16s linear,opacity 0.08s linear;",e.isMobileSize&&Df,";");var Ff={name:"1x052ey",styles:"opacity:1;transform:none"},qf={name:"letlco",styles:"transition:transform 0.4s ease 0.2s"},Gf={name:"d2404m",styles:"opacity:0;transform:rotate(30deg) scale(0)"};const Uf=(0,w.Ay)("div",{target:"e11rlguj3"})(Vf," opacity:1;transform:rotate(0deg) scale(1);svg{width:",(({theme:e})=>e.launcherIconSizePxM5),"px;height:",(({theme:e})=>e.launcherIconSizePxM5),"px;path{fill:",(0,w.w4)("launcherIconColor"),";}}",(({active:e})=>e&&Gf)," ",(({discoveryMode:e})=>e&&qf)," ",(({theme:e,active:t})=>t&&e.isMobileSize&&Ff),";");var $f={name:"1x052ey",styles:"opacity:1;transform:none"},Wf={name:"letlco",styles:"transition:transform 0.4s ease 0.2s"},Kf={name:"d2404m",styles:"opacity:0;transform:rotate(30deg) scale(0)"};const Yf=(0,w.Ay)("div",{target:"e11rlguj2"})(Vf," opacity:1;transform:rotate(0deg) scale(1);svg{height:",(({theme:e})=>e.launcherSizePx-4),"px;path{fill:",(0,w.w4)("launcherIconColor"),";}}",(({active:e})=>e&&Kf)," ",(({discoveryMode:e})=>e&&Wf)," ",(({theme:e,active:t})=>t&&e.isMobileSize&&$f),";");var Zf={name:"mws4fn",styles:"opacity:0"},Jf={name:"1jgw0uu",styles:"opacity:1;transform:rotate(0deg)"};const Qf=(0,w.Ay)("div",{target:"e11rlguj1"})(Vf," opacity:0;transform:rotate(-60deg);svg{path{fill:",(0,w.w4)("launcherIconColor"),";}}",(({active:e})=>e&&Jf)," ",(({theme:e,active:t})=>t&&e.isMobileSize&&Zf),";"),Xf=(0,w.Ay)("img",{target:"e11rlguj0"})("max-width:",(0,w.w4)("launcherIconSizePxM5"),"px;max-height:",(0,w.w4)("launcherIconSizePxM5"),"px;position:relative;");var ev=n(27124),tv=n(76974);const nv=({isMessengerOpen:e,frameWindow:t,isLauncherDiscoveryModeEnabled:n,launcherLogoUrl:i,allowSelfServeIcon:r,badgeCutoutType:s,onClick:o})=>{(0,v.useEffect)((()=>{const n=new Vr.A({document:t.document,disableStartingTrap:()=>!0,disableEndingTrap:()=>!e,firstElement:()=>(0,Fr.CZ)()});return function(){n&&n.restore()}}),[t.document,e]);const a="intercom-launcher "+(e?"intercom-launcher-active":""),l=!i&&r;return(0,x.jsxs)(Hf,{className:a,onClick:o,role:"button",badgeCutoutType:s,"data-testid":`launcher-with-badge-cutout-${s}`,"aria-label":e?(0,Be.Tl)("close_intercom_messenger"):(0,Be.Tl)("open_intercom_messenger"),children:[l?(0,x.jsx)(Yf,{active:e,discoveryMode:n,"data-testid":"launcher-self-serve-open-icon",children:(0,x.jsx)(Of.A,{})}):(0,x.jsx)(Uf,{active:e,discoveryMode:n,"data-testid":i?"launcher-custom-open-icon":"launcher-default-open-icon",children:i?(0,x.jsx)(Xf,{src:i,alt:""}):(0,x.jsx)(Pf.A,{})}),(0,x.jsx)(Qf,{active:e,"data-testid":"launcher-minimize-icon",children:(0,x.jsx)(Rf.A,{})})]})},iv=e=>{const{isMessengerOpen:t}=(0,h.GV)((e=>e.app)),n=(0,h.GV)(ev.X),{isLauncherDiscoveryModeEnabled:i}=(0,h.GV)((e=>e.launcherDiscoveryMode)),r=(0,h.GV)(W.Np),s=(0,h.jL)(),o=(0,h.GV)(g.qB),a=(0,h.GV)(tv.UM);let l="none";return e.hasBadge&&(l=a>0?"active":"passive"),(0,x.jsx)(nv,Object.assign({isMessengerOpen:t,launcherLogoUrl:n,isLauncherDiscoveryModeEnabled:i,allowSelfServeIcon:r,badgeCutoutType:l,onClick:()=>{(0,je.A5)("clicked","launcher","in_app","",{space_opened:null==o?void 0:o.id}),s((0,Mt.wJ)())}},e))};var rv={name:"mws4fn",styles:"opacity:0"},sv={name:"1n03ny8",styles:"filter:drop-shadow(0 1px 6px rgba(0, 0, 0, 0.06)) drop-shadow(0 2px 32px rgba(0, 0, 0, 0.16))"},ov={name:"119rl2t",styles:"filter:drop-shadow(0 1px 6px rgba(0, 0, 0, 0.06)) drop-shadow(0 2px 32px rgba(0, 0, 0, 0.16));transition:box-shadow 80ms ease-in-out;pointer-events:auto;&:hover{filter:drop-shadow(0 2px 8px rgba(0, 0, 0, 0.09)) drop-shadow(0 4px 40px rgba(0, 0, 0, 0.24));}&:active{filter:drop-shadow(0 1px 6px rgba(0, 0, 0, 0.06)) drop-shadow(0 2px 32px rgba(0, 0, 0, 0.16));}"};const av=(0,w.Ay)(of.Ay,{target:"efr23pf0"})("z-index:",(0,Bn.fE)(),";width:",(0,w.w4)("launcherSizePx"),"px;height:",(0,w.w4)("launcherSizePx"),"px;border-radius:50%;color-scheme:none;background:none;",(({theme:e})=>e.isLeftAlign&&(0,w.AH)("left:",e.horizontalPaddingPx,"px;right:auto;"))," ",(({theme:e})=>e.isMobile&&ov)," ",(({shouldRenderShadow:e})=>e&&sv)," ",(({theme:e,isMessengerOpen:t})=>e.isMobileSize&&t&&rv),";");function lv(e){const{shouldRenderShadow:t,hasBadge:n,isMessengerOpen:i}=e;return(0,x.jsx)(av,{className:"intercom-launcher-frame",frameName:"intercom-launcher-frame",title:"Intercom live chat",ariaLiveAssertive:!1,shouldRenderShadow:t,isMessengerOpen:i,children:e=>(0,x.jsx)(iv,{frameWindow:e,hasBadge:n})})}const cv=(0,v.lazy)((()=>n.e(9962).then(n.bind(n,39168))));var dv=n(92078);var pv=n(63614);const uv=(0,r.Ng)((e=>{const{launcherDiscoveryMode:{isLauncherDiscoveryModeOpening:t,isLauncherDiscoveryModeClosing:n},app:{helpCenterSiteUrl:i}}=e,r=!(e=>{if(!e)return!1;const t=(0,dv.Um)();return!!t&&e.replace(/(^\w+:|^)\/\//,"").startsWith(t)})(i)&&(t||n);return{isLauncherDiscoveryModeOpening:t,isLauncherDiscoveryModeClosing:n,showDiscoveryLauncher:r}}),(e=>({onDiscoveryLauncherMouseEnter:()=>{(0,pv.Fh)()},onDiscoveryLauncherMouseOut:()=>{e((0,pv.jV)())},onLauncherDiscoveryClick:()=>{e((0,Mt.wJ)())}})))((function(e){const{showDiscoveryLauncher:t}=e;return t?(0,x.jsxs)(v.Suspense,{fallback:null,children:[(0,x.jsx)(cv,Object.assign({},e)),";"]}):null}));var hv={name:"16iyio",styles:"width:8px;height:8px;box-shadow:none;bottom:35px;left:40px"};const gv=(0,w.Ay)("div",{target:"e1nq9v8t0"})("z-index:",(0,Bn.fE)(1),";position:absolute;bottom:32px;/* @noflip */left:41px;min-width:16px;height:16px;border-radius:50%;",(({hasNotifications:e})=>!e&&hv),";"),mv=({notificationCount:e})=>{const t=!!e&&e>0;return(0,x.jsx)(gv,{hasNotifications:t,children:(0,x.jsx)($i,{children:t?e:void 0})})},xv=()=>{const e=(0,h.GV)(tv.UM);return(0,x.jsx)(mv,{notificationCount:e})},fv=(0,w.Ay)("div",{target:"edrs4yi0"})("user-select:none;z-index:",(0,Bn.L9)(),";position:fixed;bottom:",(0,w.w4)("verticalPaddingPx"),"px;right:",(0,w.w4)("horizontalPaddingPx"),"px;width:",(0,w.w4)("launcherSizePx"),"px;height:",(0,w.w4)("launcherSizePx"),"px;",(({theme:e})=>e.isLeftAlign&&(0,w.AH)("left:",e.horizontalPaddingPx,"px;right:auto;"))," transition:transform 167ms cubic-bezier(0.33, 0, 0, 1);transform-origin:center;&:hover{transition:transform 250ms cubic-bezier(0.33, 0, 0, 1);transform:scale(1.1);}&:active{transform:scale(0.85);transition:transform 134ms cubic-bezier(0.45, 0, 0.2, 1);}");var vv=n(64442);var yv={name:"eivff4",styles:"display:none"},bv={name:"16reteu",styles:"background:radial-gradient(\n        ellipse at bottom left,\n        rgba(29, 39, 54, 0.16) 0%,\n        rgba(29, 39, 54, 0) 72%\n      );left:0;right:auto"};const wv=(0,w.Ay)("div",{target:"equ3uxk0"})("z-index:",(0,Bn.L9)(-2),";position:fixed;width:500px;height:500px;bottom:0;right:0;content:'';pointer-events:none;background:radial-gradient(\n    ellipse at bottom right,\n    rgba(29, 39, 54, 0.16) 0%,\n    rgba(29, 39, 54, 0) 72%\n  );",(({theme:e})=>e.isLeftAlign&&bv)," ",(({theme:e})=>e.isMobileSize&&yv),";");var jv=n(48179);class PageTitleNotification extends v.Component{getTitle(){return this.props.appWindow.document.title}setTitle(e){if(this.getTitle()!==e)if((0,ii.AM)(this.props.appWindow)){const e=(0,ii.w3)().userAgent;(0,je.sq)("headlessChromeDetected",{user_agent:e})}else this.props.appWindow.document.title=e}maybeToggleTitle(){const e=(e=>{if(e.dismissed||!e.parts)return;const t=(0,jv.A)(e.parts);return t&&t.author.isAdmin?(0,Be.Tl)("user_says",{firstName:t.author.firstName}):void 0})(this.props.conversation);e&&this.setTitle(this.getTitle()===e?this.originalTitle:e)}componentDidMount(){this.originalTitle=this.getTitle(),this.interval=setInterval((()=>this.maybeToggleTitle()),3e3),this.maybeToggleTitle()}componentWillUnmount(){clearInterval(this.interval),this.interval=void 0,this.setTitle(this.originalTitle)}render(){return null}}PageTitleNotification.propTypes={appWindow:sf().object.isRequired,conversation:sf().object.isRequired};const Av=(0,v.lazy)((()=>n.e(2493).then(n.bind(n,79790)))),kv=(0,v.lazy)((()=>n.e(7367).then(n.bind(n,3830)))),Cv=(0,v.lazy)((()=>n.e(7420).then(n.bind(n,33350)))),Sv=(0,v.lazy)((()=>n.e(7420).then(n.bind(n,98793)))),Tv=(0,v.lazy)((()=>n.e(7420).then(n.bind(n,50933)))),_v=(0,v.lazy)((()=>n.e(7420).then(n.bind(n,86274)))),Ev=(0,v.lazy)((()=>n.e(848).then(n.bind(n,39516)))),Bv=(0,v.lazy)((()=>n.e(3653).then(n.bind(n,89346))));class Messenger extends v.Component{constructor(...e){super(...e),this.context=null,this.state={isIntersectionBooted:(0,vv.t)(),isPreviewingSurvey:(0,vv.H)(),notificationDelayComplete:!0}}shouldShowPageTitleNotification(){const{userIsPresent:e,isLauncherEnabled:t,isMessengerOpen:n,lastUnreadConversation:i}=this.props;return!(!t&&!n)&&(i&&i.userParticipated&&!e)}componentDidUpdate(e){!this.props.isMessengerOpen&&e.isMessengerOpen&&(this.setState({notificationDelayComplete:!1}),this.timeout=setTimeout((()=>{this.setState({notificationDelayComplete:!0})}),300))}componentWillUnmount(){clearTimeout(this.timeout)}render(){const e=this.context,{hasUnreadContent:t,isLauncherEnabled:n,isMessengerOpen:i,isMessageOpen:r,isInstallOpen:s,lastUnreadConversation:o,notificationCount:a,customizationAttributes:l,isBooted:c,isLauncherDiscoveryModeOpening:d,hasPointerMessages:p,hasBanner:u,isTourFetched:h,isPreviewingTour:g,isLightweightAppActive:m,hasSurvey:f,disableBorderlessNotifications:y}=this.props,{isIntersectionBooted:b,isPreviewingSurvey:w,notificationDelayComplete:j}=this.state,A=j&&!r&&!i&&!h&&!b&&a>0&&!y,k=!i&&t,C=i&&(0,zn.IS)(),S=n&&!C;return(0,x.jsxs)("div",{className:"intercom-app","aria-live":"polite",children:[(0,x.jsx)(R.F,{component:v.Fragment,children:(0,x.jsx)(zf,{isMessengerOpen:i})}),!r||h||f||i||y?null:(0,x.jsx)(v.Suspense,{fallback:null,children:(0,x.jsx)(Cv,{appWindow:e},"Message")}),!p||i||h||b?null:(0,x.jsx)(v.Suspense,{fallback:null,children:(0,x.jsx)(Tv,{appWindow:e},"PointerMessage")}),c&&s?(0,x.jsx)(Ev,{},"Install"):null,(0,x.jsx)(v.Suspense,{fallback:null,children:A&&(0,x.jsx)(Sv,{})}),S&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(fv,{children:[(0,x.jsx)(lv,{shouldRenderShadow:!d,isMessengerOpen:i,hasBadge:k}),k&&(0,x.jsx)(xv,{})]}),ii.Ay.isMobileBrowser()?null:(0,x.jsx)(uv,{isLeftAligned:"left"===l.alignment})]}),!h||b&&!g?null:(0,x.jsx)(v.Suspense,{fallback:null,children:(0,x.jsx)(_v,{appWindow:e},"Tour")}),h?(0,x.jsx)(v.Suspense,{fallback:null,children:(0,x.jsx)(kv,{appWindow:e})}):null,(0,x.jsx)(Me.A,{animationKey:"intercom-app",duration:m?0:200,children:i||r||A?(0,x.jsx)(wv,{}):null}),(0,x.jsx)(Mf.A,{appWindow:e}),this.shouldShowPageTitleNotification()?(0,x.jsx)(PageTitleNotification,{appWindow:e,conversation:o}):null,u&&!h?(0,x.jsx)(v.Suspense,{fallback:null,children:(0,x.jsx)(Av,{appWindow:e})}):null,!f||i||b&&!w?null:(0,x.jsx)(v.Suspense,{fallback:null,children:(0,x.jsx)(Bv,{appWindow:e})}),h?null:(0,x.jsx)("div",{id:"intercom-modal-container"})]})}}Messenger.contextType=Qa,Messenger.propTypes={hasUnreadContent:sf().bool,lastUnreadConversation:sf().object,notificationCount:sf().number,userIsPresent:sf().bool.isRequired,isBooted:sf().bool.isRequired,isLauncherEnabled:sf().bool.isRequired,isMessengerOpen:sf().bool.isRequired,isMessageOpen:sf().bool.isRequired,hasPointerMessages:sf().bool.isRequired,hasBanner:sf().bool,isTourFetched:sf().bool.isRequired,isPreviewingTour:sf().bool.isRequired,isInstallOpen:sf().bool.isRequired,customizationAttributes:sf().shape({alignment:sf().string,horizontalPadding:sf().number,verticalPadding:sf().number,zIndex:sf().number}),isLauncherDiscoveryModeOpening:sf().bool,isLightweightAppActive:sf().bool,hasSurvey:sf().bool,disableBorderlessNotifications:sf().bool},Messenger.defaultProps={isLightweightAppActive:!1};class App extends v.Component{constructor(...e){super(...e),this.handleTab=e=>{(0,d.di)(e)&&this.props.onTabPressed()}}componentDidMount(){const{locale:e,isOverrideSamplingEnabled:t,isErrorReportingDisabled:n,appId:i}=this.props;void 0!==e&&(0,Be.xS)(e),(0,qr.vH)(t),(0,qr.Zn)(n),(0,Gr.f5)(i),(0,d.q2)(window.parent,"keydown",this.handleTab)}componentDidUpdate(e){const{locale:t,isOverrideSamplingEnabled:n,isErrorReportingDisabled:i,appId:r}=this.props;e.locale!==t&&(0,Be.xS)(t),(0,qr.vH)(n),(0,qr.Zn)(i),(0,Gr.f5)(r)}componentWillUnmount(){(0,d.f)(window.parent,"keydown",this.handleTab)}render(){const{hasUnreadContent:e,userIsPresent:t,isLauncherEnabled:n,isMessengerOpen:i,isMessageOpen:r,isInstallOpen:s,lastUnreadConversation:o,notificationCount:a,customizationAttributes:l,isBooted:c,isBooting:d,isInstantBootEnabled:p,isLauncherDiscoveryModeOpening:u,hasPointerMessages:h,hasBanner:g,isTourFetched:m,isPreviewingTour:f,isLightweightAppActive:v,hasSurvey:y,disableBorderlessNotifications:b}=this.props;return!(c||d&&p)?null:(0,x.jsx)(Messenger,{hasUnreadContent:e,lastUnreadConversation:o,notificationCount:a,userIsPresent:t,isBooted:c,isLauncherEnabled:n,isMessengerOpen:i,isMessageOpen:r,hasPointerMessages:h,hasBanner:g,isTourFetched:m,isPreviewingTour:f,isInstallOpen:s,customizationAttributes:l,isLauncherDiscoveryModeOpening:u,isLightweightAppActive:v,hasSurvey:y,disableBorderlessNotifications:b})}}App.propTypes={locale:sf().string,backgroundImage:sf().string,hasUnreadContent:sf().bool,lastUnreadConversation:sf().object,notificationCount:sf().number,userIsPresent:sf().bool.isRequired,isBooting:sf().bool.isRequired,isBooted:sf().bool.isRequired,isErrorReportingDisabled:sf().bool,isOverrideSamplingEnabled:sf().bool,isLauncherEnabled:sf().bool.isRequired,isMessengerOpen:sf().bool.isRequired,isMessageOpen:sf().bool.isRequired,hasPointerMessages:sf().bool.isRequired,hasBanner:sf().bool,isTourFetched:sf().bool.isRequired,isPreviewingTour:sf().bool.isRequired,isInstallOpen:sf().bool.isRequired,customizationAttributes:sf().shape({alignment:sf().string,horizontalPadding:sf().number,verticalPadding:sf().number,zIndex:sf().number}),isInstantBootEnabled:sf().bool.isRequired,isLauncherDiscoveryModeOpening:sf().bool,onTabPressed:sf().func.isRequired,appId:sf().string,isLightweightAppActive:sf().bool,hasSurvey:sf().bool,disableBorderlessNotifications:sf().bool},App.defaultProps={isOverrideSamplingEnabled:!1,isLightweightAppActive:!1};const Nv=App;var Iv=n(28453);const zv=(0,cr.Mz)((e=>(0,Iv.A)(e.conversations.byId)),(e=>{const t=e.filter((e=>!e.read)).sort(((e,t)=>e.lastPartCreatedAt-t.lastPartCreatedAt));return(0,jv.A)(t)}));var Mv=n(6434),Rv=n(58822),Pv=n(64015),Ov=n(99886),Lv=n(71179),Hv=n(95214),Dv=n(80929),Vv=n(67033);const Fv=(0,r.Ng)((e=>{var t;const{locale:n,isPresent:i}=e.user,{isBooting:r,isBooted:s,isMessengerOpen:o,isErrorReportingDisabled:a,isOverrideSamplingEnabled:l}=e.app,c=null==(t=e.launcherSettings)?void 0:t.instantBootEnabled,{isLauncherDiscoveryModeEnabled:d,isLauncherDiscoveryModeOpening:p}=e.launcherDiscoveryMode,{isInstallModeOpen:u}=e.install,{alignment:h,horizontalPadding:g,verticalPadding:m,zIndex:x}=(0,Lv.b)(e),{isActive:f}=e.lightweightApp,v=(0,Pn.A)(e),y=(0,tv.cV)(e),b=(0,Mv.y)(e).length,w=(0,Rv.A)(e).length,j=(0,Ov.A)(e).length;return{userIsPresent:i,locale:n,hasUnreadContent:y,notificationCount:b,lastUnreadConversation:zv(e),isBooting:r,isBooted:s,isMessageOpen:w>0,isMessengerOpen:o,isLauncherEnabled:v,isLauncherDiscoveryModeEnabled:d,isLauncherDiscoveryModeOpening:p,isErrorReportingDisabled:a,isOverrideSamplingEnabled:l,isInstallOpen:u,customizationAttributes:{alignment:h,horizontalPadding:g,verticalPadding:m,zIndex:x},isInstantBootEnabled:c,hasPointerMessages:j>0,hasBanner:(0,Dv.L)(e).length>0,isTourFetched:(0,Hv.dW)(e),isPreviewingTour:(0,Hv.O7)(e),appId:e.session&&e.session.appId,isLightweightAppActive:f,hasSurvey:!!(0,Vv.IS)(e),disableBorderlessNotifications:e.borderless.disableBorderless}}),(e=>({onTabPressed:()=>e(((t,n)=>{const{tabNavigation:i}=n().accessibility;i||e((0,Pv.y)(!0))}))})))(Nv);const qv=(0,w.Ay)("div",{target:"e1ta6if44"})("display:flex;flex-direction:row;justify-content:space-between;font-size:14px;line-height:21px;border-top:1px solid ",(0,w.w4)("borderEmphasisNeutral"),";box-shadow:0px 0px 25px ",(0,w.w4)("borderEmphasisNeutral"),";background-color:",(0,w.w4)("containerBaseNeutral"),";height:",80,"px;padding:0;&.enter{opacity:0;}&.enter-active{transition:opacity ",A.time,"ms ease-out;opacity:1;}&.enter-done{opacity:1;}&.exit{opacity:1;}&.exit-active{transition:opacity ",A.time,"ms ease-out;opacity:0;}&.exit-done{opacity:0;}"),Gv=(0,w.Ay)("button",{target:"e1ta6if43"})("flex:1;display:flex;flex-direction:column;align-items:center;padding:18px 3px;cursor:pointer;transition:all 150ms;line-height:14px;overflow:hidden;text-overflow:clip;text-align:center;",(({showLabels:e,theme:t})=>!e&&(0,w.AH)("&:after{content:attr(data-title);position:relative;font-size:12px;padding:4px;top:-56px;color:",t.textDefault,";background:",t.containerEmphasisNeutral,";box-shadow:0px 2px 10px rgba(0, 0, 0, 0.05);border-radius:6px;opacity:0;visibility:hidden;}&:hover{&:after{opacity:1;transition:all 0.1s ease 0.5s;visibility:visible;}}"))," ",(({isActive:e,theme:t})=>!e&&(0,w.AH)("svg{*{transition:all 150ms;}*[class$='fill']{fill:",t.iconDefault,";stroke:none;}}color:",t.textDefault,";&:hover{color:",t.linkColor,";svg{*[class*='fill']{fill:",t.linkColor,";stroke:none;}*[class*='stroke']{stroke:",t.linkColor,";}}}"))," ",(({isActive:e,theme:t})=>e&&(0,w.AH)("color:",t.linkColor,";font-weight:600;")),";");var Uv={name:"1cqy8ul",styles:"svg{mask-image:radial-gradient(\n          circle 20px at calc(100% + 1px) calc(100% - 23px),\n          transparent 10px,\n          #000 0\n        );}"};const $v=(0,w.Ay)("div",{target:"e1ta6if42"})("position:relative;display:flex;align-items:center;justify-content:center;margin:",(({showLabels:e})=>e?0:"10px")," auto 8px;pointer-events:none;",(({hasCutout:e})=>e&&Uv)," ",(({isActive:e,theme:t})=>e&&(0,w.AH)(">svg>path{fill:",t.linkColor,";}>svg>path[class$='stroke']{stroke:",t.linkColor,";fill:none;}>svg{*[class$='__circle']{fill:",t.linkColor,";stroke:",t.linkColor,";}*[class$='__negative']{stroke:",t.iconOnInverse,";}circle[class*='__negative']{fill:",t.iconOnInverse,";stroke:none;}}")),";");var Wv={name:"1eifec2",styles:"top:-5px;/* @noflip */right:calc(100% - 22px)"};const Kv=(0,w.Ay)("div",{target:"e1ta6if41"})("position:absolute;/* @noflip */right:calc(100% - 17px);top:-7px;line-height:13px;/* @noflip */transform:translateX(100%);",(({small:e})=>e&&Wv),";"),Yv=(0,w.Ay)("span",{target:"e1ta6if40"})({name:"s60ug3",styles:"display:block;text-align:center;margin:0 auto"});var Zv=n(38424);const Jv=["onClick"],Qv=["itemCount","activeIndex","showLabels","children","onClickItem"];function Xv(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(-1!==t.indexOf(i))continue;n[i]=e[i]}return n}const ey=(0,v.createContext)(null);ey.displayName="TabBarContext";const ty=({title:e,itemId:t,index:n,defaultIcon:i,activeIcon:r,activeNotificationCount:s=0,hasPassiveNotifications:o=!1,ariaControlElementId:a})=>{const{activeIndex:l,showLabels:c,onClickItem:d,getRovingProps:p}=(()=>{const e=(0,v.useContext)(ey);if(!e)throw new Error("TabBarItem must be used within a TabBar");return e})(),u=n===l,h=u?r:i,g=s>0,m=p(n),{onClick:f}=m,y=Xv(m,Jv);return(0,x.jsxs)(Gv,Object.assign({role:"tab",isActive:u,showLabels:c,"aria-current":u,"aria-controls":a||t,"aria-label":e,"aria-expanded":u,onClick:()=>{u||d(n),f()},"data-testid":t,"data-title":c?void 0:e},y,{children:[(0,x.jsx)("div",{id:a,hidden:u}),(0,x.jsxs)($v,{hasCutout:g,isActive:u,showLabels:c,children:[(0,x.jsx)(Kv,{small:!g,children:(g||o)&&(0,x.jsx)($i,{children:g?s:void 0})}),(0,x.jsx)(h,{})]}),c&&(0,x.jsx)(Yv,{children:e})]}))},ny=e=>{let{itemCount:t,activeIndex:n,showLabels:i=!0,children:r,onClickItem:s}=e,o=Xv(e,Qv);const a={activeIndex:n,showLabels:i,onClickItem:s,getRovingProps:(0,Zv.z)(t,[n],n,1)};return(0,x.jsx)(qv,Object.assign({role:"tablist"},o,{children:(0,x.jsx)(ey.Provider,{value:a,children:r})}))},iy=({items:e,activeItemIndex:t})=>{const{showSpace:n}=Se();return(0,x.jsx)(ny,{itemCount:e.length,activeIndex:t,showLabels:e.length<6,onClickItem:t=>{const i=e[t].id;(0,je.A5)("clicked",i,"messenger",i),n(i)},"data-testid":"spaces-tab-bar",children:e.map(((e,t)=>(0,x.jsx)(ty,{itemId:e.id,index:t,title:e.title||"",defaultIcon:e.iconComponent.default,activeIcon:e.iconComponent.active,activeNotificationCount:e.activeNotificationCount,hasPassiveNotifications:e.hasPassiveNotifications,ariaControlElementId:e.ariaControlElementId},e.id)))})};function ry({children:e}){const t=(0,h.GV)(g.$P),n=rr()&&t.length>1,i=(0,ot.mK)(),{currentSpace:r}=Se(),s=t.findIndex((e=>e.id===r.id));return(0,x.jsxs)(x.Fragment,{children:[e,i&&(0,x.jsx)(R.B1,{in:i&&n,timeout:A.time,unmountOnExit:!0,children:(0,x.jsx)(vf,{children:(0,x.jsx)(R.B1,{in:n,timeout:A.time,unmountOnExit:!0,children:(0,x.jsx)(iy,{items:t,activeItemIndex:s})})})})]})}function sy(){return(0,x.jsx)(ry,{children:(0,x.jsx)(s.Outlet,{})})}var oy=n(50084),ay=n(15452);var ly=n(67410),cy=n(15403);const dy="intercom-container",py="intercom-css-container";o.RV.assign({requestAnimationFrame:window.parent.requestAnimationFrame,cancelAnimationFrame:window.parent.cancelAnimationFrame});const uy=({children:e})=>{const t=(0,h.jL)();return(0,v.useEffect)((()=>{const e=setTimeout((()=>{t((0,ly.KI)())}),0);return()=>clearTimeout(e)}),[t]),e},hy=(e,t)=>{(0,cy.setupTracing)();const n=(0,d.RM)(e,dy,"intercom-namespace"),o=(0,d.Vz)(e,py),h=(0,i.H)(n),m=(0,g.BU)(t.getState()),v=(0,s.createMemoryRouter)((e=>(0,s.createRoutesFromElements)((0,x.jsxs)(s.Route,{element:(0,x.jsx)(Fv,{}),children:[(0,x.jsx)(s.Route,{index:!0,path:p.kG.path,element:(0,x.jsx)(b,{})}),(0,x.jsxs)(s.Route,{element:(0,x.jsx)(sy,{}),children:[(0,x.jsxs)(s.Route,{path:p.Zh.path,children:[(0,x.jsx)(s.Route,{index:!0,element:(0,x.jsx)(ar,{})}),(0,x.jsx)(s.Route,{path:"sheet",element:(0,x.jsx)(Yr,{})})]}),(0,x.jsxs)(s.Route,{path:p.Ij.path,children:[(0,x.jsx)(s.Route,{index:!0,element:(0,x.jsx)(Rc,{}),loader:Mc(e)}),(0,x.jsx)(s.Route,{path:"tickets/create/:ticketTypeId",element:(0,x.jsx)(fp,{})}),(0,x.jsx)(s.Route,{path:"tickets/:ticketId",element:(0,x.jsx)(Zp,{})}),(0,x.jsx)(s.Route,{path:"conversation/new",element:(0,x.jsx)(pc,{})}),(0,x.jsx)(s.Route,{path:"conversation/:conversationId",element:(0,x.jsx)(uc,{})}),(0,x.jsx)(s.Route,{path:"conversation/trigger-screen",element:(0,x.jsx)(vc,{})})]}),(0,x.jsxs)(s.Route,{path:p.ZL.path,children:[(0,x.jsx)(s.Route,{index:!0,element:(0,x.jsx)(bg,{})}),(0,x.jsx)(s.Route,{path:"collection/*",element:(0,x.jsx)(bg,{})}),(0,x.jsx)(s.Route,{path:"article/:articleId",element:(0,x.jsx)(kg,{})}),(0,x.jsx)(s.Route,{path:"article-standalone",element:(0,x.jsx)(kg,{})})]}),(0,x.jsxs)(s.Route,{path:p.ND.path,children:[(0,x.jsx)(s.Route,{index:!0,element:(0,x.jsx)(cm,{})}),(0,x.jsx)(s.Route,{path:"feed",element:(0,x.jsx)(cm,{})}),(0,x.jsx)(s.Route,{path:"details/:newsItemId",element:(0,x.jsx)(Og,{})})]}),(0,x.jsxs)(s.Route,{path:p.Ul.path,children:[(0,x.jsx)(s.Route,{index:!0,element:(0,x.jsx)(Fm,{})}),(0,x.jsx)(s.Route,{path:u.TA.checklistDetails(":checklistProgressId"),element:(0,x.jsx)(Kx,{})}),(0,x.jsx)(s.Route,{path:u.TA.checklistCompletionScreen(":checklistProgressId"),element:(0,x.jsx)(nf,{})})]}),(0,x.jsxs)(s.Route,{path:p.rK.path,children:[(0,x.jsx)(s.Route,{index:!0,element:(0,x.jsx)(mm,{}),loader:gm(e)}),(0,x.jsx)(s.Route,{path:"details/:ticketId",element:(0,x.jsx)(fm,{}),loader:xm(e)})]}),(0,x.jsx)(s.Route,{path:"*",element:(0,x.jsx)(f,{})})]})]})))(t),{initialEntries:[m]});return function(e,t){const{historyAction:n,location:i}=e.state;t.dispatch((0,oy.Uc)({action:n,location:i})),e.subscribe((({historyAction:e,location:n})=>{t.dispatch((0,oy.Uc)({action:e,location:n}))})),t.dispatch((0,ay.ch)({actionCreator:oy.zN,effect(t){const{state:n,to:i}=t.payload;"number"==typeof i?e.navigate(i):e.navigate(i,n)}}));const r=t.getState().router.navigationQueue;for(const t of r)"number"==typeof t.to?e.navigate(t.to):e.navigate(t.to,t.state);t.dispatch((0,oy.yr)())}(v,t),h.render((0,x.jsx)(c.A,{window:e,children:(0,x.jsx)(Qa.Provider,{value:e,children:(0,x.jsx)(r.Kq,{store:t,children:(0,x.jsx)(l.A,{children:(0,x.jsx)(a.A,{target:o,isSandbox:!1,children:(0,x.jsx)(uy,{children:(0,x.jsx)(s.RouterProvider,{router:v})})})})})})})),()=>{h.unmount(),(0,d.bf)(n),(0,d.bf)(o)}}},80929:(e,t,n)=>{"use strict";n.d(t,{L:()=>s});var i=n(50014),r=n.n(i);const s=(0,n(97132).Mz)((e=>e.banners),(e=>r()(e,"id")))},71982:(e,t,n)=>{"use strict";n.d(t,{l:()=>c});var i=n(97132),r=n(79148),s=n(64234),o=n(81323);const a=(0,i.Mz)(o.ji,(e=>e.app.features.conversationsAreExpandable),((e,t)=>!!e&&(e.startsWith("/news/details")||e.startsWith("/messages/conversation")&&t))),l=(0,i.Mz)(o.ji,(e=>!!e&&e.startsWith("/messages/conversation"))),c=(0,i.Mz)((e=>e.chrome.shouldExpand),r.p8,a,s.IS,l,(e=>e.chrome.wasExplicitlyChanged),((e,t,n,i,r,s)=>!(i||!e)&&(!(r&&!s)&&(t||n))))},18873:(e,t,n)=>{"use strict";n.d(t,{FK:()=>u,VV:()=>h,cE:()=>p,iZ:()=>d,xH:()=>c});var i=n(97132),r=n(98099),s=n(38611),o=n(84443),a=n(49651),l=n(97899);const c=e=>{if(!e||!e.parts)return;const t=e.parts[e.parts.length-1];return t&&t.replyOptions&&0!==t.replyOptions.length?t:void 0},d=e=>{const t=c(e);if(t)return t.replyOptions},p=(0,i.Mz)(r.Gm,(e=>{var t;return!(null==e||null==(t=e.composerState)||!t.selfServeSuggestionsEnabled)})),u=e=>(0,i.Mz)([e=>e.inboundSuggestions.isDismissed,o.$,e=>e.predictiveAnswers.composerSuggestions,e=>e.operator.composerHasContent,p,l.N7],((t,n,i,r,o,l)=>{var c;const p=!e.id&&!!l,u=!e.userParticipated,h=d(e),g=Object.assign({},s.n6,{suggestions:h||[]}),m=!!n&&!t&&p&&u&&!e.botIntroId,x=!!h,f=p&&u&&!m&&!x&&!!i,{composerSuggestions:v}=e,y=(null==v||null==(c=v.suggestions)?void 0:c.length)>0,b=null==v?void 0:v.isViewed,w=o&&r&&y,j=b&&!x&&o&&r&&!y;if(e.preventEndUserReplies)return s.n6;if(b&&j)return Object.assign({},s.n6,{prompt:[{type:"paragraph",text:(0,a.Tl)("empty_suggestion_prompt")}]});if(w)return Object.assign({},v,{prompt:[{type:"paragraph",text:(0,a.Tl)("suggested_content_prompt")}]});if(m)return Object.assign({},n,{isInboundBotSuggestions:!0});if(x)return Object.assign({},g,{isQuickReplies:!0});if(f){const e=[{type:"paragraph",text:(0,a.Tl)("suggested_content_prompt")}];return Object.assign({},i,{prompt:e,isPredictiveAnswers:!0})}return s.n6})),h=e=>(0,i.Mz)([l.Vy,t=>u(e)(t)],((e,t)=>e?null:t.suggestionParts?t.suggestionParts:null))},47452:(e,t,n)=>{"use strict";n.d(t,{Ch:()=>d,DT:()=>x,He:()=>A,Yn:()=>f,af:()=>k,qF:()=>c,wu:()=>u});var i=n(50014),r=n.n(i),s=n(97132),o=n(93346),a=n(81323),l=n(90933);const c=(0,s.Mz)((e=>e.home),(e=>{var t,n,i,r,s;if(null==e||!e.header)return{greeting:void 0,introduction:void 0,logoUrl:void 0,textColorType:void 0,showAvatars:void 0,compact:{showHeader:!1}};const{header:o}=e,a=null==o||null==(t=o.content)?void 0:t.greeting,l=null==o||null==(n=o.content)?void 0:n.showAvatars;return{greeting:a,introduction:null==o||null==(i=o.content)?void 0:i.introduction,logoUrl:null==o||null==(r=o.content)?void 0:r.logoUrl,textColorType:null==o||null==(s=o.content)?void 0:s.textColorType,showAvatars:l,compact:{showHeader:!(!a&&!l)}}})),d=e=>{var t;return null==(t=e.home)||null==(t=t.header)?void 0:t.background},p=e=>e.home,u=e=>e.home.isStale,h=({home:{cards:e}})=>null==e?void 0:e.find((e=>"recent_conversation"===e.type)),g=(0,s.Mz)(h,(e=>(null==e?void 0:e.limit)||1)),m=(0,s.Mz)(o.Ay,(e=>e.newConversation),((e,t)=>{const n=(0,l.dT)(e),i=r()([...n.filter(y)],(e=>e.id));return t&&1===t.parts.length&&"saving"===t.parts[0].saveState&&i.unshift(t),i})),x=(0,s.Mz)(m,g,((e,t)=>e.slice(0,t))),f=(0,s.Mz)(x,o.Ay,((e,t)=>e.length<t.length)),v=(0,s.Mz)(p,(({cards:e=[]})=>{return t="help_center",e.some((e=>e.type===t));var t}));function y(e){return e.eligibleForRecentConversations&&!e.excludeFromConversationsList}const b=(0,s.Mz)([v,a.TB,a.Ei],((e,t,n)=>(!e||!t)&&n)),w=(0,s.Mz)(m,(e=>e&&e.length>0)),j=(0,s.Mz)(h,w,((e,t)=>(null==e?void 0:e.conversations.length)>0||t)),A=({home:{cards:e}})=>null==e?void 0:e.find((e=>"new_conversation"===e.type)),k=(0,s.Mz)(a.Er,p,b,v,j,((e,{cards:t=[],isFetched:n,isFailed:i},r,s,o)=>{const a=n&&e;let l=t;return l=l.filter((e=>{switch(e.type){case"recent_conversation":return o;case"new_conversation":return r;case"help_center":return s;default:return!0}})),{slots:l,isFetched:a,isFailed:i}}))},32764:(e,t,n)=>{"use strict";n.d(t,{Ff:()=>m,IC:()=>h,Ow:()=>g,Xi:()=>y,d_:()=>x,jM:()=>w,me:()=>b,sH:()=>d,yB:()=>j,zS:()=>u});var i=n(86923),r=n(82272),s=n(61376),o=n(99336),a=n(72977);var l={name:"qf1dz",styles:"margin-left:45px;position:relative"},c={name:"1jcxgks",styles:"padding-left:45px;position:relative"};const d=(0,i.Ay)("div",{target:"ezy7gx811"})((({isInline:e,isBorderless:t})=>!e&&!t&&c)," ",(({isBorderless:e})=>e&&l)," ",(({isInline:e})=>e&&(0,i.AH)(r.o," ",s.C.className," &,",o.sC.className," &,.intercom-comment &{box-shadow:0 1px 2px 0 rgba(0, 0, 0, 0.03);margin-bottom:10px;}"))," ",(({isMessage:e})=>e&&(0,i.AH)("width:100%;padding-left:0;",A.className,"{padding:21px 30px;}",u.className,"{margin-bottom:8px;font-size:20px;}",w.className,"{font-size:14px;line-height:20px;}",g.className,"{height:26px;font-size:13px;}",x.className,"{margin-right:8px;}",b.className,"{width:calc(100% - 32px);padding-top:3px;}"))," ",(({theme:e,isBorderless:t,isInline:n})=>(!t&&!n||t||n)&&(0,i.AH)(p.className,"{display:block;position:relative;overflow:hidden;background-color:",e.containerBaseNeutral,";transition:all 0.12s ease-out;text-decoration:none!important;&:first-of-type{",(0,a.HF)({theme:e})," border-radius:3px 3px 0 0;}&:last-child{border-radius:3px;}}",A.className,"{padding:20px;}",u.className,"{font-size:14px;line-height:1.2;overflow:wrap;display:flex;align-items:center;justify-content:center;gap:4px;font-weight:600;&,&:visited{color:",e.textDefault,";}&[type='educate.help_center']{text-align:center;}}",w.className,"{color:",e.bodyText,";font-size:13px;line-height:1.38;",a.IY,";}",g.className,"{margin-top:11px;}",x.className,"{display:inline-block;margin-right:8px;}",b.className,"{width:calc(100% - 32px);display:inline-block;vertical-align:middle;color:",e.subheaderText,";line-height:16px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;span{white-space:nowrap;}}")),";"),p=(0,i.Ay)("a",{target:"ezy7gx810"})((({theme:e,isGrouped:t})=>t&&(0,i.AH)("border-bottom:1px solid ",e.borderEmphasisNeutral,";&:last-child{border-bottom:none;}&:hover{background-color:",e.containerEmphasisNeutral,";transform:none;}",g.className,"{margin-top:5px;}",A.className,"{padding:15px 20px;}")),";"),u=(0,i.Ay)("div",{target:"ezy7gx89"})(),h=(0,i.Ay)("span",{target:"ezy7gx88"})({name:"6jwybp",styles:"height:16px"}),g=(0,i.Ay)("div",{target:"ezy7gx87"})(),m=(0,i.Ay)("span",{target:"ezy7gx86"})(),x=(0,i.Ay)("div",{target:"ezy7gx85"})();var f={name:"ac0snl",styles:"position:absolute;left:0;bottom:10px"},v={name:"10ltq6i",styles:"bottom:0px"};const y=(0,i.Ay)("div",{target:"ezy7gx84"})((({isBorderless:e})=>e&&v)," ",(({isBorderless:e})=>!e&&f),";"),b=(0,i.Ay)("div",{target:"ezy7gx83"})({name:"vh5nmu",styles:"font-size:13px"}),w=(0,i.Ay)("div",{target:"ezy7gx82"})(),j=(0,i.Ay)("div",{target:"ezy7gx81"})("text-align:center;color:",(0,i.w4)("metaText"),";font-size:13px;clear:both;padding-top:0;padding-bottom:12px;"),A=(0,i.Ay)("div",{target:"ezy7gx80"})("@media (-ms-high-contrast: active){border:1px solid ",(0,i.w4)("borderNeutral"),";}")},15776:(e,t,n)=>{"use strict";n.d(t,{w:()=>h});var i=n(86923),r=n(99336),s=n(45134),o=n(58468),a=n(65252),l=n(26639),c=n(55239);var d={name:"14br8q4",styles:"float:none;padding-left:0;width:100%;margin-top:8px"},p={name:"191fc13",styles:"width:calc(100% - 100px)"},u={name:"bv6zur",styles:"margin-bottom:8px;width:100%;box-sizing:border-box"};const h=(0,i.Ay)("div",{target:"e1a7e1h30"})("position:relative;text-align:left;",(({isUser:e})=>e&&(0,i.AH)("/* @noflip */float:right;padding-left:48px;width:calc(100% - 48px);",l.W.className,"{/* @noflip */float:right;}"))," ",(({isUser:e,isSingleBlock:t})=>e&&t&&(0,i.AH)(s.F.className,"{/* @noflip */float:right;}",c.n.className,"{/* @noflip */float:right;}"))," ",(({isAdmin:e})=>e&&(0,i.AH)("/* @noflip */float:left;padding-left:45px;width:calc(100% - 45px);",c.n.className,"{/* @noflip */float:left;}"))," ",(({isUser:e,isAdmin:t})=>!e&&!t&&(0,i.AH)("/* @noflip */float:left;padding-left:48px;",l.W.className,"{/* @noflip */float:left;}"))," ",(({theme:e,hasAvatar:t,isBorderless:n})=>e.isLeftAlign&&t&&n&&!e.isMobileSize&&(0,i.AH)("margin-left:55px;",o.C.className,",",r.ob.className,"{/* @noflip */left:-10px;}"))," ",(({isBorderless:e})=>e&&u)," ",(({isAdmin:e,isBorderless:t})=>e&&t&&(0,i.AH)("/* @noflip */float:right;",a.j.className,"{padding:0px;margin-top:6px;}"))," ",(({isUser:e,isBorderless:t,theme:n})=>e&&t&&(0,i.AH)(a.j.className,"{float:none;color:",n.isPrimaryColorLight?n.textMuted:n.textOnInverse,";opacity:0.5;width:auto;}",a.J.className,"{float:none;}"))," ",(({theme:e})=>e.tabNavigation&&(0,i.AH)("padding-bottom:20px;",o.C.className,"{bottom:30px;}"))," ",(({theme:e,isBorderless:t})=>e.isLeftAlign&&t&&p)," ",(({theme:e,isAdmin:t,isBorderless:n})=>t&&n&&e.isMobileBrowser&&d),";")},49063:(e,t,n)=>{"use strict";n.d(t,{kn:()=>h,j4:()=>c,jd:()=>p,gp:()=>u,zC:()=>d,hX:()=>l});var i=n(86923),r=n(72977);const s=n.p+"images/search.4a61fc7e3b85fab94b7f.png",o=n.p+"images/search@2x.1fc443fdc28d62c7dce7.png",a=({popoverType:e,shouldHideUploads:t,isBorderless:n,theme:r})=>{const s=(({popoverType:e,shouldHideUploads:t,isBorderless:n,theme:i})=>{let r="gif"===e?81:41;return t&&(r-=34),n&&(r+=19),i.isRtlLocale&&n&&(r+=23),r})({popoverType:e,shouldHideUploads:t,isBorderless:n,theme:r});return(0,i.AH)("right:",s,"px;")},l=(0,i.Ay)("div",{target:"e1v6ck15"})("z-index:",(0,r.fE)(3),";position:absolute;max-height:",260,"px;bottom:100%;right:calc(50% - 189px);box-shadow:0 1px 15px 1px rgba(0, 0, 0, 0.12);background-color:",(0,i.w4)("containerBaseNeutral"),";border-radius:6px;",(({isBorderless:e})=>e&&(0,i.AH)("height:",236,"px;top:",-236,"px;/* @noflip */right:7px;/* @noflip */left:calc(50% - 165px);"))," &.intercom-composer-popover{&-enter{opacity:0;transform:translateY(5px);}&-enter-active{opacity:1;transform:translateY(0);}&-exit{opacity:1;transform:translateY(0);}&-exit-active{opacity:0;transform:translateY(5px);}&-enter-active,&-exit-active{transition:opacity ease 200ms,transform ease 200ms;}}"),c=(0,i.Ay)("div",{target:"e1v6ck14"})("position:absolute;bottom:-8px;width:0;height:0;border-left:8px solid transparent;border-right:8px solid transparent;border-top:8px solid ",(0,i.w4)("borderNeutral"),";",a,";"),d=(0,i.Ay)("div",{target:"e1v6ck13"})("position:absolute;left:0;top:50%;width:100%;margin-top:-7px;font-size:14px;font-weight:bold;text-align:center;color:",(0,i.w4)("bodyText"),";"),p=(0,i.Ay)("div",{target:"e1v6ck12"})("position:absolute;top:0;left:20px;right:20px;height:40px;border-bottom:1px ",(0,i.w4)("inputBorder")," solid;",r.TD,";"),u=(0,i.Ay)("input",{target:"e1v6ck11"})((0,r.op)(s,o,"16px","16px")," background-position:0 12px;font-weight:normal;font-size:14px;color:",(0,i.w4)("inputText"),";padding:10px 0 10px 25px;height:40px;width:100%;box-sizing:border-box;&::placeholder{color:",(0,i.w4)("inputPlaceholder"),";}"),h=(0,i.Ay)("div",{target:"e1v6ck10"})("position:absolute;top:40px;left:0;right:0;bottom:5px;padding:0 20px;overflow-y:scroll;",r.TD,";")},52271:(e,t,n)=>{"use strict";n.d(t,{$C:()=>y,AC:()=>w,C_:()=>u,Hg:()=>m,OO:()=>h,cC:()=>j,cT:()=>k,di:()=>A,lT:()=>x,nc:()=>v});var i=n(86923),r=n(72977),s=n(18603);const o="normal",a=i.i7`
  0% {
    opacity: 0;
  }

  70% {
    opacity: 0;
  }

  100% {
    opacity: 1;
  }
`,l={name:"3irtv8",styles:"position:relative;float:left;display:inline-block;cursor:pointer;opacity:0.8;transition:opacity 200ms ease;height:51px;margin-top:2px;&:hover{opacity:1;}&:before{position:absolute;top:20px;background-position:center;}svg{position:absolute;top:18px;}padding:0 6px"};var c={name:"1fol78c",styles:"textarea{font-size:16px;}"},d={name:"1h3f2ms",styles:"textarea:focus{box-shadow:none;}"},p={name:"bigtx2",styles:"background:none"};const u=(0,i.Ay)("div",{target:"e50zdj19"})("min-height:56px;max-height:200px;",(({theme:e,isBorderless:t})=>!t&&(0,i.AH)("border-top:1px solid ",e.lightBorder,";"))," ",(({theme:e,isBorderless:t})=>t&&(0,i.AH)("border:1px solid ",e.lightBorder,";background:",e.containerBaseNeutral,";"))," ",(({customerPrivacyPolicyEnabled:e})=>e&&(0,i.AH)("bottom:",s.B,"px;"))," textarea,pre{box-sizing:border-box;padding:18px;padding-right:100px;padding-left:",29,"px;width:100%;height:100%;font-family:",(0,i.w4)("fontSansSerif"),";font-size:",14,"px;font-weight:",o,";line-height:",1.33,";background-color:",(0,i.w4)("containerBaseNeutral"),";white-space:pre;white-space:pre-wrap;word-wrap:break-word;max-height:200px;overflow:hidden;",(({isBorderless:e})=>e&&p),";}textarea{position:absolute;top:1;bottom:0;left:0;color:",(0,i.w4)("textDefault"),";resize:none;border:none;transition:background-color ease 200ms,box-shadow ease 200ms;outline-offset:-5px;overflow-y:auto;&::placeholder{color:",(0,i.w4)("inputPlaceholder"),";font-style:",(0,i.w4)("fontSansSerif"),";font-size:",14,"px;font-weight:",o,";line-height:",1.33,";}&:focus{background-color:",(0,i.w4)("containerBaseNeutral"),";box-shadow:0px 0px 100px 0px ",(0,i.w4)("composerShadowColor"),";}}pre{visibility:hidden;}",(({theme:e,isBorderless:t})=>t&&(0,i.AH)("position:relative;border-radius:",e.notificationBorderRadiusPx,"px;box-shadow:none;animation:",a," 750ms ease;textarea,pre{padding-left:21px;}textarea:focus{box-shadow:none;}"))," ",(({theme:e})=>e.isMobileSize&&(0,i.AH)("textarea{background-color:",e.inputBackground,";}"))," ",(({hasComposerSuggestionsLoading:e,hasComposerSuggestions:t})=>(e||t)&&d)," ",(({theme:e})=>e.isMobileBrowser&&c),"@media (-ms-high-contrast: active){border:1px solid ",(0,i.w4)("borderNeutral"),";}"),h=(0,i.Ay)("div",{target:"e50zdj18"})("position:absolute;top:0;right:",21,"px;",(({isBorderless:e})=>e&&(0,i.AH)("right:",20,"px;")),";"),g=({theme:e,showEmojiPicker:t,isPrimaryColorReadable:n})=>(0,i.AH)(l," ",t&&(0,i.AH)("svg circle{fill:",n?e.appColor:e.iconMuted,";stroke:",n?e.appColor:e.iconMuted,";}"),";"),m=(0,i.Ay)("button",{target:"e50zdj17"})(g,";"),x=(0,i.Ay)("span",{target:"e50zdj16"})(g,";"),f=({theme:e,showGifPicker:t,isPrimaryColorReadable:n})=>(0,i.AH)(l," ",t&&(0,i.AH)("svg path{fill:",n?e.appColor:e.iconMuted,";}"),";"),v=(0,i.Ay)("button",{target:"e50zdj15"})(f,";"),y=(0,i.Ay)("span",{target:"e50zdj14"})(f,";"),b=()=>l,w=(0,i.Ay)("div",{target:"e50zdj13"})(b," svg{path{fill:none;}}"),j=(0,i.Ay)("span",{target:"e50zdj12"})(b,";"),A=(0,i.Ay)("button",{target:"e50zdj11"})(l," ",r.TD," ",(({theme:e,isPrimaryColorReadable:t})=>(0,i.AH)("svg path{fill:",t?e.appColor:e.iconMuted,";}")),";"),k=(0,i.Ay)("span",{target:"e50zdj10"})({name:"1r5gb7q",styles:"display:inline-block"})},35867:(e,t,n)=>{"use strict";n.d(t,{q:()=>w,K:()=>p});var i=n(86923),r=n(72977),s=n(99336),o=n(65252);const a=n.p+"images/warning-icon.4bbce092cc2b54bc59a1.png",l=n.p+"images/warning-icon@2x.f9f4cc2992785f21b4a8.png";var c=n(26639),d=n(15776);const p="200ms";var u={name:"eu3yxz",styles:"padding-left:45px"},h={name:"12d7z7x",styles:"*{cursor:pointer;}"},g={name:"mpkj0c",styles:"padding-bottom:8px"},m={name:"1u53ekv",styles:"padding-bottom:16px"},x={name:"1u53ekv",styles:"padding-bottom:16px"},f={name:"1ml9tbj",styles:"padding-bottom:2px"},v={name:"1ml9tbj",styles:"padding-bottom:2px"},y={name:"mpkj0c",styles:"padding-bottom:8px"},b={name:"lb05wl",styles:"&.intercom-conversation-part-enter{transform:translateY(0);}"};const w=(0,i.Ay)("div",{target:"eqhze2h0"})(r.t6," padding-bottom:16px;",(({isAdmin:e,flatConversationStyle:t})=>e&&!t&&(0,i.AH)("&.intercom-conversation-part-enter{opacity:0;}&.intercom-conversation-part-enter.intercom-conversation-part-enter-active{opacity:1;transition:opacity ",p,";}",o.j.className,"{/* @noflip */padding-left:45px;}"))," ",(({isSelf:e,conversationHasScrolled:t})=>e&&(0,i.AH)("&.intercom-conversation-part-enter{opacity:0;transform:translateY(40px);}&.intercom-conversation-part-enter.intercom-conversation-part-enter-active{opacity:1;transform:translateY(0);transition:opacity ",p,",transform ",p,";}",t&&b," ",o.j.className,"{/* @noflip */float:right;}",o.J.className,"{/* @noflip */float:right;}"))," ",(({isAdmin:e,isSelf:t})=>!e&&!t&&(0,i.AH)(o.j.className,"{/* @noflip */padding-left:45px;}"))," ",(({grouped:e})=>e&&y)," ",(({newConversationStylingEnabled:e,groupingPosition:t,flatConversationStyle:n})=>e&&!n&&("middle"===t||"top"===t)&&v)," ",(({newConversationStylingEnabled:e,groupingPosition:t,isBorderless:n,isSelf:i})=>e&&n&&i&&("middle"===t||"top"===t)&&f)," ",(({newConversationStylingEnabled:e,isBorderless:t,isAdmin:n})=>e&&t&&n&&x)," ",(({newConversationStylingEnabled:e,groupingPosition:t})=>e&&("bottom"===t||"standalone"===t)&&m)," ",(({isLastPart:e,isBorderless:t})=>e&&(0,i.AH)("padding-bottom:24px;",t&&g,";"))," ",(({theme:e,isFailedPart:t,isRetryable:n})=>t&&(0,i.AH)(o.j.className,"{",(0,r.op)(a,l,"11px","11px")," padding-left:15px;background-position:left 7px;background-repeat:no-repeat;color:",e.textError,";width:auto;}",n&&h,";"))," ",(({isAdmin:e,isBorderless:t,newConversationStylingEnabled:n})=>e&&t&&!n&&(0,i.AH)(s.sC.className," ",o.j.className,"{padding:5px 20px;}"))," ",(({isTicketStatusUpdate:e,isBorderless:t,newConversationStylingEnabled:n})=>e&&t&&!n&&u)," ",s.sC.className,"+",d.w.className,"{",c.W.className,"{padding-bottom:8px;}}")},5945:(e,t,n)=>{"use strict";n.d(t,{Bp:()=>l,ES:()=>c,ND:()=>s});var i=n(86923),r=n(35867);const s=(0,i.Ay)("div",{target:"e1lfi5hh2"})({name:"1es4p3n",styles:"display:flex;flex-direction:column;flex-grow:1;flex-shrink:0;justify-content:space-between;overflow-anchor:none;height:auto;position:relative;z-index:2"});var o={name:"1vf2ozo",styles:"opacity:0.2"},a={name:"1wx2bp",styles:"transition:none"};const l=(0,i.Ay)("div",{target:"e1lfi5hh1"})("padding:24px ",(0,i.w4)("globalHorizontalPadding"),"px 0;display:flex;flex-flow:row wrap;transition:transform ",r.K,";overflow-anchor:none;>*{flex:1 100%;max-width:100%;}",(({shouldDisableScrollingAnimation:e})=>e&&a)," ",(({isBorderless:e,isFaded:t})=>e&&(0,i.AH)("padding:0;",t&&o,";")),";"),c=(0,i.Ay)("div",{target:"e1lfi5hh0"})("text-align:center;color:",(0,i.w4)("metaText"),";font-size:13px;clear:both;padding-top:14px;padding-bottom:14px;&:first-of-type{padding-top:0px;}")},66501:(e,t,n)=>{"use strict";n.d(t,{E:()=>s,t:()=>a});var i=n(86923),r=n(79868);const s=(0,i.Ay)("div",{target:"edo8wak1"})("max-width:280px;position:relative;",r.w5.className,"{margin-top:8px;margin-bottom:8px;margin-left:45px;}",(({isBorderless:e})=>e&&(0,i.AH)(r.w5.className,"{margin-left:45px;}"))," ",(({useNewConversationStyle:e})=>e&&(0,i.AH)("margin-bottom:0;",r.w5.className,"{margin-left:0;margin-top:0;margin-bottom:0;}")),";");var o={name:"ac0snl",styles:"position:absolute;left:0;bottom:10px"};const a=(0,i.Ay)("div",{target:"edo8wak0"})((({isBorderless:e})=>!e&&o),";")},79868:(e,t,n)=>{"use strict";n.d(t,{AM:()=>u,Iu:()=>p,Qy:()=>c,WS:()=>l,ZM:()=>a,rs:()=>g,tV:()=>h,u9:()=>d,w5:()=>o});var i=n(86923),r=n(72977),s=n(65318);const o=(0,i.Ay)("div",{target:"e73xzvp8"})("margin:30px 0 30px 0;position:relative;text-align:left;background-color:",(0,i.w4)("containerBaseNeutral"),";border-radius:5px;color:",(0,i.w4)("bodyText"),";transition:height 200ms ease-in-out;height:",(0,i.xk)("height"),"px;",r.HF," ",(({useNewConversationStyle:e,groupingPosition:t,theme:n})=>e&&(0,i.AH)("margin-bottom:4px;box-shadow:none;border-radius:",(0,s.EF)(t),";border:1px solid ",n.borderEmphasisNeutral,";background:rgba(255, 255, 255, 0.95);")),";"),a=(0,i.Ay)("div",{target:"e73xzvp7"})({name:"vxuddk",styles:"padding:24px"}),l=(0,i.Ay)("div",{target:"e73xzvp6"})({name:"xdx7hc",styles:"font-size:14px;color:#3a3c4c;line-height:22px;text-align:center;margin-bottom:3px"}),c=(0,i.Ay)("div",{target:"e73xzvp5"})("font-size:13px;line-height:19px;color:",(0,i.w4)("subheaderText"),";text-align:center;"),d=(0,i.Ay)("div",{target:"e73xzvp4"})("border-top:1px solid ",(0,i.w4)("borderEmphasisNeutral"),";color:",(0,i.w4)("subheaderText"),";font-size:14px;line-height:19px;max-height:140px;overflow-y:auto;padding:16px 24px;"),p=(0,i.Ay)("div",{target:"e73xzvp3"})({name:"1jba3gn",styles:"padding:20px 20px 0"}),u=(0,i.Ay)("div",{target:"e73xzvp2"})({name:"1jtfsfi",styles:"position:relative;margin-bottom:5px"}),h=(0,i.Ay)("div",{target:"e73xzvp1"})("font-size:14px;line-height:24px;color:",(0,i.w4)("bodyText"),";transition:opacity 300ms 1000ms,max-height 400ms 1000ms;position:static;max-height:48px;text-align:center;"),g=(0,i.Ay)("div",{target:"e73xzvp0"})({name:"nore23",styles:"margin:8px 10px 6px;display:flex;justify-content:space-between"})},23043:(e,t,n)=>{"use strict";n.d(t,{wT:()=>C,mc:()=>f,aV:()=>w,Vj:()=>T,Mv:()=>_,O6:()=>E,o8:()=>L,$e:()=>D,R4:()=>H,Or:()=>O,_r:()=>P,HF:()=>R,CJ:()=>b,UC:()=>k,hE:()=>v,rZ:()=>S,_e:()=>y});var i=n(86923),r=n(96540),s=n(52555),o=n(83034),a=n(74848);const l=(0,r.forwardRef)((({value:e="",label:t="",className:n="",focused:i,style:l,onClick:c},d)=>{const p=(0,r.useRef)(null);(0,r.useEffect)((()=>{i&&p.current&&p.current.focus()}),[i]);return(0,a.jsx)(s.CS.button,{onClick:()=>{c&&c(e)},value:"string"==typeof e||"number"==typeof e?e:null==e?"":String(e),style:l,className:n,ref:(0,o.A)(p,d),children:t})}));l.displayName="Button";const c=l;var d=n(78253);const p=i.i7`
  0% {
    opacity: 0;
  }
  70% {
    opacity: 0;
  }
  100% {
    opacity: 1;
  }
`;var u={name:"v5fxai",styles:"border-radius:12px;background:rgba(255, 255, 255, 0.04);backdrop-filter:blur(100px);margin:14px 20px;padding:12px 12px 2px"},h={name:"14q70p4",styles:"/* @noflip */padding:0 0 0 45px;margin:0;background:none"},g={name:"1886e0j",styles:"padding-top:13px;padding-bottom:6px"},m={name:"5c1ew",styles:"transition:background 100ms,box-shadow 100ms"},x={name:"35nbzl",styles:"transition:padding 100ms,background 100ms,box-shadow 100ms"};const f=(0,i.Ay)("div",{target:"eqq3twc10"})("position:relative;background:rgba(0, 0, 0, 0);padding:0 26px;margin-bottom:-3px;z-index:1;",(({isBorderless:e})=>e?x:m)," ",(({suggestionsVisible:e})=>e&&g)," ",(({suggestionsVisible:e,isTypeaheadSuggestions:t,isBorderless:n,theme:r})=>e&&t&&!n&&(0,i.AH)("z-index:2;margin-top:3px;box-shadow:inset 0px 9px 8px -10px rgba(38, 76, 152, 0.2),inset 0px -9px 8px -10px rgba(38, 76, 152, 0.2);background:",r.containerBaseNeutral,";"))," ",(({isBorderless:e})=>e&&h)," ",(({isBorderless:e,suggestionsVisible:t})=>e&&t&&(0,i.AH)("padding-top:10px;animation:",p," 750ms ease;"))," ",(({useGroupedUI:e})=>e&&u),";"),v=(0,i.Ay)("h3",{target:"eqq3twc9"})("display:block;color:",(0,i.w4)("textMuted"),";font-size:14px;padding:8px 5px;/* @noflip */text-align:right;"),y=(0,i.Ay)("h3",{target:"eqq3twc8"})("display:block;color:#1a1a1a;font-size:14px;margin-bottom:12px;line-height:20px;",(({foregroundColor:e})=>(0,i.AH)("color:",e,";")),";"),b=(0,i.Ay)("div",{target:"eqq3twc7"})({name:"wy41lc",styles:"border-top:none;position:relative"}),w=600;var j={name:"1wx2bp",styles:"transition:none"},A={name:"44j6sp",styles:"margin-top:12px;margin-bottom:-6px"};const k=(0,i.Ay)("div",{target:"eqq3twc6"})("position:relative;transition:height ",w,"ms;overflow:hidden;height:",(0,i.xk)("height"),"px;max-width:",(0,i.w4)("messengerWidthPx"),"px;",(({isInline:e})=>e&&A)," ",(({height:e,isInline:t})=>e>0&&!t&&(0,i.AH)("min-height:",Math.max(e,52),"px;"))," ",(({isInboundBot:e})=>e&&j)," ",(({isExpanded:e,theme:t})=>e&&(0,i.AH)("max-width:",t.messengerExpandedWidthPx,"px;")),";"),C=10,S=10,T=12,_=10,E=14;var B={name:"86snxc",styles:"/* @noflip */left:0"},N={name:"18lthe7",styles:"/* @noflip */right:0"},I={name:"18lthe7",styles:"/* @noflip */right:0"},z={name:"1r5gb7q",styles:"display:inline-block"},M={name:"4zleql",styles:"display:block"};const R=(0,i.Ay)(c,{target:"eqq3twc5"})("position:absolute;top:0;font-size:14px;line-height:18px;padding:",10,"px ",_,"px;border-radius:6px;background-color:",(0,i.w4)("quickReplyBackgroundColor"),";color:",(0,i.w4)("quickReplyTextColor"),";",(({isTypeaheadSuggestion:e})=>e?M:z)," &:hover{background-color:",(0,i.w4)("appColor"),";color:",(0,i.w4)("textOnInverse"),";}",(({theme:e})=>"light"===e.primaryType&&(0,i.AH)("&:hover{color:",e.textDefault,";}"))," ",(({theme:e,useNewConversationalUI:t,isInline:n})=>t||n?(0,i.AH)("border-radius:40px;background-color:",e.containerBaseNeutral,";border:1px solid rgba(0, 0, 0, 0.1);box-shadow:0px 1px 4px rgba(0, 0, 0, 0.1);padding:",n?7:10,"px ",E,"px;"):I)," ",(({buttonAlignment:e})=>"right"===e&&N)," ",(({buttonAlignment:e})=>"left"===e&&B),";"),P=(0,i.Ay)("div",{target:"eqq3twc4"})({name:"18l8tfr",styles:"position:absolute;visibility:hidden;pointer-events:none;opacity:0;left:0;right:0;height:0"}),O=(0,i.Ay)("div",{target:"eqq3twc3"})({name:"1r5gb7q",styles:"display:inline-block"}),L=(0,i.Ay)("div",{target:"eqq3twc2"})({name:"1bxbmsj",styles:"padding:3px 0 16px;/* @noflip */text-align:right"}),H=(0,i.Ay)("div",{target:"eqq3twc1"})("display:inline-block;font-size:14px;color:",(0,i.w4)("textMuted"),";cursor:pointer;line-height:20px;"),D=(0,i.Ay)(d.A,{target:"eqq3twc0"})("height:10px;width:10px;margin-left:5px;text-align:right;vertical-align:middle;cursor:pointer;path{fill:",(0,i.w4)("textMuted"),";}")},58708:(e,t,n)=>{"use strict";n.d(t,{w$:()=>v,vl:()=>f,ao:()=>O,Jd:()=>P,gZ:()=>D,j3:()=>H,rQ:()=>R,No:()=>x,n9:()=>W,Tu:()=>m,Ve:()=>K,Rd:()=>B,Oz:()=>y,Yh:()=>j,TX:()=>C,bR:()=>z,o8:()=>w,Sm:()=>F,ok:()=>q,z1:()=>U,iW:()=>h,WO:()=>T,PT:()=>u,W6:()=>g,$w:()=>E,S_:()=>N});var i=n(86923),r=n(72977);const s=n.p+"images/next-icon.b010feb9a0ce3d2f9208.png",o=n.p+"images/next-icon@2x.ed4b169122394c03a445.png",a=n.p+"images/check-icon.da9c45de7d0f8cad78ca.png",l=n.p+"images/check-icon@2x.61cf8b8d3c4e1f7d9466.png";var c=n(78267);var d={name:"1wyubxg",styles:"margin-top:0;margin-bottom:5px"},p={name:"1e8ddzi",styles:"margin-top:5px;margin-bottom:0"};const u=(0,i.Ay)("div",{target:"e584tag25"})("margin:30px 0 30px 0;padding:16px 20px 20px;color:",(0,i.w4)("textDefault"),";position:relative;border-radius:5px;text-align:left;background-color:",(0,i.w4)("containerBaseNeutral"),";",(({isBorderless:e,lastPart:t})=>e&&t&&p)," ",(({isBorderless:e,nextPartByAdmin:t})=>e&&t&&d)," ",(({isSuccessful:e})=>e&&(0,i.AH)(E.className,"{position:absolute;top:0;opacity:0;visibility:hidden;max-height:24px;}",N.className,"{position:static;opacity:1;visibility:visible;max-height:48px;}")),";"),h=(0,i.Ay)("span",{target:"e584tag24"})("font-size:13px;line-height:20px;color:",(0,i.w4)("metaText"),";margin-right:39px;&:last-child{margin-right:0;}&:hover{color:",(0,i.w4)("textOnInverse"),";border-bottom:1px solid;}",(({theme:e,isSelected:t})=>t&&(0,i.AH)("color:",e.bodyText,";border-bottom:1px solid;")),";"),g=(0,i.Ay)("div",{target:"e584tag23"})({name:"1jtfsfi",styles:"position:relative;margin-bottom:5px"}),m=(0,i.Ay)("div",{target:"e584tag22"})("width:100%;position:relative;float:left;",u.className,"{margin-top:6px;margin-bottom:0;margin-left:45px;padding-left:0;}",h.className,"{margin-right:19px;}",(({isBorderless:e})=>e&&(0,i.AH)(u.className,"{margin-left:45px;}",h.className,"{margin-right:9px;}")),";"),x=(0,i.Ay)("div",{target:"e584tag21"})("margin-top:",(({theme:e})=>e.isUnifiedStyling?"8px":"0px"),";margin-bottom:8px;width:100%;position:relative;float:left;"),f=(0,i.Ay)("div",{target:"e584tag20"})("padding:26px 24px 24px;margin-left:",(({theme:e})=>e.isUnifiedStyling?"0px":"48px"),";border-radius:",(({theme:e})=>e.isUnifiedStyling?"20px":e.conversationPartBorderRadiusPx),";font-size:14px;line-height:1.4;color:",(0,i.w4)("bodyText"),";overflow:hidden;",r.Hs," ",(({theme:e,isBorderless:t})=>t&&(0,i.AH)("box-shadow:",e.notificationBoxShadow,";border-radius:",e.notificationBorderRadiusPx,";border-color:",e.borderNeutral,";background-color:",e.containerBaseNeutral,";margin-left:45px;")),";"),v=(0,i.Ay)("div",{target:"e584tag19"})({name:"ac0snl",styles:"position:absolute;left:0;bottom:10px"}),y=(0,i.Ay)("div",{target:"e584tag18"})({name:"cy0b9q",styles:"position:relative;display:table;width:100%;div{display:table-cell;vertical-align:top;}"});var b={name:"abmacl",styles:"width:1px;transition:width 300ms 1000ms"};const w=(0,i.Ay)("div",{target:"e584tag17"})("width:40px;",(({hasChannel:e})=>e&&b),";"),j=(0,i.Ay)(c.l,{target:"e584tag16"})({name:"1bpw14p",styles:"position:absolute;top:12px;left:12px;z-index:1;transition:transform 300ms"});var A={name:"tvy5p1",styles:"input{border:1px solid #fcedef;background-color:#fcedef;}"},k={name:"1tepm2d",styles:"input{padding-left:33px;}"};const C=(0,i.Ay)("div",{target:"e584tag15"})("position:relative;input{position:absolute;box-sizing:border-box;height:40px;width:100%;padding:0 12px;font-size:14px;font-family:",(0,i.w4)("fontSansSerif"),";color:",(0,i.w4)("inputText"),";border-radius:4px 0 0 4px;border:1px solid ",(0,i.w4)("inputBorder"),";border-right:0;appearance:none;transition:border 300ms,color 400ms 600ms,padding 300ms 600ms,height 400ms 1000ms;&:disabled{opacity:0.7;}}",(({isPhone:e})=>e&&k)," ",(({hasError:e})=>e&&A)," ",(({theme:e,isSuccessful:t})=>t&&(0,i.AH)("input{border:1px solid ",e.borderNeutral,";border-right:0;padding:0;height:20px;font-weight:400;color:",e.bodyText,";text-fill-color:",e.bodyText,";overflow:hidden;text-overflow:ellipsis;&:autofill{box-shadow:0 0 0px 1000px ",e.containerBaseNeutral," inset;text-fill-color:",e.bodyText,"!important;}}",j.className,"{transform:scale(0);}")),";");var S={name:"14j33fn",styles:"padding-left:33px"};const T=(0,i.Ay)("span",{target:"e584tag14"})("position:absolute;box-sizing:border-box;height:40px;width:100%;padding:4px 12px 0;font-size:14px;font-weight:400;font-family:",(0,i.w4)("fontSansSerif"),";line-height:32px;color:",(0,i.w4)("inputPlaceholder"),";cursor:text;overflow:hidden;text-overflow:ellipsis;z-index:1;",(({isPhone:e})=>e&&S),";");var _={name:"3ix1vd",styles:"opacity:1"};const E=(0,i.Ay)("div",{target:"e584tag13"})("font-size:14px;line-height:24px;color:",(0,i.w4)("bodyText"),";transition:opacity 300ms 1000ms,max-height 400ms 1000ms;position:static;max-height:48px;",(({isSuccessful:e})=>e&&_),";"),B=(0,i.Ay)("div",{target:"e584tag12"})("font-size:14px;line-height:19px;color:",(0,i.w4)("metaText"),";text-overflow:ellipsis;overflow:hidden;"),N=(0,i.Ay)("div",{target:"e584tag11"})("font-size:14px;line-height:24px;color:",(0,i.w4)("bodyText"),";transition:opacity 300ms 1000ms,max-height 400ms 1000ms;position:absolute;top:0;opacity:0;visibility:hidden;max-height:24px;");var I={name:"10i7m94",styles:"opacity:0.7"};const z=(0,i.Ay)("div",{target:"e584tag10"})("width:35px;height:40px;border-radius:0 4px 4px 0;background-color:",(0,i.w4)("appColor"),";box-shadow:0 1px 2px 0 rgba(0, 0, 0, 0.15);transition:border-radius 300ms,opacity 300ms 600ms,height 400ms 1000ms;&:hover{opacity:0.7;}",(({isDisabled:e})=>e&&I)," ",(({hasChannel:e})=>e&&(0,i.AH)("background-color:#38a652;opacity:0;border-radius:4px;height:20px;&:hover{opacity:0;}",F.className,"{opacity:0;transform:rotate(270deg) translate(-4px, -3px);}",q.className,"{opacity:1;transform:rotate(0deg) scale(1);}")),";");var M={name:"xfpdpv",styles:".intercom-notification-channel-collector-card-controls-prompt{position:absolute;top:0;opacity:0;visibility:hidden;max-height:24px;}.intercom-notification-channel-collector-card-controls-message{position:static;opacity:1;visibility:visible;max-height:48px;}.intercom-notification-channel-collector-card-controls-channels{height:0;opacity:0;}"};const R=(0,i.Ay)("div",{target:"e584tag9"})((({isSaved:e})=>e&&M),";"),P=(0,i.Ay)("div",{target:"e584tag8"})("font-size:13px;line-height:20px;height:30px;color:",(0,i.w4)("metaText"),";transition:opacity 300ms 300ms,height 400ms 1000ms;"),O=(0,i.Ay)("span",{target:"e584tag7"})("margin-right:20px;color:",(0,i.w4)("textMuted"),";&:hover{color:",(0,i.w4)("inputText"),";border-bottom:1px solid;}",(({theme:e,isSelected:t})=>t&&(0,i.AH)("color:",e.inputText,";border-bottom:1px solid;")),";"),L=({theme:e})=>(0,i.AH)("margin-bottom:6px;font-size:14px;line-height:24px;max-height:48px;color:",e.bodyText,";transition:opacity 300ms 1000ms,max-height 400ms 1000ms;"),H=(0,i.Ay)("div",{target:"e584tag6"})(L,";"),D=(0,i.Ay)("div",{target:"e584tag5"})(L," position:absolute;top:0;opacity:0;visibility:hidden;max-height:24px;"),V={name:"zcwqmz",styles:"position:absolute;top:0;bottom:0;width:35px;height:40px;transition:transform 300ms linear,opacity 150ms linear;background-position:center;background-repeat:no-repeat"},F=(0,i.Ay)("div",{target:"e584tag4"})(V," ",(0,r.op)(s,o,"8px","13px")," opacity:1;"),q=(0,i.Ay)("div",{target:"e584tag3"})(V," ",(0,r.op)(a,l,"18px","14px")," opacity:0;transform:rotate(-90deg) scale(0.5);");var G={name:"46s2pb",styles:"height:0;opacity:0"};const U=(0,i.Ay)("div",{target:"e584tag2"})("height:30px;opacity:1;transition:opacity 300ms 300ms,height 400ms 1000ms;",(({isSuccessful:e})=>e&&G),";");var $={name:"ac0snl",styles:"position:absolute;left:0;bottom:10px"};const W=(0,i.Ay)("div",{target:"e584tag1"})((({isBorderless:e})=>!e&&$),";"),K=(0,i.Ay)("div",{target:"e584tag0"})("color:",(0,i.w4)("textDisabled"),";font-size:14px;text-align:center;border-top:1px solid ",(0,i.w4)("borderEmphasisNeutral"),";padding-top:16px;")},51457:(e,t,n)=>{"use strict";n.d(t,{AJ:()=>u,E9:()=>x,M3:()=>j,Wr:()=>h,gE:()=>g,kG:()=>f,ou:()=>w});var i=n(86923),r=n(18875),s=n(72977);const o="rgba(0, 0, 0, 0.08)",a=({theme:e})=>(0,i.AH)("box-shadow:-1px 1px 0px ",e.borderEmphasisNeutral,";margin-left:25px;"),l=i.i7`
  0% {
    opacity: 0;
    transform: translateY(20px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
    position: initial;
  }
`,c=i.i7`
  0% {
    opacity: 0;
    transform: translateY(-20px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
`,d=i.i7`
  0% {
    opacity: 0;
    transform: translateX(-20px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
`,p=i.i7`
  0% {
    opacity: 0;
    transform: translateX(20px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
`,u=(0,i.Ay)(r.Ay,{target:"e1abe4l86"})({name:"fpmrzc",styles:"height:38px;width:38px;pointer-events:none"}),h=(0,i.Ay)("div",{target:"e1abe4l85"})({name:"c8ift8",styles:"position:absolute;pointer-events:none;[x-placement^='top'] &{bottom:-9px;transform:translateY(20px);}[x-placement^='right'] &{transform:translateX(-20px);}[x-placement^='bottom'] &{transform:translateY(-20px);}[x-placement^='left'] &{right:-9px;transform:translateX(20px);}"}),g=(0,i.Ay)("div",{target:"e1abe4l84"})("position:absolute;width:max-content;left:0;top:0;transition:opacity 0.6s ease;z-index:",(0,s.fE)(1),";visibility:visible!important;"),m=800,x=(0,i.Ay)("div",{target:"e1abe4l83"})("animation:",l," ",m,"ms ease;[x-placement^='top'] &{animation:",c," ",m,"ms ease;}[x-placement^='right'] &{animation:",p," ",m,"ms ease;}[x-placement^='bottom'] &{animation:",l," ",m,"ms ease;}[x-placement^='left'] &{animation:",d," ",m,"ms ease;}"),f=(0,i.Ay)("div",{target:"e1abe4l82"})("width:13px;height:25px;position:relative;overflow:hidden;&:after{content:'';position:absolute;width:20px;height:20px;background-color:",(({backgroundColorOverride:e})=>e??(0,i.w4)("containerBaseNeutral")),";transform:rotate(45deg);top:2px;}&[x-placement^='top']{height:13px;width:25px;&:after{top:-12px;left:2px;box-shadow:1px 1px 1px 0 ",o,";}}&[x-placement^='right']{height:25px;width:13px;&:after{right:-12.5px;box-shadow:1px -1px 1px 2px ",o,";}}&[x-placement^='bottom']{height:13px;width:25px;&:after{top:4.5px;left:2px;box-shadow:-1px -1px 1px 0 ",o,";}}&[x-placement^='left']{height:25px;width:13px;&:after{left:-12.5px;box-shadow:-1px 1px 1px 2px ",o,";}}",(({isInsideInbox:e})=>e&&a),";"),v={name:"1nk1x65",styles:"transform:scale(1)"},y=(e,t)=>i.i7`
    0% { ${v} }
    85% { ${((e,t)=>(0,i.AH)("transform:scaleX(calc(1 + (4 / ",e,"))) scaleY(calc(1 + (4 / ",t,")));"))(e,t)} }
    100% { ${v} }
  `;var b={name:"1claskt",styles:"display:block;position:fixed;top:50%;left:50%;box-shadow:0px 0px 0px 4000px rgba(0, 0, 0, 0.35)"};const w=(0,i.Ay)("div",{target:"e1abe4l81"})("z-index:",(0,s.fE)(),";content:'';display:none;position:absolute;left:0;top:0;width:0;height:0;pointer-events:none;border-radius:1px;box-sizing:border-box;",(({isAnimating:e,width:t,height:n})=>e&&(0,i.AH)("animation:",y(t,n)," 2s infinite;"))," ",(({isPost:e})=>e&&b)," ",(({isStep:e,theme:t,buttonColor:n})=>e&&(0,i.AH)("display:block;margin:3px;box-shadow:0 0 0 3px ",n||t.appColor,",0px 0px 0px 4000px rgba(0, 0, 0, 0.35);")),";"),j=(0,i.Ay)("div",{target:"e1abe4l80"})((({scrollable:e,theme:t})=>e&&(0,i.AH)("position:fixed;height:100%;width:100%;top:0;left:0;opacity:0;box-sizing:border-box;z-index:",(0,s.fE)(0,t),";")),";")},99398:(e,t,n)=>{"use strict";n.d(t,{C:()=>x});var i=n(42706),r=n(96540),s=n(56213),o=n(32836);function a(...e){return(...t)=>{for(const n of e)"function"==typeof n&&n(...t)}}function l(e,t){const n=e.window.getComputedStyle(t);return/(auto|scroll)/.test(n.overflow+n.overflowX+n.overflowY)}let c,d=0;function p(e){const{isDisabled:t,appWindow:n,mobileSaferiOnly:i}=e;(0,r.useLayoutEffect)((()=>{if(!t){if(d++,1===d){const e={window:n,document:n.document};c=(0,s.un)()?function(e){let t,n=null;const i=i=>{t=function(e,t){let n=t;for(;n&&!l(e,n);)n=n.parentElement;return n||e.document.scrollingElement||e.document.documentElement}(e,i.target),t===e.document.documentElement&&t===e.document.body||t instanceof HTMLElement&&"auto"===e.window.getComputedStyle(t).overscrollBehavior&&(n=u(t,"overscrollBehavior","contain"))},r=n=>{t&&t!==e.document.documentElement&&t!==e.document.body?t.scrollHeight===t.clientHeight&&t.scrollWidth===t.clientWidth&&n.preventDefault():n.preventDefault()},s=()=>{n&&n()},c=a(h(e.document,"touchstart",i,{passive:!1,capture:!0}),h(e.document,"touchmove",r,{passive:!1,capture:!0}),h(e.document,"touchend",s,{passive:!1,capture:!0}),h(e.document,"focus",o.K,!0));return()=>{null==n||n(),c()}}(e):i?null:function(e){return a(u(e.document.documentElement,"paddingRight",e.window.innerWidth-e.document.documentElement.clientWidth+"px"),u(e.document.documentElement,"overflow","hidden"))}(e)}return()=>{d--,c&&0===d&&c()}}}),[t,n,i])}function u(e,t,n){const i=e.style[t];return e.style[t]=n,()=>{e.style[t]=i}}function h(e,t,n,i){return e.addEventListener(t,n,i),()=>{e.removeEventListener(t,n,i)}}var g=n(74848);const m=["children"];function x(e){let{children:t}=e,n=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(-1!==t.indexOf(i))continue;n[i]=e[i]}return n}(e,m);const s=(0,r.useContext)(i.t);return p(Object.assign({},n,{appWindow:s||window})),(0,g.jsx)(g.Fragment,{children:t})}},46531:(e,t,n)=>{"use strict";n.d(t,{p:()=>i});const i=(0,n(90644).A)("div",{target:"e1bo99k0"})({name:"p3e9qn",styles:"position:absolute;border-top:1px solid rgba(0, 0, 0, 0.1);width:100%;height:10px;pointer-events:none;z-index:100"})},14314:(e,t,n)=>{"use strict";n.d(t,{PG:()=>u,_j:()=>g,hE:()=>m,kh:()=>h,mx:()=>d,zP:()=>c});var i=n(86923),r=n(17905),s=n(68239),o=n(72977);const a=i.i7`
  0% {
    opacity: 0;
  }
  50% {
    opacity: 0;
  }
  100% {
    opacity: 1;
  }
`;var l={name:"o8oj3q",styles:"margin:0 auto;width:100%"};const c=(0,i.Ay)("div",{target:"e141za3z5"})("max-height:",(0,i.w4)("notificationHeightPx"),"px;width:",340,"px;&,*{cursor:pointer;}",r.jt.className,"{border-radius:",(0,i.w4)("notificationBorderRadiusPx"),"px;padding:18px 20px;box-shadow:",(0,i.w4)("notificationBoxShadow"),";}",r.TJ.className,"{padding:0;}",(({theme:e})=>e.isMobileSize&&l),";"),d=(0,i.Ay)("div",{target:"e141za3z4"})("padding-top:8px;font-size:14px;overflow:hidden;line-height:22px;max-height:44px;color:",(0,i.w4)("bodyText"),";animation:",a," 500ms ease;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;");var p={name:"1d3w5wq",styles:"width:100%"};const u=(0,i.Ay)("div",{target:"e141za3z3"})("height:100%;width:",340,"px;position:relative;*{cursor:pointer;}",s.$z.className,"{width:100%;}",(({theme:e})=>e.isMobileSize&&p),";"),h=(0,i.Ay)(d,{target:"e141za3z2"})({name:"xda5ep",styles:"margin-top:12px"}),g=(0,i.Ay)("div",{target:"e141za3z1"})("/* @noflip */margin-left:45px;padding:17px 22px;box-sizing:border-box;background-color:",(0,i.w4)("containerBaseNeutral"),";border-radius:",(0,i.w4)("notificationBorderRadiusPx"),"px;/* @noflip */border-bottom-left-radius:0;box-shadow:",(0,i.w4)("notificationBoxShadow"),";font-size:13px;line-height:1.5;height:100%;position:relative;&:after{",o.gu,";}"),m=(0,i.Ay)("div",{target:"e141za3z0"})("position:absolute;bottom:0;/* @noflip */left:3px;box-shadow:",(0,i.w4)("notificationBoxShadow"),";border-radius:50%;")},13555:(e,t,n)=>{"use strict";n.d(t,{C:()=>s,D:()=>o});var i=n(86923);const r={name:"1fgiiou",styles:"position:absolute;clip:rect(1px, 1px, 1px, 1px)"},s=(0,i.Ay)("button",{target:"ejitj6g1"})(r,";"),o=(0,i.Ay)("div",{target:"ejitj6g0"})(r,";")},15403:(e,t,n)=>{const{WebTracerProvider:i}=n(46036),{Resource:r}=n(40010),{SimpleSpanProcessor:s,NoopSpanProcessor:o}=n(21391),{OTLPTraceExporter:a}=n(86287),{ATTR_SERVICE_NAME:l,ATTR_SERVICE_VERSION:c}=n(51002),{getConfig:d}=n(69607),{registerInstrumentations:p}=n(62393),{XMLHttpRequestInstrumentation:u}=n(43391),{GlobalAttributesSpanProcessor:h}=n(41567),{GlobalTraceAttributes:g}=n(22541);e.exports={setupTracing:function(){const e=d().telemetry_base;if(!e)return;const t="messenger",n=g.get().app_id,m=new r({[l]:t,[c]:"8110582ca0cacbf6aa9ac00cc968c9d7421837a8",service_name:t,sluginator_run_id:"4434495"}),x=new URLSearchParams(Object.assign({},n&&{app_id:n})),f=new a({url:`${e}/ember/otlp?${x.toString()}`,headers:{"X-OTLP-SOURCE":"messenger"}});let v;v="test"==="production".environment?new o:new s(f);const y=new i({resource:m,spanProcessors:[new h,v]}),b=[/^http(s)?:\/\/.*intercom-messenger\.com\/messenger\/web\/messages$/,/^http(s)?:\/\/.*intercom\.(io|com)\/+messenger\/web\/messages$/,/^http(s)?:\/\/.*intercom\.test\/+messenger\/web\/messages$/,/^http(s)?:\/\/.*intercom-messenger\.com\/messenger\/web\/conversations\/[0-9]+\/reply$/,/^http(s)?:\/\/.*intercom\.(io|com)\/+messenger\/web\/conversations\/[0-9]+\/reply$/,/^http(s)?:\/\/.*intercom\.test\/+messenger\/web\/conversations\/[0-9]+\/reply$/,/^http(s)?:\/\/.*intercom-messenger\.com\/messenger\/web\/conversations\/[0-9]+\/quick_reply$/,/^http(s)?:\/\/.*intercom\.(io|com)\/+messenger\/web\/conversations\/[0-9]+\/quick_reply$/,/^http(s)?:\/\/.*intercom\.test\/+messenger\/web\/conversations\/[0-9]+\/quick_reply$/];return p({instrumentations:[new u({allowUrls:b,propagateTraceHeaderCorsUrls:b,ignoreXhrEvents:!0,applyCustomAttributesOnSpan:(e,t)=>{const n={},i=t.getAllResponseHeaders();i.indexOf("x-request-id")>=0&&(n.request_id=t.getResponseHeader("x-request-id")),i.indexOf("x-runtime")>=0&&(n["http.response.headers.x-runtime"]=Math.round(1e3*Number(t.getResponseHeader("x-runtime")))),i.indexOf("x-request-queueing")>=0&&(n["network.backend_queueing_ms"]=Number(t.getResponseHeader("x-request-queueing"))),e.setAttributes(n)}})]}),y.register(),y}}},41567:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GlobalAttributesSpanProcessor:()=>GlobalAttributesSpanProcessor});var i=n(22541);class GlobalAttributesSpanProcessor{onStart(e){try{const t=i.GlobalTraceAttributes.get();t["_internal.clock_drift"]=Date.now()-(performance.timeOrigin+performance.now()),t["_internal.span_sent_system_time"]=Date.now(),t["_internal.span_sent_monotonic_time"]=performance.now()+performance.timeOrigin,e.setAttributes(t)}catch(e){}}onEnd(e){}shutdown(){return Promise.resolve()}forceFlush(){return Promise.resolve()}}}}]);