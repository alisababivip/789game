var S=Object.defineProperty,v=Object.defineProperties;var H=Object.getOwnPropertyDescriptors;var w=Object.getOwnPropertySymbols;var h=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable;var l=(t,e,a)=>e in t?S(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,u=(t,e)=>{for(var a in e||(e={}))h.call(e,a)&&l(t,a,e[a]);if(w)for(var a of w(e))y.call(e,a)&&l(t,a,e[a]);return t},A=(t,e)=>v(t,H(e));var C=(t,e)=>{var a={};for(var o in t)h.call(t,o)&&e.indexOf(o)<0&&(a[o]=t[o]);if(t!=null&&w)for(var o of w(t))e.indexOf(o)<0&&y.call(t,o)&&(a[o]=t[o]);return a};var i=(t,e,a)=>new Promise((o,r)=>{var p=s=>{try{c(a.next(s))}catch(d){r(d)}},g=s=>{try{c(a.throw(s))}catch(d){r(d)}},c=s=>s.done?o(s.value):Promise.resolve(s.value).then(p,g);c((a=a.apply(t,e)).next())});import{m}from"./md5-771285ef.js";import{h as T}from"./hmac-sha256-ab7884e0.js";import{O as P,g as n,f,r as R}from"./manifest-085c1252.js";const q={handleLogin(t,e,a,o){return i(this,null,function*(){const{t1:r,t2:p}=yield P(),g=window.navigator.userAgent;let{random:c}=yield n().post(`/account/login-pre/?p=${r(g)}`);const s=Date.now(),d=u({loginName:t,password:String(T(String(m(e)),s.toString())),timestamp:s,random:p(c,g),codeType:"reCAPTCHA",code:o||"test"},a);return yield n().post("/account/login/",d)})},handleRegist(t,e,a,o,r,p,g){return i(this,null,function*(){a=String(m(a));let c={email:e,password:a,invitationCode:o,acceptPromotion:r,userGroup:p};c.codeType="reCAPTCHA",c.code=g||"test",yield n().post(t?"/facade/us/account/email/regist/":"/account/regist/",c),f.emit("regist-success")})},twoFa(t){return i(this,null,function*(){return n().post("/account/google/2-step-auth/code-2verify/",{code:t})})},resetTwoFa(){return i(this,null,function*(){return n().post("/account/google/2-step-auth/recovery/")})},handleResetPassword(t,e){return i(this,null,function*(){return n().post("/account/password/recovery/login/",{email:t,codeType:"reCAPTCHA",code:e})})},handleResetPasswordPhone(t){return i(this,null,function*(){return t.password=String(m(t.password)),n().post("/account/phone/password/reset/",t)})},handleLoginPhone(t,e,a,o){return i(this,null,function*(){const{t1:r,t2:p}=yield P(),g=window.navigator.userAgent.trim();let{random:c}=yield n().post(`/account/login-pre/?p=${r(g)}`);const s=String(Date.now()),d=u({phone:t,password:String(T(String(m(e)),s)),timestamp:s,random:p(c,g),codeType:"reCAPTCHA",code:o},a);return n().post("/account/phone/login/",d)})},handleRegistPhone(t,e,a=!1){return i(this,null,function*(){e.password=String(m(e.password));const o=a?"/account/whatsapp/register/":t;yield n().post(o,u({},e)),f.emit("regist-success")})},handleGetPhoneCaptcha(o,a=!1){return i(this,null,function*(){var r=o,{invitationCode:t=""}=r,e=C(r,["invitationCode"]);const p=a?"/account/whatsapp/captcha/":"/account/phone/captcha/";return n().post(p,A(u({},e),{invitationCode:t,codeType:"reCAPTCHA"}))})},remoteEmailVerify(t){return i(this,null,function*(){const e=yield R("email");return n().post("/account/verify/email/login/",{codeType:"reCAPTCHA",code:e,verifyCode:t})})}};export{q as a};
