var u=(m,s,a)=>new Promise((o,c)=>{var n=t=>{try{r(a.next(t))}catch(i){c(i)}},e=t=>{try{r(a.throw(t))}catch(i){c(i)}},r=t=>t.done?o(t.value):Promise.resolve(t.value).then(n,e);r((a=a.apply(m,s)).next())});import{d as $,i as d,c as v,t as f,e as g,f as w,a as l}from"./i18n-c89f3d65.js";import{c as h,S as R}from"./solid-js-c760dca1.js";import{t as p}from"./manifest-085c1252.js";import{C as _}from"./Countdown-083af6d7.js";var b=l("<button>"),k=l("<span>"),x=l("<span class=text-xs>");const A=function(s){const[a,o]=h(s.time||-1),c=()=>u(this,null,function*(){try{yield s.sendAction(),o(6e4)}catch(n){p(n)}});return(()=>{var n=b();return n.$$click=c,d(n,v(R,{get when(){return a()>0},get fallback(){return(()=>{var e=k();return d(e,()=>f("Resend")),e})()},get children(){return v(_,{get endTime(){return a()},onEnd:()=>o(-1),children:e=>(()=>{var r=x();return d(r,()=>`${f("Resend in")} ${e.seconds||0}s`),r})()})}})),g(e=>{var r=s.class,t=a()>0;return r!==e.e&&w(n,e.e=r),t!==e.t&&(n.disabled=e.t=t),e},{e:void 0,t:void 0}),n})()};$(["click"]);export{A as R};
