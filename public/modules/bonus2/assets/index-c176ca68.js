import{h as C,d as L,f as T,i as n,c as r,u as S,e as I,b as E,a as p,t as c,m as D}from"./i18n-98ba7270.js";import{c as b,u as A,l as B,e as v,Z as F,_ as H,a4 as O,m as h,V as R,s as V,T as j,f as G,i as w}from"./manifest-04ceac01.js";import{P as d,a as N,d as y}from"./index-5906eb9b.js";import{j as z,i as M,F as _,d as X,c as Z,S as $}from"./solid-js-9bdbdf5e.js";import{c as q}from"./store-2fc868cc.js";import{D as J}from"./dom-empty-fallback-5feff646.js";import{I as K}from"./imgX-802d2a7e.js";import"./countdown-b1b7a949.js";import"./common-progress-bar-6e64ac9b.js";import"./findLastIndex-2b00e670.js";import"./_baseIteratee-433aee89.js";import"./baseService-11f77762.js";import"./_baseGetTag-c2e287b9.js";import"./isArray-79a0be9c.js";import"./_MapCache-91cc8331.js";import"./_baseIsEqual-63295eab.js";import"./isSymbol-269a4c68.js";import"./memoize-91f976fa.js";import"./toString-968993ce.js";import"./_arrayMap-2bcec0e7.js";import"./toInteger-80e35231.js";import"./toNumber-072076cc.js";import"./index-b3ef434e.js";import"./index-06e082ac.js";import"./index-5190623b.js";import"./center-loading-8e21230b.js";import"./utils-64298f05.js";import"./index-5fc1d562.js";import"./kr-config-c4c38b86.js";import"./helpers-6d4813f3.js";import"./_commonjsHelpers-5e4564a3.js";import"./vip-e3f3cfef.js";import"./index-c704ae69.js";import"./http-f69dd5cf.js";import"./types-40e55d46.js";import"./_baseSlice-cf92e063.js";import"./currency-format-908260ab.js";import"./index-3d4bd0da.js";import"./index-89f8eab7.js";import"./empty-placeholder-ec08ec25.js";import"./debounce-830ce71a.js";import"./last-862de5a8.js";import"./_basePropertyOf-20a61b2b.js";import"./router-64ab6322.js";var x=p("<div>");const Q=e=>{const[a,u]=z(e,["value","onChange","options"]),g=M(()=>e.value);return(()=>{var o=x();return L(o,T(u,{get class(){return b("flex flex-row gap-2",u.class)}}),!1,!0),n(o,r(_,{get each(){return e.options},children:m=>(()=>{var s=x();return S(f=>{X(()=>{g(m.value)&&f.scrollIntoView({behavior:"smooth",block:"center"})})},s),s.$$click=e.onChange,s.$$clickData=m.value,n(s,()=>m.label),I(()=>E(s,b(g(m.value)?"bg-layer5 text-brand brightness-125":"bg-layer4 text-secondary","btn-like min-w-16 cursor-pointer rounded-lg p-2 text-center text-base font-extrabold transition-all"))),s})()})),o})()};C(["click"]);var U=p('<div class="">'),W=p("<span class=text-primary>"),Y=p('<header class="text-base font-extrabold text-primary lg:text-lg">'),ee=p('<div class="mt-3 flex flex-row flex-wrap rounded-lg lg:-mx-2">'),te=p('<div class="pb-4 pt-4 sm:pt-0">'),re=p('<div class="flex w-full justify-center">');const ae=e=>r(j,{get when(){return v.mobile},get fallback(){return(()=>{var a=U();return n(a,()=>e.children),a})()},get children(){return r(G,{get class(){return b("headless-dialog text-transparent")},get title(){return(()=>{var a=W();return n(a,()=>c("Promotion")),a})()},get children(){return e.children}})}}),oe=e=>{var a;return e.allowListOnly?!0:!((a=e==null?void 0:e.restrictRegion)!=null&&a.some(u=>u===w.areaCode))},le=e=>e.allowListOnly?!0:e.enableLevels?e.enableLevels.includes(w.vipLevel.toString()):!0,Qe=()=>{const e=A(),{isSpHost:a,isBzHost:u}=B.getHostType(v.host),[g]=F(()=>["/home/main/event-list/"],()=>H().get("home/main/event-list/"),{lockLocal:!0,version:1}),[o,m]=q({tab:0,gameType:d.All}),s=Z(()=>{if(!g())return[];const i=[oe,le,t=>o.gameType===d.All||t.participatingGameType===o.gameType,t=>o.tab===0?!t.outDated:t.outDated];return g().eventList.filter(t=>i.every(P=>P(t)))}),f=O(i=>r(N,T(i))),k=[{value:d.All,label:c("All")},{value:d.Casino,label:c("Casino")},{value:d.Sport,label:c("Sport")}];return r(ae,{get children(){var i=te();return n(i,r($,{get when(){return!v.mobile},get children(){var l=Y();return n(l,()=>c("Promotion")),l}}),null),n(i,()=>y.renderEvent("promotionBanner").ui,null),n(i,r($,{when:!a&&!u,get children(){return[r(h,{get value(){return o.tab},class:"mt-3 h-10 w-full rounded-lg sm:w-64",onChange:l=>{m("tab",l)},get children(){return[r(h.TabItem,{class:"hidden h-10 w-12 rounded-none",get title(){return c("Latest Promotion")}}),r(h.TabItem,{class:"hidden h-10",get title(){return c("Archived")}})]}}),r(Q,{class:"mt-3",options:k,get value(){return o.gameType},onChange:l=>{m("gameType",l)}}),(()=>{var l=ee();return n(l,r(J,{get fallback(){return(()=>{var t=re();return n(t,r(R,{type:"empty"})),t})()},get children(){return[D(()=>y.renderEvent("promotionEvents").ui),r(_,{get each(){return s()},children:t=>f({itemTag:t.tag,imgCover:r(K,{class:"absolute bottom-0 top-0 block w-full rounded-md",get src(){return V.darken?t.eventDarkImg:t.eventBgImg},get width(){return v.mobile?1200:800},alt:""}),title:t.title,endTime:t.liveEndTime,inProgress:o.tab===0,onClick:()=>{e(`/promotion/${t.eventCode}`)}})})]}})),l})()]}}),null),i}})};export{Qe as default};
