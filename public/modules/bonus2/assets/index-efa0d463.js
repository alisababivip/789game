var I=(r,e,a)=>new Promise((i,d)=>{var l=o=>{try{s(a.next(o))}catch(m){d(m)}},p=o=>{try{s(a.throw(o))}catch(m){d(m)}},s=o=>o.done?i(o.value):Promise.resolve(o.value).then(l,p);s((a=a.apply(r,e)).next())});import{d as E,f as H,i as n,c as t,t as c,e as v,s as h,a as u,u as L,m as M}from"./i18n-98ba7270.js";import{a8 as O,c as P,B as y,p as f,I as N,A as j,b as V,w as W,P as S,g as R,a as A,D as z,s as D}from"./manifest-04ceac01.js";import{j as U,b as Y,h as q,S as b,e as G,F as J,c as T,a as K}from"./solid-js-9bdbdf5e.js";import{C as w}from"./currency-format-908260ab.js";import{h as Q}from"./http-f69dd5cf.js";import{S as X}from"./sounds-f2d4c5ac.js";import{t as Z}from"./toast-unhandle-error-ca36a565.js";import{s as $,b as ee}from"./index-06e082ac.js";import{A as re}from"./animate-number-18191fb8.js";import{C as te}from"./countdown-b1b7a949.js";var ne=u("<span class=text-brand>+"),le=u('<div><div class="flex h-56 w-56 items-center justify-center"></div><div class="flex w-64 flex-col gap-y-4"><div class="flex h-12 items-center justify-center rounded-lg bg-layer4 text-lg font-extrabold"></div><div class="flex w-full gap-x-1"></div></div><div class="flex w-full flex-col items-center justify-center gap-y-4 rounded-lg bg-layer2 px-4 py-4 text-sm font-semibold text-secondary"><div class="flex h-10 gap-x-1">'),ae=u('<img class="h-10 w-10 object-contain">');const se=r=>{const[e,a]=U(r,["reward","rewardAmount","rewardCurrency","shareConfig","trackId"]),[i,d]=Y(!1),l=()=>{const s=c("Successfully shared");return new Promise((o,m)=>{V.emit("getPublicChatRoomId",x=>I(void 0,null,function*(){if(yield f.confirm(()=>c("Share your luck to the chat room")+"?"))return Q.post("/activity/lucky/spin/share/",{trackId:e.trackId,roomId:x}).then(()=>{W.success(s),o(""),d(!0)}).catch(m)}))}).catch(Z)},[p]=q(()=>e.shareConfig,s=>O(s));return(()=>{var s=le(),o=s.firstChild,m=o.nextSibling,x=m.firstChild,C=x.nextSibling,k=m.nextSibling,F=k.firstChild;return E(s,H(a,{style:{"background-image":"linear-gradient(147deg, #ffa43b -78%, #191a1b05 30%)"},get class(){return P("flex flex-col items-center justify-center gap-y-6 rounded-lg",a.class)}}),!1,!0),n(o,t(b,{get when(){return e.reward},children:g=>g()})),n(x,t(w,{get currencyName(){return e.rewardCurrency},get children(){return t(w.Content,{get children(){return[t(w.Icon,{}),(()=>{var g=ne();return g.firstChild,n(g,t(w.Amount,{get amount(){return e.rewardAmount}}),null),g})()]}})}})),n(C,t(y,{onClick:()=>{X.spinCollect(),f.pop()},type:"brand",class:"flex-grow",get children(){return c("Claim Now")}}),null),n(C,t(y,{type:"second",class:"w-15",onClick:l,get disabled(){return i()},get children(){return t(N,{name:"Share"})}}),null),n(k,()=>c("Share on social media"),F),n(F,t(G,{get children(){return t(J,{get each(){var g;return(g=p())==null?void 0:g.filter(_=>_.url).slice(0,6)},children:g=>t(j,{get href(){return g.url},target:"_blank",rel:"noopener noreferrer",get children(){var _=ae();return v(()=>h(_,"src",g.icon)),_}})})}})),s})()};var ce=u("<div class=-mx-4>"),ie=u('<div class="relative h-full w-full items-center justify-center"><img><img class="absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2">');const oe=r=>{const e=T(()=>{switch(r.spinLevel){case 0:case 1:case 2:return $.lucky_lottery;case 3:case 4:return $.mega_lottery;case 5:return $.super_lottery}}),a=T(()=>{const i=Math.floor(Math.random()*3);return i===0?c("I got free Crypto from __ENV_HOST__ free daily spin! Try your luck now! Free spin to get 5 BTC!"):i===1?c("Wow! I won free crypto from daily free spin at __ENV_HOST__! Try your luck now! Free spin to get 5 BTC!"):c("I got lucky at __ENV_HOST__ free Lucky Spin today! Try your luck now! Free spin to get 5 BTC!")});return t(S,{type:"center",title:null,class:"popup-full w-[21rem]",close:!1,get children(){return[t(y,{onClick:()=>{f.pop()},class:"absolute right-4 top-3",get children(){return t(N,{class:"size-5",name:"Close"})}}),(()=>{var i=ce();return n(i,t(se,{class:"w-full",get shareConfig(){return{title:"Spin",content:a()}},get trackId(){return r.trackId},get rewardAmount(){return r.rewardAmount},get rewardCurrency(){return r.rewardCurrency},get reward(){return(()=>{var d=ie(),l=d.firstChild,p=l.nextSibling;return v(s=>{var o=$.rewardBg,m=e();return o!==s.e&&h(l,"src",s.e=o),m!==s.t&&h(p,"src",s.t=m),s},{e:void 0,t:void 0}),d})()}})),i})()]}})},ue="/modules/bonus2/assets/reward@2x-ff647e9e.png";var de=u('<img class="absolute -top-32 left-1/2 h-[17rem] -translate-x-1/2">'),me=u('<div class="ml-1 inline-block w-0 opacity-0">'),ge=u('<div class="text-3xl font-extrabold text-[#EF9E3F]">'),pe=u('<div class="mt-4 text-center font-semibold">üçª '),fe=u('<div class="mt-[9rem] flex flex-col justify-center"><div class="flex flex-grow flex-col items-center justify-end gap-y-1"><span class="text-xl font-extrabold text-primary"></span><div class="flex items-center gap-x-1">');const he=r=>t(S,{type:"center",class:"popup-full py-4",get title(){return c("Recharge")},get children(){return[(()=>{var e=de();return h(e,"src",ue),e})(),(()=>{var e=fe(),a=e.firstChild,i=a.firstChild,d=i.nextSibling;return n(i,()=>c("Congrats! You got"),null),n(i,t(b,{get when(){return r.doubleBonus},get children(){var l=me();return L(p=>{R.to(p,{delay:1,duration:1,opacity:1,width:"auto",ease:"bounce.out"}),K(()=>{R.killTweensOf(p)})},l),n(l,()=>c("double!")),l}}),null),n(d,t(re,{class:"!text-center text-3xl font-extrabold text-[#EF9E3F]",duration:1500,interval:1e3,get numbers(){return r.amounts},children:l=>A.printCurrency(new z(l),r.currencyName,{target:r.currencyName,hasAlias:!1})})),n(a,t(b,{get when(){return!r.currencyName.endsWith("FIAT")},get children(){var l=ge();return n(l,()=>A.getAlias(r.currencyName)),l}}),null),n(e,t(b,{get when(){return r.doubleBonus},get children(){var l=pe();return l.firstChild,n(l,()=>c("Cheers to you courage!"),null),l}}),null),n(e,t(y,{onClick:()=>f.pop(),class:"mx-4 mt-4",type:"brand",get children(){return c("Confirm")}}),null),e})()]}});var ye=u('<span class="inline-flex bg-clip-text text-3xl font-extrabold uppercase text-transparent">'),xe=u('<img class="absolute -top-20 left-0 -z-10">'),_e=u("<span class=ml-2>"),we=u('<div class="flex h-36 flex-col items-center text-center">'),$e=u('<div class="flex flex-col items-center justify-center gap-y-3 rounded-lg bg-layer3 p-3 font-semibold text-primary"><p class=text-center></p><img class="h-24 rounded-lg box-reflect"><span class="mt-4 text-secondary"> ');const B=r=>(()=>{var e=ye();return e.style.setProperty("background-image","linear-gradient(0deg, #FFF8B4 11.52%, #FFF 21.05%, #FB0 78.95%)"),n(e,()=>r.children),e})(),be=r=>t(S,{get class(){return P("popup-full")},type:"center",get style(){return{"background-color":D.darken?"rgba(41, 45, 46,0.6)":"rgba(255, 255, 255, 0.60)"}},get children(){return[(()=>{var e=xe();return v(()=>h(e,"src",ee.freeSpinRewardBg)),e})(),(()=>{var e=we();return n(e,t(B,{get children(){return[M(()=>r.amount),(()=>{var a=_e();return n(a,()=>c("Free Spins")),a})()]}}),null),n(e,t(B,{get children(){return c("Claimed")}}),null),e})(),(()=>{var e=$e(),a=e.firstChild,i=a.nextSibling,d=i.nextSibling,l=d.firstChild;return n(a,()=>c("Here are __amount__ Free Spins for your Welcome Bonus.",{amount:r.amount})),n(d,()=>c("Expires in"),l),n(d,t(te,{get expiresInMS(){return r.expireTime}}),null),v(()=>h(i,"src",r.gameCover)),e})(),t(j,{get href(){return`/game/${r.gameId}?fsId=${r.fsId}&currency=${r.currency}`},class:"w-full",get children(){return t(y,{onClick:()=>f.pop(),type:"brand",class:"mt-3 w-full",get children(){return c("Play Now")}})}})]}}),Ne=r=>f.push(()=>t(oe,r)),je=r=>new Promise(e=>{f.push(()=>t(he,r),{onClose:e})}),Ee=r=>{f.push(()=>t(be,r))};export{je as a,Ee as b,Ne as p};
