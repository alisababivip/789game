var nt=Object.defineProperty;var ie=Object.getOwnPropertySymbols;var at=Object.prototype.hasOwnProperty,ot=Object.prototype.propertyIsEnumerable;var se=(e,t,r)=>t in e?nt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,B=(e,t)=>{for(var r in t||(t={}))at.call(t,r)&&se(e,r,t[r]);if(ie)for(var r of ie(t))ot.call(t,r)&&se(e,r,t[r]);return e};import{o as it}from"./manifest-04ceac01.js";import{q as st,c as ce,b as ue,r as ct,u as K,h as ut}from"./solid-js-9bdbdf5e.js";import{r as $,b as I,f as ft,S as fe}from"./_baseGetTag-c2e287b9.js";import{a as v,i as P}from"./isArray-79a0be9c.js";import{g as x,i as S,e as z,a as Ce,L as J,M as F,b as lt,t as w}from"./_MapCache-91cc8331.js";function Ee(e){return e}var gt=x($,"WeakMap");const R=gt;var le=Object.create,pt=function(){function e(){}return function(t){if(!S(t))return{};if(le)return le(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();const ht=pt;function bt(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function Fe(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var dt=800,yt=16,Tt=Date.now;function mt(e){var t=0,r=0;return function(){var n=Tt(),a=yt-(n-r);if(r=n,a>0){if(++t>=dt)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function $t(e){return function(){return e}}var vt=function(){try{var e=x(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();const L=vt;var jt=L?function(e,t){return L(e,"toString",{configurable:!0,enumerable:!1,value:$t(t),writable:!0})}:Ee;const At=jt;var Ot=mt(At);const St=Ot;function wt(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}var _t=9007199254740991,Pt=/^(?:0|[1-9]\d*)$/;function Le(e,t){var r=typeof e;return t=t==null?_t:t,!!t&&(r=="number"||r!="symbol"&&Pt.test(e))&&e>-1&&e%1==0&&e<t}function Y(e,t,r){t=="__proto__"&&L?L(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var It=Object.prototype,xt=It.hasOwnProperty;function Ue(e,t,r){var n=e[t];(!(xt.call(e,t)&&z(n,r))||r===void 0&&!(t in e))&&Y(e,t,r)}function M(e,t,r,n){var a=!r;r||(r={});for(var s=-1,o=t.length;++s<o;){var i=t[s],c=n?n(r[i],e[i],i,r,e):void 0;c===void 0&&(c=e[i]),a?Y(r,i,c):Ue(r,i,c)}return r}var ge=Math.max;function Mt(e,t,r){return t=ge(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,s=ge(n.length-t,0),o=Array(s);++a<s;)o[a]=n[t+a];a=-1;for(var i=Array(t+1);++a<t;)i[a]=n[a];return i[t]=r(o),bt(e,this,i)}}function Ct(e,t){return St(Mt(e,t,Ee),e+"")}var Et=9007199254740991;function Be(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Et}function U(e){return e!=null&&Be(e.length)&&!Ce(e)}function Ft(e,t,r){if(!S(r))return!1;var n=typeof t;return(n=="number"?U(r)&&Le(t,r.length):n=="string"&&t in r)?z(r[t],e):!1}function Lt(e){return Ct(function(t,r){var n=-1,a=r.length,s=a>1?r[a-1]:void 0,o=a>2?r[2]:void 0;for(s=e.length>3&&typeof s=="function"?(a--,s):void 0,o&&Ft(r[0],r[1],o)&&(s=a<3?void 0:s,a=1),t=Object(t);++n<a;){var i=r[n];i&&e(t,i,n,s)}return t})}var Ut=Object.prototype;function X(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Ut;return e===r}function Bt(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var Kt="[object Arguments]";function pe(e){return v(e)&&I(e)==Kt}var Ke=Object.prototype,Dt=Ke.hasOwnProperty,Rt=Ke.propertyIsEnumerable,Nt=pe(function(){return arguments}())?pe:function(e){return v(e)&&Dt.call(e,"callee")&&!Rt.call(e,"callee")};const N=Nt;function qt(){return!1}var De=typeof exports=="object"&&exports&&!exports.nodeType&&exports,he=De&&typeof module=="object"&&module&&!module.nodeType&&module,Gt=he&&he.exports===De,be=Gt?$.Buffer:void 0,Vt=be?be.isBuffer:void 0,Wt=Vt||qt;const Q=Wt;var Ht="[object Arguments]",zt="[object Array]",Jt="[object Boolean]",Yt="[object Date]",Xt="[object Error]",Qt="[object Function]",Zt="[object Map]",kt="[object Number]",er="[object Object]",tr="[object RegExp]",rr="[object Set]",nr="[object String]",ar="[object WeakMap]",or="[object ArrayBuffer]",ir="[object DataView]",sr="[object Float32Array]",cr="[object Float64Array]",ur="[object Int8Array]",fr="[object Int16Array]",lr="[object Int32Array]",gr="[object Uint8Array]",pr="[object Uint8ClampedArray]",hr="[object Uint16Array]",br="[object Uint32Array]",p={};p[sr]=p[cr]=p[ur]=p[fr]=p[lr]=p[gr]=p[pr]=p[hr]=p[br]=!0;p[Ht]=p[zt]=p[or]=p[Jt]=p[ir]=p[Yt]=p[Xt]=p[Qt]=p[Zt]=p[kt]=p[er]=p[tr]=p[rr]=p[nr]=p[ar]=!1;function dr(e){return v(e)&&Be(e.length)&&!!p[I(e)]}function Z(e){return function(t){return e(t)}}var Re=typeof exports=="object"&&exports&&!exports.nodeType&&exports,_=Re&&typeof module=="object"&&module&&!module.nodeType&&module,yr=_&&_.exports===Re,D=yr&&ft.process,Tr=function(){try{var e=_&&_.require&&_.require("util").types;return e||D&&D.binding&&D.binding("util")}catch(t){}}();const O=Tr;var de=O&&O.isTypedArray,mr=de?Z(de):dr;const Ne=mr;var $r=Object.prototype,vr=$r.hasOwnProperty;function qe(e,t){var r=P(e),n=!r&&N(e),a=!r&&!n&&Q(e),s=!r&&!n&&!a&&Ne(e),o=r||n||a||s,i=o?Bt(e.length,String):[],c=i.length;for(var u in e)(t||vr.call(e,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Le(u,c)))&&i.push(u);return i}function Ge(e,t){return function(r){return e(t(r))}}var jr=Ge(Object.keys,Object);const Ar=jr;var Or=Object.prototype,Sr=Or.hasOwnProperty;function wr(e){if(!X(e))return Ar(e);var t=[];for(var r in Object(e))Sr.call(e,r)&&r!="constructor"&&t.push(r);return t}function k(e){return U(e)?qe(e):wr(e)}function _r(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var Pr=Object.prototype,Ir=Pr.hasOwnProperty;function xr(e){if(!S(e))return _r(e);var t=X(e),r=[];for(var n in e)n=="constructor"&&(t||!Ir.call(e,n))||r.push(n);return r}function C(e){return U(e)?qe(e,!0):xr(e)}function Ve(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var Mr=Ge(Object.getPrototypeOf,Object);const ee=Mr;var Cr="[object Object]",Er=Function.prototype,Fr=Object.prototype,We=Er.toString,Lr=Fr.hasOwnProperty,Ur=We.call(Object);function te(e){if(!v(e)||I(e)!=Cr)return!1;var t=ee(e);if(t===null)return!0;var r=Lr.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&We.call(r)==Ur}function Br(){this.__data__=new J,this.size=0}function Kr(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function Dr(e){return this.__data__.get(e)}function Rr(e){return this.__data__.has(e)}var Nr=200;function qr(e,t){var r=this.__data__;if(r instanceof J){var n=r.__data__;if(!F||n.length<Nr-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new lt(n)}return r.set(e,t),this.size=r.size,this}function j(e){var t=this.__data__=new J(e);this.size=t.size}j.prototype.clear=Br;j.prototype.delete=Kr;j.prototype.get=Dr;j.prototype.has=Rr;j.prototype.set=qr;function Gr(e,t){return e&&M(t,k(t),e)}function Vr(e,t){return e&&M(t,C(t),e)}var He=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ye=He&&typeof module=="object"&&module&&!module.nodeType&&module,Wr=ye&&ye.exports===He,Te=Wr?$.Buffer:void 0,me=Te?Te.allocUnsafe:void 0;function ze(e,t){if(t)return e.slice();var r=e.length,n=me?me(r):new e.constructor(r);return e.copy(n),n}function Hr(e,t){for(var r=-1,n=e==null?0:e.length,a=0,s=[];++r<n;){var o=e[r];t(o,r,e)&&(s[a++]=o)}return s}function Je(){return[]}var zr=Object.prototype,Jr=zr.propertyIsEnumerable,$e=Object.getOwnPropertySymbols,Yr=$e?function(e){return e==null?[]:(e=Object(e),Hr($e(e),function(t){return Jr.call(e,t)}))}:Je;const re=Yr;function Xr(e,t){return M(e,re(e),t)}var Qr=Object.getOwnPropertySymbols,Zr=Qr?function(e){for(var t=[];e;)Ve(t,re(e)),e=ee(e);return t}:Je;const Ye=Zr;function kr(e,t){return M(e,Ye(e),t)}function Xe(e,t,r){var n=t(e);return P(e)?n:Ve(n,r(e))}function en(e){return Xe(e,k,re)}function tn(e){return Xe(e,C,Ye)}var rn=x($,"DataView");const q=rn;var nn=x($,"Promise");const G=nn;var an=x($,"Set");const V=an;var ve="[object Map]",on="[object Object]",je="[object Promise]",Ae="[object Set]",Oe="[object WeakMap]",Se="[object DataView]",sn=w(q),cn=w(F),un=w(G),fn=w(V),ln=w(R),m=I;(q&&m(new q(new ArrayBuffer(1)))!=Se||F&&m(new F)!=ve||G&&m(G.resolve())!=je||V&&m(new V)!=Ae||R&&m(new R)!=Oe)&&(m=function(e){var t=I(e),r=t==on?e.constructor:void 0,n=r?w(r):"";if(n)switch(n){case sn:return Se;case cn:return ve;case un:return je;case fn:return Ae;case ln:return Oe}return t});const ne=m;var gn=Object.prototype,pn=gn.hasOwnProperty;function hn(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&pn.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var bn=$.Uint8Array;const we=bn;function ae(e){var t=new e.constructor(e.byteLength);return new we(t).set(new we(e)),t}function dn(e,t){var r=t?ae(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var yn=/\w*$/;function Tn(e){var t=new e.constructor(e.source,yn.exec(e));return t.lastIndex=e.lastIndex,t}var _e=fe?fe.prototype:void 0,Pe=_e?_e.valueOf:void 0;function mn(e){return Pe?Object(Pe.call(e)):{}}function Qe(e,t){var r=t?ae(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var $n="[object Boolean]",vn="[object Date]",jn="[object Map]",An="[object Number]",On="[object RegExp]",Sn="[object Set]",wn="[object String]",_n="[object Symbol]",Pn="[object ArrayBuffer]",In="[object DataView]",xn="[object Float32Array]",Mn="[object Float64Array]",Cn="[object Int8Array]",En="[object Int16Array]",Fn="[object Int32Array]",Ln="[object Uint8Array]",Un="[object Uint8ClampedArray]",Bn="[object Uint16Array]",Kn="[object Uint32Array]";function Dn(e,t,r){var n=e.constructor;switch(t){case Pn:return ae(e);case $n:case vn:return new n(+e);case In:return dn(e,r);case xn:case Mn:case Cn:case En:case Fn:case Ln:case Un:case Bn:case Kn:return Qe(e,r);case jn:return new n;case An:case wn:return new n(e);case On:return Tn(e);case Sn:return new n;case _n:return mn(e)}}function Ze(e){return typeof e.constructor=="function"&&!X(e)?ht(ee(e)):{}}var Rn="[object Map]";function Nn(e){return v(e)&&ne(e)==Rn}var Ie=O&&O.isMap,qn=Ie?Z(Ie):Nn;const Gn=qn;var Vn="[object Set]";function Wn(e){return v(e)&&ne(e)==Vn}var xe=O&&O.isSet,Hn=xe?Z(xe):Wn;const zn=Hn;var Jn=1,Yn=2,Xn=4,ke="[object Arguments]",Qn="[object Array]",Zn="[object Boolean]",kn="[object Date]",ea="[object Error]",et="[object Function]",ta="[object GeneratorFunction]",ra="[object Map]",na="[object Number]",tt="[object Object]",aa="[object RegExp]",oa="[object Set]",ia="[object String]",sa="[object Symbol]",ca="[object WeakMap]",ua="[object ArrayBuffer]",fa="[object DataView]",la="[object Float32Array]",ga="[object Float64Array]",pa="[object Int8Array]",ha="[object Int16Array]",ba="[object Int32Array]",da="[object Uint8Array]",ya="[object Uint8ClampedArray]",Ta="[object Uint16Array]",ma="[object Uint32Array]",g={};g[ke]=g[Qn]=g[ua]=g[fa]=g[Zn]=g[kn]=g[la]=g[ga]=g[pa]=g[ha]=g[ba]=g[ra]=g[na]=g[tt]=g[aa]=g[oa]=g[ia]=g[sa]=g[da]=g[ya]=g[Ta]=g[ma]=!0;g[ea]=g[et]=g[ca]=!1;function E(e,t,r,n,a,s){var o,i=t&Jn,c=t&Yn,u=t&Xn;if(r&&(o=a?r(e,n,a,s):r(e)),o!==void 0)return o;if(!S(e))return e;var f=P(e);if(f){if(o=hn(e),!i)return Fe(e,o)}else{var l=ne(e),h=l==et||l==ta;if(Q(e))return ze(e,i);if(l==tt||l==ke||h&&!a){if(o=c||h?{}:Ze(e),!i)return c?kr(e,Vr(o,e)):Xr(e,Gr(o,e))}else{if(!g[l])return a?e:{};o=Dn(e,l,i)}}s||(s=new j);var b=s.get(e);if(b)return b;s.set(e,o),zn(e)?e.forEach(function(d){o.add(E(d,t,r,d,e,s))}):Gn(e)&&e.forEach(function(d,T){o.set(T,E(d,t,r,T,e,s))});var A=u?c?tn:en:c?C:k,oe=f?void 0:A(e);return wt(oe||e,function(d,T){oe&&(T=d,d=e[T]),Ue(o,T,E(d,t,r,T,e,s))}),o}var $a=1,va=4;function ja(e){return E(e,$a|va)}function Aa(e){return function(t,r,n){for(var a=-1,s=Object(t),o=n(t),i=o.length;i--;){var c=o[e?i:++a];if(r(s[c],c,s)===!1)break}return t}}var Oa=Aa();const Sa=Oa;function W(e,t,r){(r!==void 0&&!z(e[t],r)||r===void 0&&!(t in e))&&Y(e,t,r)}function wa(e){return v(e)&&U(e)}function H(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}function _a(e){return M(e,C(e))}function Pa(e,t,r,n,a,s,o){var i=H(e,r),c=H(t,r),u=o.get(c);if(u){W(e,r,u);return}var f=s?s(i,c,r+"",e,t,o):void 0,l=f===void 0;if(l){var h=P(c),b=!h&&Q(c),A=!h&&!b&&Ne(c);f=c,h||b||A?P(i)?f=i:wa(i)?f=Fe(i):b?(l=!1,f=ze(c,!0)):A?(l=!1,f=Qe(c,!0)):f=[]:te(c)||N(c)?(f=i,N(i)?f=_a(i):(!S(i)||Ce(i))&&(f=Ze(c))):l=!1}l&&(o.set(c,f),a(f,c,n,s,o),o.delete(c)),W(e,r,f)}function rt(e,t,r,n,a){e!==t&&Sa(t,function(s,o){if(a||(a=new j),S(s))Pa(e,t,o,r,rt,n,a);else{var i=n?n(H(e,o),s,o+"",e,t,a):void 0;i===void 0&&(i=s),W(e,o,i)}},C)}var Ia=Lt(function(e,t,r,n){rt(e,t,r,n)});const Me=Ia;class xa{constructor(t,r="Bonus-LRU",n=localStorage){this.limit=t,this.storageKey=r,this.storage=n,this.limit=t,this.cache=new Map,this.storageKey=r;const a=this.storage.getItem(this.storageKey);a&&(this.cache=new Map(JSON.parse(a)))}get length(){return this.cache.size}key(t){return Array.from(this.cache.keys())[t]||null}getItem(t){if(!this.cache.has(t))return null;const r=this.cache.get(t);return this.cache.delete(t),this.cache.set(t,r),this._persistToStorage(),r}setItem(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.limit){const n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(t,r),this._persistToStorage()}removeItem(t){this.cache.has(t)&&(this.cache.delete(t),this._persistToStorage())}clear(){this.cache.clear(),this.storage.removeItem(this.storageKey)}_persistToStorage(){this.storage.setItem(this.storageKey,JSON.stringify([...this.cache]))}}function Ma(e){return JSON.stringify(e,(t,r)=>te(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}const Ca=new xa(10,"Bonus_Resource_LRU "),y={};class Da{constructor(t=st()){this.serviceId=t}refetchResource(t,r){return Promise.all(Object.entries(y).map(([n,a])=>{const s=a.queryKey,o=(c,u)=>{function f(l,h){return l===h?!0:typeof l!=typeof h?!1:l&&h&&typeof l=="object"&&typeof h=="object"?!Object.keys(l).some(b=>!f(l[b],h[b])):!1}return!!f(c,u)},i=r&&r.staleTime!==void 0?Date.now()-a.cacheTime>r.staleTime:!0;if(o([this.serviceId,t],[this.serviceId,...s])&&i){const[c,{refetch:u,mutate:f}]=a.resource;if(r!=null&&r.mutateOnly){if(a.queryFn)return Promise.resolve(a.queryFn()).then(l=>{a.cacheTime=Date.now(),f(l)})}else return u()}}))}createSharedResource(t,r){const n=ce(()=>{const u=t();return B({mergeInitialData:!0},u)}),a=ce(()=>Ma([...n().queryKey])),s=u=>{if(y[u])return y[u].resource;const f=ut(()=>{var l,h;return(h=(l=r==null?void 0:r.enable)==null?void 0:l.call(r))!=null?h:!0},(...l)=>{var h,b;return Promise.resolve((b=(h=n()).queryFn)==null?void 0:b.call(h,...l)).then(A=>(y[u].cacheTime=Date.now(),A))},{initialValue:n().initialData,storage:r!=null&&r.persisted?()=>it(ue([]),{name:u,storage:Ca}):void 0});return y[u]={resource:f,queryFn:n().queryFn,queryKey:n().queryKey,cacheTime:Date.now()},f},[o,i]=ue(s(a()));ct(u=>{const f=a();return u!==f&&i(s(f)),f},a());function c(){const u=o()[0]();return K(()=>{const f=n();if(f.mergeInitialData&&f.initialData){const l=(h,b)=>te(h)?Me(B({},h),b,l):b!=null?b:h;return Me(ja(n().initialData),u,l)}return u})}return Object.defineProperties(c,{state:{get:()=>o()[0].state},error:{get:()=>o()[0].error},loading:{get(){return o()[0].loading}},latest:{get(){return o()[0].latest}}}),[c,{get mutate(){return K(o)[1].mutate},get refetch(){return K(o)[1].refetch}}]}}const Ra=()=>{for(const e in y)y.hasOwnProperty(e)&&delete y[e]};export{en as A,Da as B,Fe as C,V as S,we as U,Hr as a,Y as b,te as c,Q as d,Ne as e,N as f,ne as g,X as h,U as i,wr as j,k,Ee as l,Ra as m,Lt as n,rt as o,Ve as p,Mt as q,Sa as r,St as s,M as t,tn as u,E as v,j as w,Be as x,Le as y,Ft as z};
