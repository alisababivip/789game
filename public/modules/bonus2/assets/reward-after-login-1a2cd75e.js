var x=(e,l,t)=>new Promise((s,o)=>{var a=r=>{try{n(t.next(r))}catch(m){o(m)}},u=r=>{try{n(t.throw(r))}catch(m){o(m)}},n=r=>r.done?s(r.value):Promise.resolve(r.value).then(a,u);n((t=t.apply(e,l)).next())});import{c as g,u as h,e as v,s as _,i as c,a as w,t as i}from"./i18n-98ba7270.js";import{g as f,P as N,a as R,D as T,B,u as U,ap as I,i as p,a7 as C,p as d,b as y,ao as P,w as O}from"./manifest-04ceac01.js";import{o as D,a as F,t as z,h as M,s as j,w as E}from"./solid-js-9bdbdf5e.js";import{c as G}from"./createHasNewUserSpin-e6190363.js";import{b as $}from"./index-c704ae69.js";import{h as k}from"./http-f69dd5cf.js";import{S as H}from"./sounds-f2d4c5ac.js";import{s as S}from"./index-06e082ac.js";var L=w('<img class="absolute -left-10 -top-24 -z-10 w-[31rem] max-w-max opacity-75"alt="">'),W=w('<div class="-m-4 h-[21rem]"><div class="absolute inset-0 z-0 flex h-[21rem] min-w-[24rem] flex-col items-center justify-center gap-y-2 rounded-lg bg-layer2 px-3 py-6"><img class="absolute -top-10 left-0 -z-10 size-[26rem]"><h3 class="text-2xl font-extrabold text-alw_white"></h3><p class="text-base font-semibold text-secondary"></p><div class="my-8 flex flex-col items-center"><p class="bg-gradient-to-b from-[#FFA600] to-[#FFE47B] bg-clip-text pr-1 text-5xl font-extrabold italic text-transparent"></p></div><div class="w-full px-6">');const A=e=>{let l;return D(()=>{f.fromTo(l,{scale:.8},{scale:1.1,ease:"back.inOut",duration:.8})}),g(N,{class:"popup-full",get children(){return[(()=>{var t=L();return h(s=>{f.to(s,{rotateZ:360,duration:4,ease:"none",repeat:1/0}),F(()=>{f.killTweensOf(s)})},t),v(()=>_(t,"src",S.gold_bg)),t})(),(()=>{var t=W(),s=t.firstChild,o=s.firstChild,a=o.nextSibling,u=a.nextSibling,n=u.nextSibling,r=n.firstChild,m=n.nextSibling;s.style.setProperty("background-image","radial-gradient(rgba(242,187,47,.2),#191A1B00 80%)");var b=l;return typeof b=="function"?h(b,o):l=o,c(a,()=>e.title),c(u,()=>e.desc),r.style.setProperty("filter","drop-shadow(2px 2px 0 #C55B1A)"),c(r,()=>R.printCurrency(new T(e.amount),e.currencyName,{target:e.currencyName,hasAlias:!0})),c(m,g(B,{get onClick(){return e.onButtonClick},type:"brand",class:"w-full",get children(){return e.actionText}})),v(()=>_(o,"src",S.gold)),t})()]}})};var Y=w('<p class="flex flex-col gap-y-1 font-semibold"><span>');const Z=e=>{const l=U(),t=I(()=>Z(e));z(()=>{if(p.login){const{disabledAutoSpin:s}=G(),[o]=M(()=>x(void 0,null,function*(){const a=yield k.post("/activity/reward/freeMoneyReward/",{currencyName:e.currency,bonusAmount:e.amount});return(a.state===0||a.rewardId)&&(yield k.post(`/activity/reward/receive/${a.rewardId}/`),yield j(()=>{$.refetchResource($.checkUserClaimedFreeMoney.name)})),a}));s(),C(()=>o()).then(a=>{a.state===0&&a.rewardId?d.push(()=>g(A,{get amount(){return e.amount},get currencyName(){return e.currency},get title(){return i("Rewards Claimed")},get desc(){return i("Use this bonus wallet to play games now!")},get actionText(){return i("Play")},onButtonClick:()=>{y.emit("sensorsTrack",{event:"free_play_click"}),d.pop(),y.emit("open-free-gamelist"),e.currency&&P(e.currency,"display",!0)}})):O(()=>(()=>{var n=Y(),r=n.firstChild;return c(n,()=>i("Oh no! It appears somebody has already opened an account on your device/IP."),r),c(r,()=>i("Unfortunately, you are not eligible to receive the welcome reward, but don’t worry there are more rewards to come!")),n})(),{duration:0})})}else d.push(()=>g(A,{get amount(){return e.amount},get title(){return i("CONGRATULATIONS")},get desc(){return i("You’ve got free money to bet on our games!")},get actionText(){return i("Claim Rewards")},onButtonClick:()=>{y.emit("sensorsTrack",{event:"spin_reward_click",currency:e.currency}),H.spinCollect(),d.pop(),p.login||l("/login/regist"),C(()=>p.login===!0).then(t)},get currencyName(){return e.currency}}))},E())};export{Z as p};
