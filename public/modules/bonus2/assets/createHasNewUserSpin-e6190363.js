var u=(e,r,i)=>new Promise((n,a)=>{var o=t=>{try{s(i.next(t))}catch(p){a(p)}},c=t=>{try{s(i.throw(t))}catch(p){a(p)}},s=t=>t.done?n(t.value):Promise.resolve(t.value).then(o,c);s((i=i.apply(e,r)).next())});import{ad as S,p as g,l as h,e as d,o as m,i as l}from"./manifest-04ceac01.js";import{c as b}from"./i18n-98ba7270.js";import{h as y,b as f,c as _}from"./solid-js-9bdbdf5e.js";import{h as w}from"./http-f69dd5cf.js";import{b as U}from"./index-c704ae69.js";import{b as A}from"./types-40e55d46.js";import{f as N,F as v}from"./feature-gating-67e4e35a.js";const D=()=>u(void 0,null,function*(){const e=yield S(()=>import("./new-user-spin-d829f3b0.js"),["assets/new-user-spin-d829f3b0.js","assets/i18n-98ba7270.js","assets/manifest-04ceac01.js","assets/router-64ab6322.js","assets/solid-js-9bdbdf5e.js","assets/currency-format-908260ab.js","assets/_baseGetTag-c2e287b9.js","assets/isArray-79a0be9c.js","assets/index-049e48aa.js","assets/table-92260ac5.js","assets/index-06e082ac.js","assets/index-973e425f.js","assets/http-f69dd5cf.js","assets/baseService-11f77762.js","assets/_MapCache-91cc8331.js","assets/index-2951bcbe.js","assets/center-loading-8e21230b.js","assets/sounds-f2d4c5ac.js","assets/_commonjsHelpers-5e4564a3.js","assets/animate-number-18191fb8.js","assets/last-862de5a8.js","assets/empty-placeholder-ec08ec25.js","assets/index-b3ef434e.js","assets/reward-after-login-1a2cd75e.js","assets/index-c704ae69.js","assets/_arrayMap-2bcec0e7.js","assets/types-40e55d46.js","assets/feature-gating-67e4e35a.js","assets/helpers-6d4813f3.js","assets/utils-64298f05.js","assets/vip-e3f3cfef.js"]);yield e.preloadAssets();const r=e.NewUserSpin;return g.push(()=>b(r,{}))}),{isNgHost:C,isIdHost:E}=h.getHostType(d.host),R=d.initSearchParams.get("spin"),T=()=>R?"A":E||C?"B":Math.random()>.5?"A":"B",[F]=y(()=>w.get("/account/device/isRegistered")),I=()=>{const[e,r]=m(f(""),{name:"before-user-login-type",serialize:s=>s,deserialize:s=>s});e()||r(T());const[i,n]=m(f(!1),{name:"user-new-spin-finished"}),[a]=U.checkUserClaimedFreeMoney({enable:()=>l.login}),o=_(()=>N.isEnabled(v.NEW_USER)?l.login?a.loading?!1:a()===A.UnClaimed:F()?!1:e()==="A":!1);return{hasSpin:o,autoSpin:()=>o()&&!i(),disabledAutoSpin:()=>n(!0)}};export{I as c,D as p};
