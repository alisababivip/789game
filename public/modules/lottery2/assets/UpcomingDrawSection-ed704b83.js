var M=Object.defineProperty,W=Object.defineProperties;var q=Object.getOwnPropertyDescriptors;var B=Object.getOwnPropertySymbols;var J=Object.prototype.hasOwnProperty,K=Object.prototype.propertyIsEnumerable;var N=(e,r,a)=>r in e?M(e,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[r]=a,v=(e,r)=>{for(var a in r||(r={}))J.call(r,a)&&N(e,a,r[a]);if(B)for(var a of B(r))K.call(r,a)&&N(e,a,r[a]);return e},_=(e,r)=>W(e,q(r));var D=(e,r,a)=>new Promise((l,g)=>{var n=s=>{try{b(a.next(s))}catch(t){g(t)}},u=s=>{try{b(a.throw(s))}catch(t){g(t)}},b=s=>s.done?l(s.value):Promise.resolve(s.value).then(n,u);b((a=a.apply(e,r)).next())});import{e as Q,c as m,S as L,a as p,t as k,f as F,u as X,i as c,g as Y,h as Z,s as ee,k as te}from"./solid-js-70bd6971.js";import{u as ae}from"./currency-6a152bcf.js";import{r as P,c as w}from"./index-23821d05.js";import{c as re}from"./CountryAvatar-e226564d.js";import{g as ie,M as ne,e as $,u as le,h as se,y as oe,i as A,B as de,f as ce,s as me}from"./manifest-696d4baa.js";import{f}from"./lottery-5d083afe.js";import{t as S}from"./i18n-748f9a35.js";import{t as ge}from"./throttle-e4f3954e.js";import"./countries-88ede35b.js";import"./debounce-f7740f4e.js";import"./isObject-909534d5.js";import"./toNumber-e58af95e.js";var ue=k('<div class="bet-closed text-primary text-sm font-semibold text-center">Closed'),be=k('<section><div class="upcoming-draw-item-logo-box w-20 h-20 absolute top-0 right-0 flex items-center justify-center rounded-[50%] translate-x-1/4 -translate-y-1/4 bg-layer2"></div><div class="bet-address h-10 text-primary text-sm font-semibold w-8/12 line-clamp-2 text-ellipsis"></div><div class="text-primary text-lg italic font-extrabold mt-1"></div><div class="h-px bg-[rgba(153,164,176,0.2)] m-0 my-2"></div><div class="text-secondary text-xs font-semibold"></div><div class="bet-next-draw-date mt-2 mb-3 flex justify-between"><span class="w-[calc(33.3%-8px)] h-6 inline-flex items-center justify-center rounded text-sm font-semibold bg-black_alpha10">h</span><label class="w-3 flex items-center justify-center">:</label><span class="bet-date w-[calc(33.3%-8px)] h-6 inline-flex items-center justify-center rounded text-sm font-semibold bg-black_alpha10 ">m</span><label class="w-3 flex items-center justify-center">:</label><span class="w-[calc(33.3%-8px)] h-6 inline-flex items-center justify-center rounded text-sm font-semibold bg-black_alpha10">s'),fe=k("<div>");const ye=function(e){if(!e.data)return"";const r=le(),a=ae(),l=se(()=>e.data.drawTime);let g;const n={},u=oe({threshold:.5})(()=>g);F(()=>{u()&&!n[e.data.id]&&(A.emit("sensorsTrack",_(v({event:"lottery_show"},P(e.data,["id"])),{item_type:"lottery",item_id:e.data.id,module_sort:e.itemIndex,lottery_id:e.data.id,lottery_name:e.data.name})),n[e.data.id]=e.data.id)},u());const b=t=>{r(`/lottery/detail/${t.id}`),A.emit("sensorsTrack",_(v({event:"lottery_click"},P(t,["id"])),{lottery_id:t.id,lottery_name:t.name,item_type:"lottery",item_id:t.id}))},s=t=>{const o=me.darken?"#323738":"#FFF";let d=`linear-gradient(180deg, rgba(244, 62, 139, 0.00) 0%, rgba(244, 62, 139, 0.60) 100%), ${o}`;return t%5===0?d=`linear-gradient(180deg, rgba(244, 62, 139, 0.00) 0%, rgba(244, 62, 139, 0.60) 100%), ${o}`:t%5===1?d=`linear-gradient(180deg, rgba(244, 182, 62, 0.00) 0%, rgba(244, 182, 62, 0.60) 100%), ${o}`:t%5===2?d=`linear-gradient(180deg, rgba(230, 246, 44, 0.00) 0%, rgba(230, 246, 44, 0.60) 100%), ${o}`:t%5===3?d=`linear-gradient(180deg, rgba(44, 246, 89, 0.00) 0%, rgba(44, 246, 89, 0.60) 100%), ${o}`:t%5===4&&(d=`linear-gradient(180deg, rgba(44, 125, 246, 0.00) 0%, rgba(44, 125, 246, 0.60) 100%), ${o}`),d};return F(()=>{f(l())&&e.timeBack()}),m(L,{get children(){var t=be(),o=t.firstChild,d=o.nextSibling,C=d.nextSibling,V=C.nextSibling,j=V.nextSibling,z=j.nextSibling,y=z.firstChild,O=y.firstChild,R=y.nextSibling,x=R.nextSibling,U=x.firstChild,G=x.nextSibling,E=G.nextSibling,H=E.firstChild;return t.$$click=()=>b(e.data),X(i=>g=i,t),c(o,m(re,{get country(){return e.data.id==="0"?"Bc":e.data.country}})),c(d,()=>e.data.name),c(C,()=>a(e.data.topPrize)),c(j,()=>S("Next Draw Starts in")),c(y,()=>{var i;return w((i=l())==null?void 0:i.hours)},O),c(x,()=>{var i;return w((i=l())==null?void 0:i.minutes)},U),c(E,()=>{var i;return w((i=l())==null?void 0:i.seconds)},H),c(t,m(p,{get when(){return!f(l())},get children(){return m(de,{type:"brand",class:"bet-btn text-white rounded-lg w-full h-9",get children(){return S("Bet Now")}})}}),null),c(t,m(p,{get when(){return f(l())},get children(){return ue()}}),null),Y(i=>{var I=ce("lotterySectionItemStyleWrap relative flex flex-col justify-between to w-full rounded-xl p-3 text-primary overflow-hidden cursor-pointer",f(l())&&"grayscale"),h=s(e.itemIndex||0),T=e.data.id;return I!==i.e&&Z(t,i.e=I),h!==i.t&&((i.t=h)!=null?t.style.setProperty("background",h):t.style.removeProperty("background")),T!==i.a&&ee(t,"id",i.a=T),i},{e:void 0,t:void 0,a:void 0}),t}})};function Te(e){const r=Array(6).fill({id:"0",name:S("__ENV_SITE__ Lottery"),topPrize:1e5,hours:0,minutes:0,seconds:0}),[a,{refetch:l}]=Q(()=>D(this,null,function*(){const n="/platform-lottery/lottery-info/list-upcoming";return ie().get(n).catch(u=>console.log)}),{initialValue:r}),g=ge(function(){l()},3e3);return m(L,{get children(){return m(ne,{get class(){return`${$.mobile?"-mx-4":"mx-0"} gap-2 grid-col-2`},get style(){return{"--grid-gap":".5rem","--grid-padding":$.mobile?"1rem":"0px","--aspect-ratio":$.mobile?.88:1}},ref:n=>{e.callback&&e.callback(n)},get data(){return a()},children:(n,u)=>m(p,{get when(){return n()},get fallback(){return fe()},get children(){return m(ye,{get data(){return n()},timeBack:g,get itemIndex(){return u()}})}})})}})}te(["click"]);export{Te as default};
