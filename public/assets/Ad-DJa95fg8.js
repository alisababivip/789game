import{a1 as m,F as o,v as e,k as x,Y as S,b as u,l as $,S as k,P as T,d as I,a0 as f,p as _,o as P}from"./vendor-DPHX6XRs.js";import{I as C,u as z,e as d,h as R,a as A,a9 as B,ah as M,K as V,Q as E,B as v,k as b,b as Q}from"./common-CGW8ip2_.js";import{t as g,M as D,T as H}from"./index-CYisxgcc.js";const O="/assets/open-guide-CmBQEUSQ.png",Y="/assets/shield-CBfdtNAP.png",K="/assets/shield_w-C25Od6mI.png";var L=f('<div class="left-0 top-0 overflow-hidden fixed z-1000 h-screen w-screen bg-alw_dark/90"><div class="relative mt-10 pl-4 mx-auto w-11/12"><img alt="open guide"><div class="absolute bottom-0 mt-4 flex h-24 w-full items-center p-4 pr-12"><div class=text-center>Click the top-right corner, select “<span class=text-brand>open in browser</span>”,and claim your free spin bonus!</div></div></div><div class="flex justify-center pt-6">'),U=f('<img class="h-auto w-4.5 pr-1.5"alt="">'),j=f('<div class="left-0 flex w-full gap-x-4 border-b border-solid p-4 fixed bottom-18 z-100 mb-sb min-h-18 max-w-[640px] items-start border-third bg-layer1 sm:bottom-8 sm:left-8 sm:rounded-lg sm:border-none lg:w-fit"><div class="flex items-center gap-x-2"><div class="flex shrink-0"><img alt=""class="h-auto w-7"></div><div class="leading-tight flex-grow"><p class="text-sm leading-5 text-wrap lg:w-96"></p><div class="flex gap-2 pt-2"></div></div></div><div class="flex items-start">'),F=f('<div><div class=w-full><img class="mx-auto w-56"alt=""><div class="text-center text-secondary -mt-10 px-5 pb-5"></div><div class="flex flex-col gap-2"><div class="flex w-full cursor-pointer items-center gap-2 rounded-lg border p-3 border-white_alpha5 bg-third hover:bg-layer4"><div class=w-6><img class=w-full alt=""></div><div></div></div><div class=h-2>');function G(){const[r,i]=u(!0);return _(()=>_(()=>!!r())()?(()=>{var t=L(),s=t.firstChild,l=s.firstChild,a=s.nextSibling;return m(l,"src",O),o(a,e(v,{onClick:()=>{i(!1)},class:"px-6",size:"s",type:"brand",children:"Close"})),t})():null)}const N=r=>{const i=()=>{window.open(`https://bcgame.com?verify_link=${window.location.hostname}`)};let t;return $(()=>{t=setTimeout(()=>{r.onClose()},3e4)}),P(()=>{t&&clearTimeout(t)}),(()=>{var s=j(),l=s.firstChild,a=l.firstChild,n=a.firstChild,c=a.nextSibling,p=c.firstChild,h=p.nextSibling,y=l.nextSibling;return m(n,"src",Y),o(p,()=>g("This site is an official BC Game mirror! You can verify with options below:")),o(h,e(v,{class:"text-xs px-6",size:"xs",type:"brand",onClick:i,get children(){return[(()=>{var w=U();return x(()=>m(w,"src",b.assets("/logo/logo_small_pure.png"))),w})(),_(()=>g("Verify by __domain__",{domain:"bcgame.com"}))]}})),o(y,e(v,{get onClick(){return r.onClose},class:"!p-0",size:"xs",get children(){return e(C,{name:"Close",class:"size-5 text-secondary"})}})),s})()};function W(){const r=i=>{window.open(`https://bcgame.com?verify_link=${window.location.hostname}`)};return(()=>{var i=F(),t=i.firstChild,s=t.firstChild,l=s.nextSibling,a=l.nextSibling,n=a.firstChild,c=n.firstChild,p=c.firstChild,h=c.nextSibling;return m(s,"src",K),o(l,()=>g("Verify if this site is our official site using the options below")),n.$$click=()=>r(),o(h,()=>g("Verify by __domain__",{domain:"bcgame.com"})),o(n,e(C,{name:"Arrow",class:"ml-auto size-5 rotate-180 text-secondary"}),null),x(()=>m(p,"src",Q.darken?b.assets("/logo/logo_small.png"):b.assets("/logo/logo_small_w.png"))),i})()}function Z(){const r=S(),{isSpHost:i}=z.getHostType(d.host),t=i||d.host==="bc.game"||d.isAPP||d.isDev,s=H(),[l,a]=u(!1),[n,c]=R(u(t),{name:"ignore_mirrors_check",storage:localStorage});return A.on("verify_site",()=>{B.push(()=>e(M,{get title(){return g("Verify This Site")},get children(){return e(W,{})}}))}),$(()=>{n()||setTimeout(()=>{a(!0)},2e3)}),[s&&e(G,{}),e(T,{get children(){return e(V,{get name(){return d.mobile?"slideUp":"slideLeft"},get children(){return e(E,{priority:D,get children(){return e(k,{get when(){return!n()&&l()&&r.pathname==="/"},get children(){return e(N,{onClose:()=>{c(!0)}})}})}})}})}})]}I(["click"]);export{W as VerifyThisSite,Z as default};
